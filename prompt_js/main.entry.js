(function(si){typeof define=="function"&&define.amd?define(si):si()})(function(){"use strict";var J7=Object.defineProperty;var Z7=(si,Et,ai)=>Et in si?J7(si,Et,{enumerable:!0,configurable:!0,writable:!0,value:ai}):si[Et]=ai;var iC=(si,Et,ai)=>(Z7(si,typeof Et!="symbol"?Et+"":Et,ai),ai);/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function si(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Et={},ai=[],qn=()=>{},rC=()=>!1,Ja=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lc=e=>e.startsWith("onUpdate:"),fn=Object.assign,uc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},oC=Object.prototype.hasOwnProperty,kt=(e,t)=>oC.call(e,t),Xe=Array.isArray,Eo=e=>Os(e)==="[object Map]",Ao=e=>Os(e)==="[object Set]",Gp=e=>Os(e)==="[object Date]",st=e=>typeof e=="function",zt=e=>typeof e=="string",Ii=e=>typeof e=="symbol",Ft=e=>e!==null&&typeof e=="object",zp=e=>(Ft(e)||st(e))&&st(e.then)&&st(e.catch),qp=Object.prototype.toString,Os=e=>qp.call(e),sC=e=>Os(e).slice(8,-1),Yp=e=>Os(e)==="[object Object]",cc=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Is=si(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},aC=/-(\w)/g,Ci=Za(e=>e.replace(aC,(t,n)=>n?n.toUpperCase():"")),lC=/\B([A-Z])/g,mr=Za(e=>e.replace(lC,"-$1").toLowerCase()),Qa=Za(e=>e.charAt(0).toUpperCase()+e.slice(1)),fc=Za(e=>e?`on${Qa(e)}`:""),vr=(e,t)=>!Object.is(e,t),el=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Xp=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},tl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},uC=e=>{const t=zt(e)?Number(e):NaN;return isNaN(t)?e:t};let Jp;const Zp=()=>Jp||(Jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function At(e){if(Xe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=zt(i)?pC(i):At(i);if(r)for(const o in r)t[o]=r[o]}return t}else if(zt(e)||Ft(e))return e}const cC=/;(?![^(]*\))/g,fC=/:([^]+)/,dC=/\/\*[^]*?\*\//g;function pC(e){const t={};return e.replace(dC,"").split(cC).forEach(n=>{if(n){const i=n.split(fC);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ge(e){let t="";if(zt(e))t=e;else if(Xe(e))for(let n=0;n<e.length;n++){const i=Ge(e[n]);i&&(t+=i+" ")}else if(Ft(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hC=si("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Qp(e){return!!e||e===""}function gC(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Ns(e[i],t[i]);return n}function Ns(e,t){if(e===t)return!0;let n=Gp(e),i=Gp(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Ii(e),i=Ii(t),n||i)return e===t;if(n=Xe(e),i=Xe(t),n||i)return n&&i?gC(e,t):!1;if(n=Ft(e),i=Ft(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Ns(e[s],t[s]))return!1}}return String(e)===String(t)}function dc(e,t){return e.findIndex(n=>Ns(n,t))}const eh=e=>!!(e&&e.__v_isRef===!0),z=e=>zt(e)?e:e==null?"":Xe(e)||Ft(e)&&(e.toString===qp||!st(e.toString))?eh(e)?z(e.value):JSON.stringify(e,th,2):String(e),th=(e,t)=>eh(t)?th(e,t.value):Eo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],o)=>(n[pc(i,o)+" =>"]=r,n),{})}:Ao(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>pc(n))}:Ii(t)?pc(t):Ft(t)&&!Xe(t)&&!Yp(t)?String(t):t,pc=(e,t="")=>{var n;return Ii(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;class mC{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function vC(e,t=Yn){t&&t.active&&t.effects.push(e)}function nh(){return Yn}function yC(e){Yn&&Yn.cleanups.push(e)}let Wr;class hc{constructor(t,n,i,r){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vC(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Yi();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(bC(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xi()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=yr,n=Wr;try{return yr=!0,Wr=this,this._runnings++,ih(this),this.fn()}finally{rh(this),this._runnings--,Wr=n,yr=t}}stop(){this.active&&(ih(this),rh(this),this.onStop&&this.onStop(),this.active=!1)}}function bC(e){return e.value}function ih(e){e._trackId++,e._depsLength=0}function rh(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)oh(e.deps[t],e);e.deps.length=e._depsLength}}function oh(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let yr=!0,gc=0;const sh=[];function Yi(){sh.push(yr),yr=!1}function Xi(){const e=sh.pop();yr=e===void 0?!0:e}function mc(){gc++}function vc(){for(gc--;!gc&&yc.length;)yc.shift()()}function ah(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&oh(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const yc=[];function lh(e,t,n){mc();for(const i of e.keys()){let r;i._dirtyLevel<t&&(r??(r=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(r??(r=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&yc.push(i.scheduler)))}vc()}const uh=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},bc=new WeakMap,Ur=Symbol(""),Cc=Symbol("");function Dn(e,t,n){if(yr&&Wr){let i=bc.get(e);i||bc.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=uh(()=>i.delete(n))),ah(Wr,r)}}function Ji(e,t,n,i,r,o){const s=bc.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Xe(e)){const l=Number(i);s.forEach((f,d)=>{(d==="length"||!Ii(d)&&d>=l)&&a.push(f)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Xe(e)?cc(n)&&a.push(s.get("length")):(a.push(s.get(Ur)),Eo(e)&&a.push(s.get(Cc)));break;case"delete":Xe(e)||(a.push(s.get(Ur)),Eo(e)&&a.push(s.get(Cc)));break;case"set":Eo(e)&&a.push(s.get(Ur));break}mc();for(const l of a)l&&lh(l,4);vc()}const CC=si("__proto__,__v_isRef,__isVue"),ch=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ii)),fh=_C();function _C(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Tt(this);for(let o=0,s=this.length;o<s;o++)Dn(i,"get",o+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Tt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Yi(),mc();const i=Tt(this)[t].apply(this,n);return vc(),Xi(),i}}),e}function wC(e){Ii(e)||(e=String(e));const t=Tt(this);return Dn(t,"has",e),t.hasOwnProperty(e)}class dh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(r?o?wh:_h:o?Ch:bh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=Xe(t);if(!r){if(s&&kt(fh,n))return Reflect.get(fh,n,i);if(n==="hasOwnProperty")return wC}const a=Reflect.get(t,n,i);return(Ii(n)?ch.has(n):CC(n))||(r||Dn(t,"get",n),o)?a:Ln(a)?s&&cc(n)?a:a.value:Ft(a)?r?wc(a):Fn(a):a}}class ph extends dh{constructor(t=!1){super(!1,t)}set(t,n,i,r){let o=t[n];if(!this._isShallow){const l=Kr(o);if(!Lo(i)&&!Kr(i)&&(o=Tt(o),i=Tt(i)),!Xe(t)&&Ln(o)&&!Ln(i))return l?!1:(o.value=i,!0)}const s=Xe(t)&&cc(n)?Number(n)<t.length:kt(t,n),a=Reflect.set(t,n,i,r);return t===Tt(r)&&(s?vr(i,o)&&Ji(t,"set",n,i):Ji(t,"add",n,i)),a}deleteProperty(t,n){const i=kt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ji(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Ii(n)||!ch.has(n))&&Dn(t,"has",n),i}ownKeys(t){return Dn(t,"iterate",Xe(t)?"length":Ur),Reflect.ownKeys(t)}}class hh extends dh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const kC=new ph,TC=new hh,xC=new ph(!0),SC=new hh(!0),_c=e=>e,nl=e=>Reflect.getPrototypeOf(e);function il(e,t,n=!1,i=!1){e=e.__v_raw;const r=Tt(e),o=Tt(t);n||(vr(t,o)&&Dn(r,"get",t),Dn(r,"get",o));const{has:s}=nl(r),a=i?_c:n?kc:Ps;if(s.call(r,t))return a(e.get(t));if(s.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function rl(e,t=!1){const n=this.__v_raw,i=Tt(n),r=Tt(e);return t||(vr(e,r)&&Dn(i,"has",e),Dn(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function ol(e,t=!1){return e=e.__v_raw,!t&&Dn(Tt(e),"iterate",Ur),Reflect.get(e,"size",e)}function gh(e,t=!1){!t&&!Lo(e)&&!Kr(e)&&(e=Tt(e));const n=Tt(this);return nl(n).has.call(n,e)||(n.add(e),Ji(n,"add",e,e)),this}function mh(e,t,n=!1){!n&&!Lo(t)&&!Kr(t)&&(t=Tt(t));const i=Tt(this),{has:r,get:o}=nl(i);let s=r.call(i,e);s||(e=Tt(e),s=r.call(i,e));const a=o.call(i,e);return i.set(e,t),s?vr(t,a)&&Ji(i,"set",e,t):Ji(i,"add",e,t),this}function vh(e){const t=Tt(this),{has:n,get:i}=nl(t);let r=n.call(t,e);r||(e=Tt(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&Ji(t,"delete",e,void 0),o}function yh(){const e=Tt(this),t=e.size!==0,n=e.clear();return t&&Ji(e,"clear",void 0,void 0),n}function sl(e,t){return function(i,r){const o=this,s=o.__v_raw,a=Tt(s),l=t?_c:e?kc:Ps;return!e&&Dn(a,"iterate",Ur),s.forEach((f,d)=>i.call(r,l(f),l(d),o))}}function al(e,t,n){return function(...i){const r=this.__v_raw,o=Tt(r),s=Eo(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,f=r[e](...i),d=n?_c:t?kc:Ps;return!t&&Dn(o,"iterate",l?Cc:Ur),{next(){const{value:v,done:m}=f.next();return m?{value:v,done:m}:{value:a?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function br(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function EC(){const e={get(o){return il(this,o)},get size(){return ol(this)},has:rl,add:gh,set:mh,delete:vh,clear:yh,forEach:sl(!1,!1)},t={get(o){return il(this,o,!1,!0)},get size(){return ol(this)},has:rl,add(o){return gh.call(this,o,!0)},set(o,s){return mh.call(this,o,s,!0)},delete:vh,clear:yh,forEach:sl(!1,!0)},n={get(o){return il(this,o,!0)},get size(){return ol(this,!0)},has(o){return rl.call(this,o,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:sl(!0,!1)},i={get(o){return il(this,o,!0,!0)},get size(){return ol(this,!0)},has(o){return rl.call(this,o,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:sl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=al(o,!1,!1),n[o]=al(o,!0,!1),t[o]=al(o,!1,!0),i[o]=al(o,!0,!0)}),[e,n,t,i]}const[AC,LC,OC,IC]=EC();function ll(e,t){const n=t?e?IC:OC:e?LC:AC;return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(kt(n,r)&&r in i?n:i,r,o)}const NC={get:ll(!1,!1)},RC={get:ll(!1,!0)},PC={get:ll(!0,!1)},MC={get:ll(!0,!0)},bh=new WeakMap,Ch=new WeakMap,_h=new WeakMap,wh=new WeakMap;function DC(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FC(e){return e.__v_skip||!Object.isExtensible(e)?0:DC(sC(e))}function Fn(e){return Kr(e)?e:ul(e,!1,kC,NC,bh)}function BC(e){return ul(e,!1,xC,RC,Ch)}function wc(e){return ul(e,!0,TC,PC,_h)}function eV(e){return ul(e,!0,SC,MC,wh)}function ul(e,t,n,i,r){if(!Ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const s=FC(e);if(s===0)return e;const a=new Proxy(e,s===2?i:n);return r.set(e,a),a}function Rs(e){return Kr(e)?Rs(e.__v_raw):!!(e&&e.__v_isReactive)}function Kr(e){return!!(e&&e.__v_isReadonly)}function Lo(e){return!!(e&&e.__v_isShallow)}function kh(e){return e?!!e.__v_raw:!1}function Tt(e){const t=e&&e.__v_raw;return t?Tt(t):e}function $C(e){return Object.isExtensible(e)&&Xp(e,"__v_skip",!0),e}const Ps=e=>Ft(e)?Fn(e):e,kc=e=>Ft(e)?wc(e):e;class Th{constructor(t,n,i,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hc(()=>t(this._value),()=>cl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Tt(this);return(!t._cacheable||t.effect.dirty)&&vr(t._value,t._value=t.effect.run())&&cl(t,4),xh(t),t.effect._dirtyLevel>=2&&cl(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function jC(e,t,n=!1){let i,r;const o=st(e);return o?(i=e,r=qn):(i=e.get,r=e.set),new Th(i,r,o||!r,n)}function xh(e){var t;yr&&Wr&&(e=Tt(e),ah(Wr,(t=e.dep)!=null?t:e.dep=uh(()=>e.dep=void 0,e instanceof Th?e:void 0)))}function cl(e,t=4,n,i){e=Tt(e);const r=e.dep;r&&lh(r,t)}function Ln(e){return!!(e&&e.__v_isRef===!0)}function Lt(e){return Sh(e,!1)}function HC(e){return Sh(e,!0)}function Sh(e,t){return Ln(e)?e:new VC(e,t)}class VC{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Tt(t),this._value=n?t:Ps(t)}get value(){return xh(this),this._value}set value(t){const n=this.__v_isShallow||Lo(t)||Kr(t);t=n?t:Tt(t),vr(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Ps(t),cl(this,4))}}function Eh(e){return Ln(e)?e.value:e}const WC={get:(e,t,n)=>Eh(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ln(r)&&!Ln(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ah(e){return Rs(e)?e:new Proxy(e,WC)}/**
* @vue/runtime-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ms=[];let Tc=!1;function tV(e,...t){if(Tc)return;Tc=!0,Yi();const n=Ms.length?Ms[Ms.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=UC();if(i)Zi(i,n,11,[e+t.map(o=>{var s,a;return(a=(s=o.toString)==null?void 0:s.call(o))!=null?a:JSON.stringify(o)}).join(""),n&&n.proxy,r.map(({vnode:o})=>`at <${Ig(n,o.type)}>`).join(`
`),r]);else{const o=[`[Vue warn]: ${e}`,...t];r.length&&o.push(`
`,...KC(r)),console.warn(...o)}Xi(),Tc=!1}function UC(){let e=Ms[Ms.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function KC(e){const t=[];return e.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...GC(n))}),t}function GC({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,r=` at <${Ig(e.component,e.type,i)}`,o=">"+n;return e.props?[r,...zC(e.props),o]:[r+o]}function zC(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(i=>{t.push(...Lh(i,e[i]))}),n.length>3&&t.push(" ..."),t}function Lh(e,t,n){return zt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Ln(t)?(t=Lh(e,Tt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):st(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Tt(t),n?t:[`${e}=`,t])}function Zi(e,t,n,i){try{return i?e(...i):e()}catch(r){fl(r,t,n)}}function li(e,t,n,i){if(st(e)){const r=Zi(e,t,n,i);return r&&zp(r)&&r.catch(o=>{fl(o,t,n)}),r}if(Xe(e)){const r=[];for(let o=0;o<e.length;o++)r.push(li(e[o],t,n,i));return r}}function fl(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,s,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Yi(),Zi(l,null,10,[e,s,a]),Xi();return}}qC(e,n,r,i)}function qC(e,t,n,i=!0){console.error(e)}let Ds=!1,xc=!1;const wn=[];let Ni=0;const Oo=[];let Cr=null,Gr=0;const Oh=Promise.resolve();let Sc=null;function Io(e){const t=Sc||Oh;return e?t.then(this?e.bind(this):e):t}function YC(e){let t=Ni+1,n=wn.length;for(;t<n;){const i=t+n>>>1,r=wn[i],o=Fs(r);o<e||o===e&&r.pre?t=i+1:n=i}return t}function Ec(e){(!wn.length||!wn.includes(e,Ds&&e.allowRecurse?Ni+1:Ni))&&(e.id==null?wn.push(e):wn.splice(YC(e.id),0,e),Ih())}function Ih(){!Ds&&!xc&&(xc=!0,Sc=Oh.then(Ph))}function XC(e){const t=wn.indexOf(e);t>Ni&&wn.splice(t,1)}function JC(e){Xe(e)?Oo.push(...e):(!Cr||!Cr.includes(e,e.allowRecurse?Gr+1:Gr))&&Oo.push(e),Ih()}function Nh(e,t,n=Ds?Ni+1:0){for(;n<wn.length;n++){const i=wn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;wn.splice(n,1),n--,i()}}}function Rh(e){if(Oo.length){const t=[...new Set(Oo)].sort((n,i)=>Fs(n)-Fs(i));if(Oo.length=0,Cr){Cr.push(...t);return}for(Cr=t,Gr=0;Gr<Cr.length;Gr++){const n=Cr[Gr];n.active!==!1&&n()}Cr=null,Gr=0}}const Fs=e=>e.id==null?1/0:e.id,ZC=(e,t)=>{const n=Fs(e)-Fs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ph(e){xc=!1,Ds=!0,wn.sort(ZC);const t=qn;try{for(Ni=0;Ni<wn.length;Ni++){const n=wn[Ni];n&&n.active!==!1&&Zi(n,n.i,n.i?15:14)}}finally{Ni=0,wn.length=0,Rh(),Ds=!1,Sc=null,(wn.length||Oo.length)&&Ph()}}let dn=null,dl=null;function pl(e){const t=dn;return dn=e,dl=e&&e.type.__scopeId||null,t}function zr(e){dl=e}function qr(){dl=null}function Mt(e,t=dn,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&wg(-1);const o=pl(t);let s;try{s=e(...r)}finally{pl(o),i._d&&wg(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function oe(e,t){if(dn===null)return e;const n=Ll(dn),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,s,a,l=Et]=t[r];o&&(st(o)&&(o={mounted:o,updated:o}),o.deep&&wr(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Yr(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(Yi(),li(l,n,8,[e.el,a,e,t]),Xi())}}const _r=Symbol("_leaveCb"),hl=Symbol("_enterCb");function QC(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return No(()=>{e.isMounted=!0}),Hh(()=>{e.isUnmounting=!0}),e}const ui=[Function,Array],Mh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ui,onEnter:ui,onAfterEnter:ui,onEnterCancelled:ui,onBeforeLeave:ui,onLeave:ui,onAfterLeave:ui,onLeaveCancelled:ui,onBeforeAppear:ui,onAppear:ui,onAfterAppear:ui,onAppearCancelled:ui},Dh=e=>{const t=e.subTree;return t.component?Dh(t.component):t},e_={name:"BaseTransition",props:Mh,setup(e,{slots:t}){const n=Sl(),i=QC();return()=>{const r=t.default&&$h(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==jn){o=m;break}}const s=Tt(e),{mode:a}=s;if(i.isLeaving)return Lc(o);const l=Bh(o);if(!l)return Lc(o);let f=Ac(l,s,i,n,m=>f=m);gl(l,f);const d=n.subTree,v=d&&Bh(d);if(v&&v.type!==jn&&!Jr(l,v)&&Dh(n).type!==jn){const m=Ac(v,s,i,n);if(gl(v,m),a==="out-in"&&l.type!==jn)return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Lc(o);a==="in-out"&&l.type!==jn&&(m.delayLeave=(C,b,k)=>{const x=Fh(i,v);x[String(v.key)]=v,C[_r]=()=>{b(),C[_r]=void 0,delete f.delayedLeave},f.delayedLeave=k})}return o}}};function Fh(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Ac(e,t,n,i,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:v,onBeforeLeave:m,onLeave:C,onAfterLeave:b,onLeaveCancelled:k,onBeforeAppear:x,onAppear:L,onAfterAppear:$,onAppearCancelled:V}=t,O=String(e.key),ge=Fh(n,e),K=(E,N)=>{E&&li(E,i,9,N)},h=(E,N)=>{const I=N[1];K(E,N),Xe(E)?E.every(F=>F.length<=1)&&I():E.length<=1&&I()},M={mode:s,persisted:a,beforeEnter(E){let N=l;if(!n.isMounted)if(o)N=x||l;else return;E[_r]&&E[_r](!0);const I=ge[O];I&&Jr(e,I)&&I.el[_r]&&I.el[_r](),K(N,[E])},enter(E){let N=f,I=d,F=v;if(!n.isMounted)if(o)N=L||f,I=$||d,F=V||v;else return;let q=!1;const _e=E[hl]=$e=>{q||(q=!0,$e?K(F,[E]):K(I,[E]),M.delayedLeave&&M.delayedLeave(),E[hl]=void 0)};N?h(N,[E,_e]):_e()},leave(E,N){const I=String(e.key);if(E[hl]&&E[hl](!0),n.isUnmounting)return N();K(m,[E]);let F=!1;const q=E[_r]=_e=>{F||(F=!0,N(),_e?K(k,[E]):K(b,[E]),E[_r]=void 0,ge[I]===e&&delete ge[I])};ge[I]=e,C?h(C,[E,q]):q()},clone(E){const N=Ac(E,t,n,i,r);return r&&r(N),N}};return M}function Lc(e){if(ml(e))return e=kr(e),e.children=null,e}function Bh(e){if(!ml(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&st(n.default))return n.default()}}function gl(e,t){e.shapeFlag&6&&e.component?gl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $h(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pe?(s.patchFlag&128&&r++,i=i.concat($h(s.children,t,a))):(t||s.type!==jn)&&i.push(a!=null?kr(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Bn(e,t){return st(e)?(()=>fn({name:e.name},t,{setup:e}))():e}const Bs=e=>!!e.type.__asyncLoader,ml=e=>e.type.__isKeepAlive;function t_(e,t){jh(e,"a",t)}function n_(e,t){jh(e,"da",t)}function jh(e,t,n=mn){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(vl(t,i,n),n){let r=n.parent;for(;r&&r.parent;)ml(r.parent.vnode)&&i_(i,t,n,r),r=r.parent}}function i_(e,t,n,i){const r=vl(t,e,i,!0);Vh(()=>{uc(i[t],r)},n)}function vl(e,t,n=mn,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{Yi();const a=Us(n),l=li(t,n,e,s);return a(),Xi(),l});return i?r.unshift(o):r.push(o),o}}const Qi=e=>(t,n=mn)=>{(!Al||e==="sp")&&vl(e,(...i)=>t(...i),n)},r_=Qi("bm"),No=Qi("m"),o_=Qi("bu"),s_=Qi("u"),Hh=Qi("bum"),Vh=Qi("um"),a_=Qi("sp"),l_=Qi("rtg"),u_=Qi("rtc");function c_(e,t=mn){vl("ec",e,t)}const Oc="components",f_="directives";function Be(e,t){return Ic(Oc,e,!0,t)||e}const Wh=Symbol.for("v-ndc");function Uh(e){return zt(e)?Ic(Oc,e,!1)||e:e||Wh}function Ro(e){return Ic(f_,e)}function Ic(e,t,n=!0,i=!1){const r=dn||mn;if(r){const o=r.type;if(e===Oc){const a=Og(o,!1);if(a&&(a===t||a===Ci(t)||a===Qa(Ci(t))))return o}const s=Kh(r[e]||o[e],t)||Kh(r.appContext[e],t);return!s&&i?o:s}}function Kh(e,t){return e&&(e[t]||e[Ci(t)]||e[Qa(Ci(t))])}function et(e,t,n,i){let r;const o=n&&n[i];if(Xe(e)||zt(e)){r=new Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,o&&o[s])}else if(Ft(e))if(e[Symbol.iterator])r=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const f=s[a];r[a]=t(e[f],f,a,o&&o[a])}}else r=[];return n&&(n[i]=r),r}function Gh(e,t,n={},i,r){if(dn.isCE||dn.parent&&Bs(dn.parent)&&dn.parent.isCE)return t!=="default"&&(n.name=t),ie("slot",n,i&&i());let o=e[t];o&&o._c&&(o._d=!1),T();const s=o&&zh(o(n)),a=Ae(Pe,{key:(n.key||s&&s.key||`_${t}`)+(!s&&i?"_fb":"")},s||(i?i():[]),s&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function zh(e){return e.some(t=>kl(t)?!(t.type===jn||t.type===Pe&&!zh(t.children)):!0)?e:null}const Nc=e=>e?Sg(e)?Ll(e):Nc(e.parent):null,$s=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nc(e.parent),$root:e=>Nc(e.root),$emit:e=>e.emit,$options:e=>Mc(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Ec(e.update)}),$nextTick:e=>e.n||(e.n=Io.bind(e.proxy)),$watch:e=>D_.bind(e)}),Rc=(e,t)=>e!==Et&&!e.__isScriptSetup&&kt(e,t),d_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const C=s[t];if(C!==void 0)switch(C){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Rc(i,t))return s[t]=1,i[t];if(r!==Et&&kt(r,t))return s[t]=2,r[t];if((f=e.propsOptions[0])&&kt(f,t))return s[t]=3,o[t];if(n!==Et&&kt(n,t))return s[t]=4,n[t];Pc&&(s[t]=0)}}const d=$s[t];let v,m;if(d)return t==="$attrs"&&Dn(e.attrs,"get",""),d(e);if((v=a.__cssModules)&&(v=v[t]))return v;if(n!==Et&&kt(n,t))return s[t]=4,n[t];if(m=l.config.globalProperties,kt(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return Rc(r,t)?(r[t]=n,!0):i!==Et&&kt(i,t)?(i[t]=n,!0):kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!n[s]||e!==Et&&kt(e,s)||Rc(t,s)||(a=o[0])&&kt(a,s)||kt(i,s)||kt($s,s)||kt(r.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:kt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qh(e){return Xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Pc=!0;function p_(e){const t=Mc(e),n=e.proxy,i=e.ctx;Pc=!1,t.beforeCreate&&Yh(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:f,created:d,beforeMount:v,mounted:m,beforeUpdate:C,updated:b,activated:k,deactivated:x,beforeDestroy:L,beforeUnmount:$,destroyed:V,unmounted:O,render:ge,renderTracked:K,renderTriggered:h,errorCaptured:M,serverPrefetch:E,expose:N,inheritAttrs:I,components:F,directives:q,filters:_e}=t;if(f&&h_(f,i,null),s)for(const G in s){const le=s[G];st(le)&&(i[G]=le.bind(n))}if(r){const G=r.call(n,n);Ft(G)&&(e.data=Fn(G))}if(Pc=!0,o)for(const G in o){const le=o[G],be=st(le)?le.bind(n,n):st(le.get)?le.get.bind(n,n):qn,Ee=!st(le)&&st(le.set)?le.set.bind(n):qn,Ce=sn({get:be,set:Ee});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:W=>Ce.value=W})}if(a)for(const G in a)Xh(a[G],i,n,G);if(l){const G=st(l)?l.call(n):l;Reflect.ownKeys(G).forEach(le=>{eg(le,G[le])})}d&&Yh(d,e,"c");function Le(G,le){Xe(le)?le.forEach(be=>G(be.bind(n))):le&&G(le.bind(n))}if(Le(r_,v),Le(No,m),Le(o_,C),Le(s_,b),Le(t_,k),Le(n_,x),Le(c_,M),Le(u_,K),Le(l_,h),Le(Hh,$),Le(Vh,O),Le(a_,E),Xe(N))if(N.length){const G=e.exposed||(e.exposed={});N.forEach(le=>{Object.defineProperty(G,le,{get:()=>n[le],set:be=>n[le]=be})})}else e.exposed||(e.exposed={});ge&&e.render===qn&&(e.render=ge),I!=null&&(e.inheritAttrs=I),F&&(e.components=F),q&&(e.directives=q)}function h_(e,t,n=qn){Xe(e)&&(e=Dc(e));for(const i in e){const r=e[i];let o;Ft(r)?"default"in r?o=Mo(r.from||i,r.default,!0):o=Mo(r.from||i):o=Mo(r),Ln(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function Yh(e,t,n){li(Xe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xh(e,t,n,i){const r=i.includes(".")?bg(n,i):()=>n[i];if(zt(e)){const o=t[e];st(o)&&ci(r,o)}else if(st(e))ci(r,e.bind(n));else if(Ft(e))if(Xe(e))e.forEach(o=>Xh(o,t,n,i));else{const o=st(e.handler)?e.handler.bind(n):t[e.handler];st(o)&&ci(r,o,e)}}function Mc(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(f=>yl(l,f,s,!0)),yl(l,t,s)),Ft(t)&&o.set(t,l),l}function yl(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&yl(e,o,n,!0),r&&r.forEach(s=>yl(e,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const a=g_[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const g_={data:Jh,props:Zh,emits:Zh,methods:js,computed:js,beforeCreate:On,created:On,beforeMount:On,mounted:On,beforeUpdate:On,updated:On,beforeDestroy:On,beforeUnmount:On,destroyed:On,unmounted:On,activated:On,deactivated:On,errorCaptured:On,serverPrefetch:On,components:js,directives:js,watch:v_,provide:Jh,inject:m_};function Jh(e,t){return t?e?function(){return fn(st(e)?e.call(this,this):e,st(t)?t.call(this,this):t)}:t:e}function m_(e,t){return js(Dc(e),Dc(t))}function Dc(e){if(Xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function On(e,t){return e?[...new Set([].concat(e,t))]:t}function js(e,t){return e?fn(Object.create(null),e,t):t}function Zh(e,t){return e?Xe(e)&&Xe(t)?[...new Set([...e,...t])]:fn(Object.create(null),qh(e),qh(t??{})):t}function v_(e,t){if(!e)return t;if(!t)return e;const n=fn(Object.create(null),e);for(const i in t)n[i]=On(e[i],t[i]);return n}function Qh(){return{app:null,config:{isNativeTag:rC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y_=0;function b_(e,t){return function(i,r=null){st(i)||(i=fn({},i)),r!=null&&!Ft(r)&&(r=null);const o=Qh(),s=new WeakSet;let a=!1;const l=o.app={_uid:y_++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:rw,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&st(f.install)?(s.add(f),f.install(l,...d)):st(f)&&(s.add(f),f(l,...d))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,d){return d?(o.components[f]=d,l):o.components[f]},directive(f,d){return d?(o.directives[f]=d,l):o.directives[f]},mount(f,d,v){if(!a){const m=ie(i,r);return m.appContext=o,v===!0?v="svg":v===!1&&(v=void 0),d&&t?t(m,f):e(m,f,v),a=!0,l._container=f,f.__vue_app__=l,Ll(m.component)}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,d){return o.provides[f]=d,l},runWithContext(f){const d=Po;Po=l;try{return f()}finally{Po=d}}};return l}}let Po=null;function eg(e,t){if(mn){let n=mn.provides;const i=mn.parent&&mn.parent.provides;i===n&&(n=mn.provides=Object.create(i)),n[e]=t}}function Mo(e,t,n=!1){const i=mn||dn;if(i||Po){const r=Po?Po._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&st(t)?t.call(i&&i.proxy):t}}const tg={},ng=()=>Object.create(tg),ig=e=>Object.getPrototypeOf(e)===tg;function C_(e,t,n,i=!1){const r={},o=ng();e.propsDefaults=Object.create(null),rg(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=i?r:BC(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function __(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,a=Tt(r),[l]=e.propsOptions;let f=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(_l(e.emitsOptions,m))continue;const C=t[m];if(l)if(kt(o,m))C!==o[m]&&(o[m]=C,f=!0);else{const b=Ci(m);r[b]=Fc(l,a,b,C,e,!1)}else C!==o[m]&&(o[m]=C,f=!0)}}}else{rg(e,t,r,o)&&(f=!0);let d;for(const v in a)(!t||!kt(t,v)&&((d=mr(v))===v||!kt(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(r[v]=Fc(l,a,v,void 0,e,!0)):delete r[v]);if(o!==a)for(const v in o)(!t||!kt(t,v))&&(delete o[v],f=!0)}f&&Ji(e.attrs,"set","")}function rg(e,t,n,i){const[r,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Is(l))continue;const f=t[l];let d;r&&kt(r,d=Ci(l))?!o||!o.includes(d)?n[d]=f:(a||(a={}))[d]=f:_l(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,s=!0)}if(o){const l=Tt(n),f=a||Et;for(let d=0;d<o.length;d++){const v=o[d];n[v]=Fc(r,l,v,f[v],e,!kt(f,v))}}return s}function Fc(e,t,n,i,r,o){const s=e[n];if(s!=null){const a=kt(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&st(l)){const{propsDefaults:f}=r;if(n in f)i=f[n];else{const d=Us(r);i=f[n]=l.call(null,t),d()}}else i=l}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===mr(n))&&(i=!0))}return i}const w_=new WeakMap;function og(e,t,n=!1){const i=n?w_:t.propsCache,r=i.get(e);if(r)return r;const o=e.props,s={},a=[];let l=!1;if(!st(e)){const d=v=>{l=!0;const[m,C]=og(v,t,!0);fn(s,m),C&&a.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!l)return Ft(e)&&i.set(e,ai),ai;if(Xe(o))for(let d=0;d<o.length;d++){const v=Ci(o[d]);sg(v)&&(s[v]=Et)}else if(o)for(const d in o){const v=Ci(d);if(sg(v)){const m=o[d],C=s[v]=Xe(m)||st(m)?{type:m}:fn({},m),b=C.type;let k=!1,x=!0;if(Xe(b))for(let L=0;L<b.length;++L){const $=b[L],V=st($)&&$.name;if(V==="Boolean"){k=!0;break}else V==="String"&&(x=!1)}else k=st(b)&&b.name==="Boolean";C[0]=k,C[1]=x,(k||kt(C,"default"))&&a.push(v)}}const f=[s,a];return Ft(e)&&i.set(e,f),f}function sg(e){return e[0]!=="$"&&!Is(e)}const ag=e=>e[0]==="_"||e==="$stable",Bc=e=>Xe(e)?e.map(Ri):[Ri(e)],k_=(e,t,n)=>{if(t._n)return t;const i=Mt((...r)=>Bc(t(...r)),n);return i._c=!1,i},lg=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ag(r))continue;const o=e[r];if(st(o))t[r]=k_(r,o,i);else if(o!=null){const s=Bc(o);t[r]=()=>s}}},ug=(e,t)=>{const n=Bc(t);e.slots.default=()=>n},cg=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},T_=(e,t,n)=>{const i=e.slots=ng();if(e.vnode.shapeFlag&32){const r=t._;r?(cg(i,t,n),n&&Xp(i,"_",r,!0)):lg(t,i)}else t&&ug(e,t)},x_=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,s=Et;if(i.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:cg(r,t,n):(o=!t.$stable,lg(t,r)),s=t}else t&&(ug(e,t),s={default:1});if(o)for(const a in r)!ag(a)&&s[a]==null&&delete r[a]};function $c(e,t,n,i,r=!1){if(Xe(e)){e.forEach((m,C)=>$c(m,t&&(Xe(t)?t[C]:t),n,i,r));return}if(Bs(i)&&!r)return;const o=i.shapeFlag&4?Ll(i.component):i.el,s=r?null:o,{i:a,r:l}=e,f=t&&t.r,d=a.refs===Et?a.refs={}:a.refs,v=a.setupState;if(f!=null&&f!==l&&(zt(f)?(d[f]=null,kt(v,f)&&(v[f]=null)):Ln(f)&&(f.value=null)),st(l))Zi(l,a,12,[s,d]);else{const m=zt(l),C=Ln(l);if(m||C){const b=()=>{if(e.f){const k=m?kt(v,l)?v[l]:d[l]:l.value;r?Xe(k)&&uc(k,o):Xe(k)?k.includes(o)||k.push(o):m?(d[l]=[o],kt(v,l)&&(v[l]=d[l])):(l.value=[o],e.k&&(d[e.k]=l.value))}else m?(d[l]=s,kt(v,l)&&(v[l]=s)):C&&(l.value=s,e.k&&(d[e.k]=s))};s?(b.id=-1,$n(b,n)):b()}}}const fg=Symbol("_vte"),S_=e=>e.__isTeleport,Hs=e=>e&&(e.disabled||e.disabled===""),dg=e=>typeof SVGElement<"u"&&e instanceof SVGElement,pg=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,jc=(e,t)=>{const n=e&&e.to;return zt(n)?t?t(n):null:n},E_={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,o,s,a,l,f){const{mc:d,pc:v,pbc:m,o:{insert:C,querySelector:b,createText:k,createComment:x}}=f,L=Hs(t.props);let{shapeFlag:$,children:V,dynamicChildren:O}=t;if(e==null){const ge=t.el=k(""),K=t.anchor=k("");C(ge,n,i),C(K,n,i);const h=t.target=jc(t.props,b),M=gg(h,t,k,C);h&&(s==="svg"||dg(h)?s="svg":(s==="mathml"||pg(h))&&(s="mathml"));const E=(N,I)=>{$&16&&d(V,N,I,r,o,s,a,l)};L?E(n,K):h&&E(h,M)}else{t.el=e.el,t.targetStart=e.targetStart;const ge=t.anchor=e.anchor,K=t.target=e.target,h=t.targetAnchor=e.targetAnchor,M=Hs(e.props),E=M?n:K,N=M?ge:h;if(s==="svg"||dg(K)?s="svg":(s==="mathml"||pg(K))&&(s="mathml"),O?(m(e.dynamicChildren,O,E,r,o,s,a),Vc(e,t,!0)):l||v(e,t,E,N,r,o,s,a,!1),L)M?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):bl(t,n,ge,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const I=t.target=jc(t.props,b);I&&bl(t,I,null,f,0)}else M&&bl(t,K,h,f,1)}hg(t)},remove(e,t,n,{um:i,o:{remove:r}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:f,targetAnchor:d,target:v,props:m}=e;if(v&&(r(f),r(d)),o&&r(l),s&16){const C=o||!Hs(m);for(let b=0;b<a.length;b++){const k=a[b];i(k,t,n,C,!!k.dynamicChildren)}}},move:bl,hydrate:A_};function bl(e,t,n,{o:{insert:i},m:r},o=2){o===0&&i(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:f,props:d}=e,v=o===2;if(v&&i(s,t,n),(!v||Hs(d))&&l&16)for(let m=0;m<f.length;m++)r(f[m],t,n,2);v&&i(a,t,n)}function A_(e,t,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:f,createText:d}},v){const m=t.target=jc(t.props,l);if(m){const C=m._lpa||m.firstChild;if(t.shapeFlag&16)if(Hs(t.props))t.anchor=v(s(e),t,a(e),n,i,r,o),t.targetStart=C,t.targetAnchor=C&&s(C);else{t.anchor=s(e);let b=C;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,m._lpa=t.targetAnchor&&s(t.targetAnchor);break}}b=s(b)}t.targetAnchor||gg(m,t,d,f),v(C&&s(C),t,m,n,i,r,o)}hg(t)}return t.anchor&&s(t.anchor)}const L_=E_;function hg(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function gg(e,t,n,i){const r=t.targetStart=n(""),o=t.targetAnchor=n("");return r[fg]=o,e&&(i(r,e),i(o,e)),o}const $n=U_;function O_(e){return I_(e)}function I_(e,t){const n=Zp();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:f,setElementText:d,parentNode:v,nextSibling:m,setScopeId:C=qn,insertStaticContent:b}=e,k=(P,j,X,ce=null,Z=null,he=null,Se=void 0,we=null,ke=!!j.dynamicChildren)=>{if(P===j)return;P&&!Jr(P,j)&&(ce=Oe(P),W(P,Z,he,!0),P=null),j.patchFlag===-2&&(ke=!1,j.dynamicChildren=null);const{type:se,ref:Te,shapeFlag:Me}=j;switch(se){case wl:x(P,j,X,ce);break;case jn:L(P,j,X,ce);break;case Uc:P==null&&$(j,X,ce,Se);break;case Pe:F(P,j,X,ce,Z,he,Se,we,ke);break;default:Me&1?ge(P,j,X,ce,Z,he,Se,we,ke):Me&6?q(P,j,X,ce,Z,he,Se,we,ke):(Me&64||Me&128)&&se.process(P,j,X,ce,Z,he,Se,we,ke,ze)}Te!=null&&Z&&$c(Te,P&&P.ref,he,j||P,!j)},x=(P,j,X,ce)=>{if(P==null)i(j.el=a(j.children),X,ce);else{const Z=j.el=P.el;j.children!==P.children&&f(Z,j.children)}},L=(P,j,X,ce)=>{P==null?i(j.el=l(j.children||""),X,ce):j.el=P.el},$=(P,j,X,ce)=>{[P.el,P.anchor]=b(P.children,j,X,ce,P.el,P.anchor)},V=({el:P,anchor:j},X,ce)=>{let Z;for(;P&&P!==j;)Z=m(P),i(P,X,ce),P=Z;i(j,X,ce)},O=({el:P,anchor:j})=>{let X;for(;P&&P!==j;)X=m(P),r(P),P=X;r(j)},ge=(P,j,X,ce,Z,he,Se,we,ke)=>{j.type==="svg"?Se="svg":j.type==="math"&&(Se="mathml"),P==null?K(j,X,ce,Z,he,Se,we,ke):E(P,j,Z,he,Se,we,ke)},K=(P,j,X,ce,Z,he,Se,we)=>{let ke,se;const{props:Te,shapeFlag:Me,transition:te,dirs:Ve}=P;if(ke=P.el=s(P.type,he,Te&&Te.is,Te),Me&8?d(ke,P.children):Me&16&&M(P.children,ke,null,ce,Z,Hc(P,he),Se,we),Ve&&Yr(P,null,ce,"created"),h(ke,P,P.scopeId,Se,ce),Te){for(const pt in Te)pt!=="value"&&!Is(pt)&&o(ke,pt,null,Te[pt],he,ce);"value"in Te&&o(ke,"value",null,Te.value,he),(se=Te.onVnodeBeforeMount)&&Pi(se,ce,P)}Ve&&Yr(P,null,ce,"beforeMount");const Je=N_(Z,te);Je&&te.beforeEnter(ke),i(ke,j,X),((se=Te&&Te.onVnodeMounted)||Je||Ve)&&$n(()=>{se&&Pi(se,ce,P),Je&&te.enter(ke),Ve&&Yr(P,null,ce,"mounted")},Z)},h=(P,j,X,ce,Z)=>{if(X&&C(P,X),ce)for(let he=0;he<ce.length;he++)C(P,ce[he]);if(Z){let he=Z.subTree;if(j===he){const Se=Z.vnode;h(P,Se,Se.scopeId,Se.slotScopeIds,Z.parent)}}},M=(P,j,X,ce,Z,he,Se,we,ke=0)=>{for(let se=ke;se<P.length;se++){const Te=P[se]=we?Tr(P[se]):Ri(P[se]);k(null,Te,j,X,ce,Z,he,Se,we)}},E=(P,j,X,ce,Z,he,Se)=>{const we=j.el=P.el;let{patchFlag:ke,dynamicChildren:se,dirs:Te}=j;ke|=P.patchFlag&16;const Me=P.props||Et,te=j.props||Et;let Ve;if(X&&Xr(X,!1),(Ve=te.onVnodeBeforeUpdate)&&Pi(Ve,X,j,P),Te&&Yr(j,P,X,"beforeUpdate"),X&&Xr(X,!0),(Me.innerHTML&&te.innerHTML==null||Me.textContent&&te.textContent==null)&&d(we,""),se?N(P.dynamicChildren,se,we,X,ce,Hc(j,Z),he):Se||le(P,j,we,null,X,ce,Hc(j,Z),he,!1),ke>0){if(ke&16)I(we,Me,te,X,Z);else if(ke&2&&Me.class!==te.class&&o(we,"class",null,te.class,Z),ke&4&&o(we,"style",Me.style,te.style,Z),ke&8){const Je=j.dynamicProps;for(let pt=0;pt<Je.length;pt++){const ft=Je[pt],Ot=Me[ft],Wt=te[ft];(Wt!==Ot||ft==="value")&&o(we,ft,Ot,Wt,Z,X)}}ke&1&&P.children!==j.children&&d(we,j.children)}else!Se&&se==null&&I(we,Me,te,X,Z);((Ve=te.onVnodeUpdated)||Te)&&$n(()=>{Ve&&Pi(Ve,X,j,P),Te&&Yr(j,P,X,"updated")},ce)},N=(P,j,X,ce,Z,he,Se)=>{for(let we=0;we<j.length;we++){const ke=P[we],se=j[we],Te=ke.el&&(ke.type===Pe||!Jr(ke,se)||ke.shapeFlag&70)?v(ke.el):X;k(ke,se,Te,null,ce,Z,he,Se,!0)}},I=(P,j,X,ce,Z)=>{if(j!==X){if(j!==Et)for(const he in j)!Is(he)&&!(he in X)&&o(P,he,j[he],null,Z,ce);for(const he in X){if(Is(he))continue;const Se=X[he],we=j[he];Se!==we&&he!=="value"&&o(P,he,we,Se,Z,ce)}"value"in X&&o(P,"value",j.value,X.value,Z)}},F=(P,j,X,ce,Z,he,Se,we,ke)=>{const se=j.el=P?P.el:a(""),Te=j.anchor=P?P.anchor:a("");let{patchFlag:Me,dynamicChildren:te,slotScopeIds:Ve}=j;Ve&&(we=we?we.concat(Ve):Ve),P==null?(i(se,X,ce),i(Te,X,ce),M(j.children||[],X,Te,Z,he,Se,we,ke)):Me>0&&Me&64&&te&&P.dynamicChildren?(N(P.dynamicChildren,te,X,Z,he,Se,we),(j.key!=null||Z&&j===Z.subTree)&&Vc(P,j,!0)):le(P,j,X,Te,Z,he,Se,we,ke)},q=(P,j,X,ce,Z,he,Se,we,ke)=>{j.slotScopeIds=we,P==null?j.shapeFlag&512?Z.ctx.activate(j,X,ce,Se,ke):_e(j,X,ce,Z,he,Se,ke):$e(P,j,ke)},_e=(P,j,X,ce,Z,he,Se)=>{const we=P.component=X_(P,ce,Z);if(ml(P)&&(we.ctx.renderer=ze),J_(we,!1,Se),we.asyncDep){if(Z&&Z.registerDep(we,Le,Se),!P.el){const ke=we.subTree=ie(jn);L(null,ke,j,X)}}else Le(we,P,j,X,Z,he,Se)},$e=(P,j,X)=>{const ce=j.component=P.component;if(H_(P,j,X))if(ce.asyncDep&&!ce.asyncResolved){G(ce,j,X);return}else ce.next=j,XC(ce.update),ce.effect.dirty=!0,ce.update();else j.el=P.el,ce.vnode=j},Le=(P,j,X,ce,Z,he,Se)=>{const we=()=>{if(P.isMounted){let{next:Te,bu:Me,u:te,parent:Ve,vnode:Je}=P;{const $t=mg(P);if($t){Te&&(Te.el=Je.el,G(P,Te,Se)),$t.asyncDep.then(()=>{P.isUnmounted||we()});return}}let pt=Te,ft;Xr(P,!1),Te?(Te.el=Je.el,G(P,Te,Se)):Te=Je,Me&&el(Me),(ft=Te.props&&Te.props.onVnodeBeforeUpdate)&&Pi(ft,Ve,Te,Je),Xr(P,!0);const Ot=Wc(P),Wt=P.subTree;P.subTree=Ot,k(Wt,Ot,v(Wt.el),Oe(Wt),P,Z,he),Te.el=Ot.el,pt===null&&V_(P,Ot.el),te&&$n(te,Z),(ft=Te.props&&Te.props.onVnodeUpdated)&&$n(()=>Pi(ft,Ve,Te,Je),Z)}else{let Te;const{el:Me,props:te}=j,{bm:Ve,m:Je,parent:pt}=P,ft=Bs(j);if(Xr(P,!1),Ve&&el(Ve),!ft&&(Te=te&&te.onVnodeBeforeMount)&&Pi(Te,pt,j),Xr(P,!0),Me&&vt){const Ot=()=>{P.subTree=Wc(P),vt(Me,P.subTree,P,Z,null)};ft?j.type.__asyncLoader().then(()=>!P.isUnmounted&&Ot()):Ot()}else{const Ot=P.subTree=Wc(P);k(null,Ot,X,ce,P,Z,he),j.el=Ot.el}if(Je&&$n(Je,Z),!ft&&(Te=te&&te.onVnodeMounted)){const Ot=j;$n(()=>Pi(Te,pt,Ot),Z)}(j.shapeFlag&256||pt&&Bs(pt.vnode)&&pt.vnode.shapeFlag&256)&&P.a&&$n(P.a,Z),P.isMounted=!0,j=X=ce=null}},ke=P.effect=new hc(we,qn,()=>Ec(se),P.scope),se=P.update=()=>{ke.dirty&&ke.run()};se.i=P,se.id=P.uid,Xr(P,!0),se()},G=(P,j,X)=>{j.component=P;const ce=P.vnode.props;P.vnode=j,P.next=null,__(P,j.props,ce,X),x_(P,j.children,X),Yi(),Nh(P),Xi()},le=(P,j,X,ce,Z,he,Se,we,ke=!1)=>{const se=P&&P.children,Te=P?P.shapeFlag:0,Me=j.children,{patchFlag:te,shapeFlag:Ve}=j;if(te>0){if(te&128){Ee(se,Me,X,ce,Z,he,Se,we,ke);return}else if(te&256){be(se,Me,X,ce,Z,he,Se,we,ke);return}}Ve&8?(Te&16&&ye(se,Z,he),Me!==se&&d(X,Me)):Te&16?Ve&16?Ee(se,Me,X,ce,Z,he,Se,we,ke):ye(se,Z,he,!0):(Te&8&&d(X,""),Ve&16&&M(Me,X,ce,Z,he,Se,we,ke))},be=(P,j,X,ce,Z,he,Se,we,ke)=>{P=P||ai,j=j||ai;const se=P.length,Te=j.length,Me=Math.min(se,Te);let te;for(te=0;te<Me;te++){const Ve=j[te]=ke?Tr(j[te]):Ri(j[te]);k(P[te],Ve,X,null,Z,he,Se,we,ke)}se>Te?ye(P,Z,he,!0,!1,Me):M(j,X,ce,Z,he,Se,we,ke,Me)},Ee=(P,j,X,ce,Z,he,Se,we,ke)=>{let se=0;const Te=j.length;let Me=P.length-1,te=Te-1;for(;se<=Me&&se<=te;){const Ve=P[se],Je=j[se]=ke?Tr(j[se]):Ri(j[se]);if(Jr(Ve,Je))k(Ve,Je,X,null,Z,he,Se,we,ke);else break;se++}for(;se<=Me&&se<=te;){const Ve=P[Me],Je=j[te]=ke?Tr(j[te]):Ri(j[te]);if(Jr(Ve,Je))k(Ve,Je,X,null,Z,he,Se,we,ke);else break;Me--,te--}if(se>Me){if(se<=te){const Ve=te+1,Je=Ve<Te?j[Ve].el:ce;for(;se<=te;)k(null,j[se]=ke?Tr(j[se]):Ri(j[se]),X,Je,Z,he,Se,we,ke),se++}}else if(se>te)for(;se<=Me;)W(P[se],Z,he,!0),se++;else{const Ve=se,Je=se,pt=new Map;for(se=Je;se<=te;se++){const Ue=j[se]=ke?Tr(j[se]):Ri(j[se]);Ue.key!=null&&pt.set(Ue.key,se)}let ft,Ot=0;const Wt=te-Je+1;let $t=!1,un=0;const ne=new Array(Wt);for(se=0;se<Wt;se++)ne[se]=0;for(se=Ve;se<=Me;se++){const Ue=P[se];if(Ot>=Wt){W(Ue,Z,he,!0);continue}let at;if(Ue.key!=null)at=pt.get(Ue.key);else for(ft=Je;ft<=te;ft++)if(ne[ft-Je]===0&&Jr(Ue,j[ft])){at=ft;break}at===void 0?W(Ue,Z,he,!0):(ne[at-Je]=se+1,at>=un?un=at:$t=!0,k(Ue,j[at],X,null,Z,he,Se,we,ke),Ot++)}const Fe=$t?R_(ne):ai;for(ft=Fe.length-1,se=Wt-1;se>=0;se--){const Ue=Je+se,at=j[Ue],gt=Ue+1<Te?j[Ue+1].el:ce;ne[se]===0?k(null,at,X,gt,Z,he,Se,we,ke):$t&&(ft<0||se!==Fe[ft]?Ce(at,X,gt,2):ft--)}}},Ce=(P,j,X,ce,Z=null)=>{const{el:he,type:Se,transition:we,children:ke,shapeFlag:se}=P;if(se&6){Ce(P.component.subTree,j,X,ce);return}if(se&128){P.suspense.move(j,X,ce);return}if(se&64){Se.move(P,j,X,ze);return}if(Se===Pe){i(he,j,X);for(let Me=0;Me<ke.length;Me++)Ce(ke[Me],j,X,ce);i(P.anchor,j,X);return}if(Se===Uc){V(P,j,X);return}if(ce!==2&&se&1&&we)if(ce===0)we.beforeEnter(he),i(he,j,X),$n(()=>we.enter(he),Z);else{const{leave:Me,delayLeave:te,afterLeave:Ve}=we,Je=()=>i(he,j,X),pt=()=>{Me(he,()=>{Je(),Ve&&Ve()})};te?te(he,Je,pt):pt()}else i(he,j,X)},W=(P,j,X,ce=!1,Z=!1)=>{const{type:he,props:Se,ref:we,children:ke,dynamicChildren:se,shapeFlag:Te,patchFlag:Me,dirs:te,cacheIndex:Ve}=P;if(Me===-2&&(Z=!1),we!=null&&$c(we,null,X,P,!0),Ve!=null&&(j.renderCache[Ve]=void 0),Te&256){j.ctx.deactivate(P);return}const Je=Te&1&&te,pt=!Bs(P);let ft;if(pt&&(ft=Se&&Se.onVnodeBeforeUnmount)&&Pi(ft,j,P),Te&6)de(P.component,X,ce);else{if(Te&128){P.suspense.unmount(X,ce);return}Je&&Yr(P,null,j,"beforeUnmount"),Te&64?P.type.remove(P,j,X,ze,ce):se&&!se.hasOnce&&(he!==Pe||Me>0&&Me&64)?ye(se,j,X,!1,!0):(he===Pe&&Me&384||!Z&&Te&16)&&ye(ke,j,X),ce&&Q(P)}(pt&&(ft=Se&&Se.onVnodeUnmounted)||Je)&&$n(()=>{ft&&Pi(ft,j,P),Je&&Yr(P,null,j,"unmounted")},X)},Q=P=>{const{type:j,el:X,anchor:ce,transition:Z}=P;if(j===Pe){fe(X,ce);return}if(j===Uc){O(P);return}const he=()=>{r(X),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(P.shapeFlag&1&&Z&&!Z.persisted){const{leave:Se,delayLeave:we}=Z,ke=()=>Se(X,he);we?we(P.el,he,ke):ke()}else he()},fe=(P,j)=>{let X;for(;P!==j;)X=m(P),r(P),P=X;r(j)},de=(P,j,X)=>{const{bum:ce,scope:Z,update:he,subTree:Se,um:we,m:ke,a:se}=P;vg(ke),vg(se),ce&&el(ce),Z.stop(),he&&(he.active=!1,W(Se,P,j,X)),we&&$n(we,j),$n(()=>{P.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},ye=(P,j,X,ce=!1,Z=!1,he=0)=>{for(let Se=he;Se<P.length;Se++)W(P[Se],j,X,ce,Z)},Oe=P=>{if(P.shapeFlag&6)return Oe(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const j=m(P.anchor||P.el),X=j&&j[fg];return X?m(X):j};let qe=!1;const De=(P,j,X)=>{P==null?j._vnode&&W(j._vnode,null,null,!0):k(j._vnode||null,P,j,null,null,null,X),j._vnode=P,qe||(qe=!0,Nh(),Rh(),qe=!1)},ze={p:k,um:W,m:Ce,r:Q,mt:_e,mc:M,pc:le,pbc:N,n:Oe,o:e};let mt,vt;return t&&([mt,vt]=t(ze)),{render:De,hydrate:mt,createApp:b_(De,mt)}}function Hc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Xr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function N_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vc(e,t,n=!1){const i=e.children,r=t.children;if(Xe(i)&&Xe(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Tr(r[o]),a.el=s.el),!n&&a.patchFlag!==-2&&Vc(s,a)),a.type===wl&&(a.el=s.el)}}function R_(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(r=n[n.length-1],e[r]<f){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<f?o=a+1:s=a;f<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function mg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:mg(t)}function vg(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const P_=Symbol.for("v-scx"),M_=()=>Mo(P_),Cl={};function ci(e,t,n){return yg(e,t,n)}function yg(e,t,{immediate:n,deep:i,flush:r,once:o,onTrack:s,onTrigger:a}=Et){if(t&&o){const K=t;t=(...h)=>{K(...h),ge()}}const l=mn,f=K=>i===!0?K:wr(K,i===!1?1:void 0);let d,v=!1,m=!1;if(Ln(e)?(d=()=>e.value,v=Lo(e)):Rs(e)?(d=()=>f(e),v=!0):Xe(e)?(m=!0,v=e.some(K=>Rs(K)||Lo(K)),d=()=>e.map(K=>{if(Ln(K))return K.value;if(Rs(K))return f(K);if(st(K))return Zi(K,l,2)})):st(e)?t?d=()=>Zi(e,l,2):d=()=>(C&&C(),li(e,l,3,[b])):d=qn,t&&i){const K=d;d=()=>wr(K())}let C,b=K=>{C=V.onStop=()=>{Zi(K,l,4),C=V.onStop=void 0}},k;if(Al)if(b=qn,t?n&&li(t,l,3,[d(),m?[]:void 0,b]):d(),r==="sync"){const K=M_();k=K.__watcherHandles||(K.__watcherHandles=[])}else return qn;let x=m?new Array(e.length).fill(Cl):Cl;const L=()=>{if(!(!V.active||!V.dirty))if(t){const K=V.run();(i||v||(m?K.some((h,M)=>vr(h,x[M])):vr(K,x)))&&(C&&C(),li(t,l,3,[K,x===Cl?void 0:m&&x[0]===Cl?[]:x,b]),x=K)}else V.run()};L.allowRecurse=!!t;let $;r==="sync"?$=L:r==="post"?$=()=>$n(L,l&&l.suspense):(L.pre=!0,l&&(L.id=l.uid),$=()=>Ec(L));const V=new hc(d,qn,$),O=nh(),ge=()=>{V.stop(),O&&uc(O.effects,V)};return t?n?L():x=V.run():r==="post"?$n(V.run.bind(V),l&&l.suspense):V.run(),k&&k.push(ge),ge}function D_(e,t,n){const i=this.proxy,r=zt(e)?e.includes(".")?bg(i,e):()=>i[e]:e.bind(i,i);let o;st(t)?o=t:(o=t.handler,n=t);const s=Us(this),a=yg(r,o.bind(i),n);return s(),a}function bg(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function wr(e,t=1/0,n){if(t<=0||!Ft(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ln(e))wr(e.value,t,n);else if(Xe(e))for(let i=0;i<e.length;i++)wr(e[i],t,n);else if(Ao(e)||Eo(e))e.forEach(i=>{wr(i,t,n)});else if(Yp(e)){for(const i in e)wr(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&wr(e[i],t,n)}return e}const F_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ci(t)}Modifiers`]||e[`${mr(t)}Modifiers`];function B_(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Et;let r=n;const o=t.startsWith("update:"),s=o&&F_(i,t.slice(7));s&&(s.trim&&(r=n.map(d=>zt(d)?d.trim():d)),s.number&&(r=n.map(tl)));let a,l=i[a=fc(t)]||i[a=fc(Ci(t))];!l&&o&&(l=i[a=fc(mr(t))]),l&&li(l,e,6,r);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,li(f,e,6,r)}}function Cg(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let s={},a=!1;if(!st(e)){const l=f=>{const d=Cg(f,t,!0);d&&(a=!0,fn(s,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Ft(e)&&i.set(e,null),null):(Xe(o)?o.forEach(l=>s[l]=null):fn(s,o),Ft(e)&&i.set(e,s),s)}function _l(e,t){return!e||!Ja(t)?!1:(t=t.slice(2).replace(/Once$/,""),kt(e,t[0].toLowerCase()+t.slice(1))||kt(e,mr(t))||kt(e,t))}function iV(){}function Wc(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:s,attrs:a,emit:l,render:f,renderCache:d,props:v,data:m,setupState:C,ctx:b,inheritAttrs:k}=e,x=pl(e);let L,$;try{if(n.shapeFlag&4){const O=r||i,ge=O;L=Ri(f.call(ge,O,d,v,C,m,b)),$=a}else{const O=t;L=Ri(O.length>1?O(v,{attrs:a,slots:s,emit:l}):O(v,null)),$=t.props?a:$_(a)}}catch(O){Vs.length=0,fl(O,e,1),L=ie(jn)}let V=L;if($&&k!==!1){const O=Object.keys($),{shapeFlag:ge}=V;O.length&&ge&7&&(o&&O.some(lc)&&($=j_($,o)),V=kr(V,$,!1,!0))}return n.dirs&&(V=kr(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),L=V,pl(x),L}const $_=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ja(n))&&((t||(t={}))[n]=e[n]);return t},j_=(e,t)=>{const n={};for(const i in e)(!lc(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function H_(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?_g(i,s,f):!!s;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(s[m]!==i[m]&&!_l(f,m))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?_g(i,s,f):!0:!!s;return!1}function _g(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!_l(n,o))return!0}return!1}function V_({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const W_=e=>e.__isSuspense;function U_(e,t){t&&t.pendingBranch?Xe(e)?t.effects.push(...e):t.effects.push(e):JC(e)}const Pe=Symbol.for("v-fgt"),wl=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),Uc=Symbol.for("v-stc"),Vs=[];let Xn=null;function T(e=!1){Vs.push(Xn=e?null:[])}function K_(){Vs.pop(),Xn=Vs[Vs.length-1]||null}let Ws=1;function wg(e){Ws+=e,e<0&&Xn&&(Xn.hasOnce=!0)}function kg(e){return e.dynamicChildren=Ws>0?Xn||ai:null,K_(),Ws>0&&Xn&&Xn.push(e),e}function A(e,t,n,i,r,o){return kg(p(e,t,n,i,r,o,!0))}function Ae(e,t,n,i,r){return kg(ie(e,t,n,i,r,!0))}function kl(e){return e?e.__v_isVNode===!0:!1}function Jr(e,t){return e.type===t.type&&e.key===t.key}const Tg=({key:e})=>e??null,Tl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||Ln(e)||st(e)?{i:dn,r:e,k:t,f:!!n}:e:null);function p(e,t=null,n=null,i=0,r=null,o=e===Pe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tg(t),ref:t&&Tl(t),scopeId:dl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:dn};return a?(Kc(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=zt(n)?8:16),Ws>0&&!s&&Xn&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Xn.push(l),l}const ie=G_;function G_(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===Wh)&&(e=jn),kl(e)){const a=kr(e,t,!0);return n&&Kc(a,n),Ws>0&&!o&&Xn&&(a.shapeFlag&6?Xn[Xn.indexOf(e)]=a:Xn.push(a)),a.patchFlag=-2,a}if(iw(e)&&(e=e.__vccOpts),t){t=z_(t);let{class:a,style:l}=t;a&&!zt(a)&&(t.class=Ge(a)),Ft(l)&&(kh(l)&&!Xe(l)&&(l=fn({},l)),t.style=At(l))}const s=zt(e)?1:W_(e)?128:S_(e)?64:Ft(e)?4:st(e)?2:0;return p(e,t,n,i,r,s,o,!0)}function z_(e){return e?kh(e)||ig(e)?fn({},e):e:null}function kr(e,t,n=!1,i=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:l}=e,f=t?xl(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Tg(f),ref:t&&t.ref?n&&o?Xe(o)?o.concat(Tl(t)):[o,Tl(t)]:Tl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kr(e.ssContent),ssFallback:e.ssFallback&&kr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&gl(d,l.clone(d)),d}function Ze(e=" ",t=0){return ie(wl,null,e,t)}function Y(e="",t=!1){return t?(T(),Ae(jn,null,e)):ie(jn,null,e)}function Ri(e){return e==null||typeof e=="boolean"?ie(jn):Xe(e)?ie(Pe,null,e.slice()):typeof e=="object"?Tr(e):ie(wl,null,String(e))}function Tr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:kr(e)}function Kc(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Xe(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Kc(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!ig(t)?t._ctx=dn:r===3&&dn&&(dn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else st(t)?(t={default:t,_ctx:dn},n=32):(t=String(t),i&64?(n=16,t=[Ze(t)]):n=8);e.children=t,e.shapeFlag|=n}function xl(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Ge([t.class,i.class]));else if(r==="style")t.style=At([t.style,i.style]);else if(Ja(r)){const o=t[r],s=i[r];s&&o!==s&&!(Xe(o)&&o.includes(s))&&(t[r]=o?[].concat(o,s):s)}else r!==""&&(t[r]=i[r])}return t}function Pi(e,t,n,i=null){li(e,t,7,[n,i])}const q_=Qh();let Y_=0;function X_(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||q_,o={uid:Y_++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new mC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:og(i,r),emitsOptions:Cg(i,r),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:i.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=B_.bind(null,o),e.ce&&e.ce(o),o}let mn=null;const Sl=()=>mn||dn;let El,Gc;{const e=Zp(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),o=>{r.length>1?r.forEach(s=>s(o)):r[0](o)}};El=t("__VUE_INSTANCE_SETTERS__",n=>mn=n),Gc=t("__VUE_SSR_SETTERS__",n=>Al=n)}const Us=e=>{const t=mn;return El(e),e.scope.on(),()=>{e.scope.off(),El(t)}},xg=()=>{mn&&mn.scope.off(),El(null)};function Sg(e){return e.vnode.shapeFlag&4}let Al=!1;function J_(e,t=!1,n=!1){t&&Gc(t);const{props:i,children:r}=e.vnode,o=Sg(e);C_(e,i,o,t),T_(e,r,n);const s=o?Z_(e,t):void 0;return t&&Gc(!1),s}function Z_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,d_);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?ew(e):null,o=Us(e);Yi();const s=Zi(i,e,0,[e.props,r]);if(Xi(),o(),zp(s)){if(s.then(xg,xg),t)return s.then(a=>{Eg(e,a,t)}).catch(a=>{fl(a,e,0)});e.asyncDep=s}else Eg(e,s,t)}else Lg(e,t)}function Eg(e,t,n){st(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ft(t)&&(e.setupState=Ah(t)),Lg(e,n)}let Ag;function Lg(e,t,n){const i=e.type;if(!e.render){if(!t&&Ag&&!i.render){const r=i.template||Mc(e).template;if(r){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=fn(fn({isCustomElement:o,delimiters:a},s),l);i.render=Ag(r,f)}}e.render=i.render||qn}{const r=Us(e);Yi();try{p_(e)}finally{Xi(),r()}}}const Q_={get(e,t){return Dn(e,"get",""),e[t]}};function ew(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Q_),slots:e.slots,emit:e.emit,expose:t}}function Ll(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ah($C(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $s)return $s[n](e)},has(t,n){return n in t||n in $s}})):e.proxy}const tw=/(?:^|[-_])(\w)/g,nw=e=>e.replace(tw,t=>t.toUpperCase()).replace(/[-_]/g,"");function Og(e,t=!0){return st(e)?e.displayName||e.name:e.name||t&&e.__name}function Ig(e,t,n=!1){let i=Og(t);if(!i&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&e&&e.parent){const r=o=>{for(const s in o)if(o[s]===t)return s};i=r(e.components||e.parent.type.components)||r(e.appContext.components)}return i?nw(i):n?"App":"Anonymous"}function iw(e){return st(e)&&"__vccOpts"in e}const sn=(e,t)=>jC(e,t,Al);function Nt(e,t,n){const i=arguments.length;return i===2?Ft(t)&&!Xe(t)?kl(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&kl(n)&&(n=[n]),ie(e,t,n))}const rw="3.4.37";/**
* @vue/runtime-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ow="http://www.w3.org/2000/svg",sw="http://www.w3.org/1998/Math/MathML",er=typeof document<"u"?document:null,Ng=er&&er.createElement("template"),aw={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?er.createElementNS(ow,e):t==="mathml"?er.createElementNS(sw,e):n?er.createElement(e,{is:n}):er.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>er.createTextNode(e),createComment:e=>er.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>er.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const s=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Ng.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=Ng.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xr="transition",Ks="animation",Gs=Symbol("_vtc"),Bt=(e,{slots:t})=>Nt(e_,lw(e),t);Bt.displayName="Transition";const Rg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bt.props=fn({},Mh,Rg);const Zr=(e,t=[])=>{Xe(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pg=e=>e?Xe(e)?e.some(t=>t.length>1):e.length>1:!1;function lw(e){const t={};for(const F in e)F in Rg||(t[F]=e[F]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=s,appearToClass:d=a,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,b=uw(r),k=b&&b[0],x=b&&b[1],{onBeforeEnter:L,onEnter:$,onEnterCancelled:V,onLeave:O,onLeaveCancelled:ge,onBeforeAppear:K=L,onAppear:h=$,onAppearCancelled:M=V}=t,E=(F,q,_e)=>{Qr(F,q?d:a),Qr(F,q?f:s),_e&&_e()},N=(F,q)=>{F._isLeaving=!1,Qr(F,v),Qr(F,C),Qr(F,m),q&&q()},I=F=>(q,_e)=>{const $e=F?h:$,Le=()=>E(q,F,_e);Zr($e,[q,Le]),Mg(()=>{Qr(q,F?l:o),Sr(q,F?d:a),Pg($e)||Dg(q,i,k,Le)})};return fn(t,{onBeforeEnter(F){Zr(L,[F]),Sr(F,o),Sr(F,s)},onBeforeAppear(F){Zr(K,[F]),Sr(F,l),Sr(F,f)},onEnter:I(!1),onAppear:I(!0),onLeave(F,q){F._isLeaving=!0;const _e=()=>N(F,q);Sr(F,v),Sr(F,m),dw(),Mg(()=>{F._isLeaving&&(Qr(F,v),Sr(F,C),Pg(O)||Dg(F,i,x,_e))}),Zr(O,[F,_e])},onEnterCancelled(F){E(F,!1),Zr(V,[F])},onAppearCancelled(F){E(F,!0),Zr(M,[F])},onLeaveCancelled(F){N(F),Zr(ge,[F])}})}function uw(e){if(e==null)return null;if(Ft(e))return[zc(e.enter),zc(e.leave)];{const t=zc(e);return[t,t]}}function zc(e){return uC(e)}function Sr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Gs]||(e[Gs]=new Set)).add(t)}function Qr(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Gs];n&&(n.delete(t),n.size||(e[Gs]=void 0))}function Mg(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cw=0;function Dg(e,t,n,i){const r=e._endId=++cw,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=fw(e,t);if(!s)return i();const f=s+"end";let d=0;const v=()=>{e.removeEventListener(f,m),o()},m=C=>{C.target===e&&++d>=l&&v()};setTimeout(()=>{d<l&&v()},a+1),e.addEventListener(f,m)}function fw(e,t){const n=window.getComputedStyle(e),i=b=>(n[b]||"").split(", "),r=i(`${xr}Delay`),o=i(`${xr}Duration`),s=Fg(r,o),a=i(`${Ks}Delay`),l=i(`${Ks}Duration`),f=Fg(a,l);let d=null,v=0,m=0;t===xr?s>0&&(d=xr,v=s,m=o.length):t===Ks?f>0&&(d=Ks,v=f,m=l.length):(v=Math.max(s,f),d=v>0?s>f?xr:Ks:null,m=d?d===xr?o.length:l.length:0);const C=d===xr&&/\b(transform|all)(,|$)/.test(i(`${xr}Property`).toString());return{type:d,timeout:v,propCount:m,hasTransform:C}}function Fg(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>Bg(n)+Bg(e[i])))}function Bg(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function dw(){return document.body.offsetHeight}function pw(e,t,n){const i=e[Gs];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ol=Symbol("_vod"),$g=Symbol("_vsh"),Rt={beforeMount(e,{value:t},{transition:n}){e[Ol]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):zs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),zs(e,!0),i.enter(e)):i.leave(e,()=>{zs(e,!1)}):zs(e,t))},beforeUnmount(e,{value:t}){zs(e,t)}};function zs(e,t){e.style.display=t?e[Ol]:"none",e[$g]=!t}const hw=Symbol(""),gw=/(^|;)\s*display\s*:/;function mw(e,t,n){const i=e.style,r=zt(n);let o=!1;if(n&&!r){if(t)if(zt(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Il(i,a,"")}else for(const s in t)n[s]==null&&Il(i,s,"");for(const s in n)s==="display"&&(o=!0),Il(i,s,n[s])}else if(r){if(t!==n){const s=i[hw];s&&(n+=";"+s),i.cssText=n,o=gw.test(n)}}else t&&e.removeAttribute("style");Ol in e&&(e[Ol]=o?i.display:"",e[$g]&&(i.display="none"))}const jg=/\s*!important$/;function Il(e,t,n){if(Xe(n))n.forEach(i=>Il(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=vw(e,t);jg.test(n)?e.setProperty(mr(i),n.replace(jg,""),"important"):e[i]=n}}const Hg=["Webkit","Moz","ms"],qc={};function vw(e,t){const n=qc[t];if(n)return n;let i=Ci(t);if(i!=="filter"&&i in e)return qc[t]=i;i=Qa(i);for(let r=0;r<Hg.length;r++){const o=Hg[r]+i;if(o in e)return qc[t]=o}return t}const Vg="http://www.w3.org/1999/xlink";function Wg(e,t,n,i,r,o=hC(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Vg,t.slice(6,t.length)):e.setAttributeNS(Vg,t,n):n==null||o&&!Qp(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Ii(n)?String(n):n)}function yw(e,t,n,i){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const s=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?"":String(n);(s!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=Qp(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function Er(e,t,n,i){e.addEventListener(t,n,i)}function bw(e,t,n,i){e.removeEventListener(t,n,i)}const Ug=Symbol("_vei");function Cw(e,t,n,i,r=null){const o=e[Ug]||(e[Ug]={}),s=o[t];if(i&&s)s.value=i;else{const[a,l]=_w(t);if(i){const f=o[t]=Tw(i,r);Er(e,a,f,l)}else s&&(bw(e,a,s,l),o[t]=void 0)}}const Kg=/(?:Once|Passive|Capture)$/;function _w(e){let t;if(Kg.test(e)){t={};let i;for(;i=e.match(Kg);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mr(e.slice(2)),t]}let Yc=0;const ww=Promise.resolve(),kw=()=>Yc||(ww.then(()=>Yc=0),Yc=Date.now());function Tw(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;li(xw(i,n.value),t,5,[i])};return n.value=e,n.attached=kw(),n}function xw(e,t){if(Xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Gg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Sw=(e,t,n,i,r,o)=>{const s=r==="svg";t==="class"?pw(e,i,s):t==="style"?mw(e,n,i):Ja(t)?lc(t)||Cw(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ew(e,t,i,s))?(yw(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wg(e,t,i,s,o,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Wg(e,t,i,s))};function Ew(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Gg(t)&&st(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Gg(t)&&zt(n)?!1:t in e}const Do=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Xe(t)?n=>el(t,n):t};function Aw(e){e.target.composing=!0}function zg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const tr=Symbol("_assign"),_t={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[tr]=Do(r);const o=i||r.props&&r.props.type==="number";Er(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=tl(a)),e[tr](a)}),n&&Er(e,"change",()=>{e.value=e.value.trim()}),t||(Er(e,"compositionstart",Aw),Er(e,"compositionend",zg),Er(e,"change",zg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:o}},s){if(e[tr]=Do(s),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?tl(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Xc={deep:!0,created(e,t,n){e[tr]=Do(n),Er(e,"change",()=>{const i=e._modelValue,r=qs(e),o=e.checked,s=e[tr];if(Xe(i)){const a=dc(i,r),l=a!==-1;if(o&&!l)s(i.concat(r));else if(!o&&l){const f=[...i];f.splice(a,1),s(f)}}else if(Ao(i)){const a=new Set(i);o?a.add(r):a.delete(r),s(a)}else s(Xg(e,o))})},mounted:qg,beforeUpdate(e,t,n){e[tr]=Do(n),qg(e,t,n)}};function qg(e,{value:t,oldValue:n},i){e._modelValue=t,Xe(t)?e.checked=dc(t,i.props.value)>-1:Ao(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Ns(t,Xg(e,!0)))}const Fo={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Ao(t);Er(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?tl(qs(s)):qs(s));e[tr](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Io(()=>{e._assigning=!1})}),e[tr]=Do(i)},mounted(e,{value:t,modifiers:{number:n}}){Yg(e,t)},beforeUpdate(e,t,n){e[tr]=Do(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||Yg(e,t)}};function Yg(e,t,n){const i=e.multiple,r=Xe(t);if(!(i&&!r&&!Ao(t))){for(let o=0,s=e.options.length;o<s;o++){const a=e.options[o],l=qs(a);if(i)if(r){const f=typeof l;f==="string"||f==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=dc(t,l)>-1}else a.selected=t.has(l);else if(Ns(qs(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qs(e){return"_value"in e?e._value:e.value}function Xg(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Lw=["ctrl","shift","alt","meta"],Ow={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Lw.some(n=>e[`${n}Key`]&&!t.includes(n))},We=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...o)=>{for(let s=0;s<t.length;s++){const a=Ow[t[s]];if(a&&a(r,t))return}return e(r,...o)})},Iw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const o=mr(r.key);if(t.some(s=>s===o||Iw[s]===o))return e(r)})},Nw=fn({patchProp:Sw},aw);let Jg;function Zg(){return Jg||(Jg=O_(Nw))}const Qg=(...e)=>{Zg().render(...e)},Rw=(...e)=>{const t=Zg().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Mw(i);if(!r)return;const o=t._component;!st(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,Pw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function Pw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mw(e){return zt(e)?document.querySelector(e):e}/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(i){Dw(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Nl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(t){return typeof t}:Nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function Dw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nr.apply(this,arguments)}function Fw(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Bw(e,t){if(e==null)return{};var n=Fw(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var $w="1.15.2";function ir(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var rr=ir(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ys=ir(/Edge/i),tm=ir(/firefox/i),Xs=ir(/safari/i)&&!ir(/chrome/i)&&!ir(/android/i),nm=ir(/iP(ad|od|hone)/i),im=ir(/chrome/i)&&ir(/android/i),rm={capture:!1,passive:!1};function It(e,t,n){e.addEventListener(t,n,!rr&&rm)}function xt(e,t,n){e.removeEventListener(t,n,!rr&&rm)}function Rl(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function jw(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _i(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Rl(e,t):Rl(e,t))||i&&e===n)return e;if(e===n)break}while(e=jw(e))}return null}var om=/\s+/g;function Jn(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(om," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(om," ")}}function tt(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function Bo(e,t){var n="";if(typeof e=="string")n=e;else do{var i=tt(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function sm(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function Fi(){var e=document.scrollingElement;return e||document.documentElement}function en(e,t,n,i,r){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,f,d,v;if(e!==window&&e.parentNode&&e!==Fi()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,f=o.right,d=o.height,v=o.width):(s=0,a=0,l=window.innerHeight,f=window.innerWidth,d=window.innerHeight,v=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!rr))do if(r&&r.getBoundingClientRect&&(tt(r,"transform")!=="none"||n&&tt(r,"position")!=="static")){var m=r.getBoundingClientRect();s-=m.top+parseInt(tt(r,"border-top-width")),a-=m.left+parseInt(tt(r,"border-left-width")),l=s+o.height,f=a+o.width;break}while(r=r.parentNode);if(i&&e!==window){var C=Bo(r||e),b=C&&C.a,k=C&&C.d;C&&(s/=k,a/=b,v/=b,d/=k,l=s+d,f=a+v)}return{top:s,left:a,bottom:l,right:f,width:v,height:d}}}function am(e,t,n){for(var i=Ar(e,!0),r=en(e)[t];i;){var o=en(i)[n],s=void 0;if(n==="top"||n==="left"?s=r>=o:s=r<=o,!s)return i;if(i===Fi())break;i=Ar(i,!1)}return!1}function $o(e,t,n,i){for(var r=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==nt.ghost&&(i||s[o]!==nt.dragged)&&_i(s[o],n.draggable,e,!1)){if(r===t)return s[o];r++}o++}return null}function Jc(e,t){for(var n=e.lastElementChild;n&&(n===nt.ghost||tt(n,"display")==="none"||t&&!Rl(n,t));)n=n.previousElementSibling;return n||null}function fi(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==nt.clone&&(!t||Rl(e,t))&&n++;return n}function lm(e){var t=0,n=0,i=Fi();if(e)do{var r=Bo(e),o=r.a,s=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,n]}function Hw(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function Ar(e,t){if(!e||!e.getBoundingClientRect)return Fi();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=tt(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Fi();if(i||t)return n;i=!0}}while(n=n.parentNode);return Fi()}function Vw(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Zc(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Js;function um(e,t){return function(){if(!Js){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Js=setTimeout(function(){Js=void 0},t)}}}function Ww(){clearTimeout(Js),Js=void 0}function cm(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function fm(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function dm(e,t,n){var i={};return Array.from(e.children).forEach(function(r){var o,s,a,l;if(!(!_i(r,t.draggable,e,!1)||r.animated||r===n)){var f=en(r);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,f.left),i.top=Math.min((s=i.top)!==null&&s!==void 0?s:1/0,f.top),i.right=Math.max((a=i.right)!==null&&a!==void 0?a:-1/0,f.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,f.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Zn="Sortable"+new Date().getTime();function Uw(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(tt(r,"display")==="none"||r===nt.ghost)){e.push({target:r,rect:en(r)});var o=Di({},e[e.length-1].rect);if(r.thisAnimationDuration){var s=Bo(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(Hw(e,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,s=0;e.forEach(function(a){var l=0,f=a.target,d=f.fromRect,v=en(f),m=f.prevFromRect,C=f.prevToRect,b=a.rect,k=Bo(f,!0);k&&(v.top-=k.f,v.left-=k.e),f.toRect=v,f.thisAnimationDuration&&Zc(m,v)&&!Zc(d,v)&&(b.top-v.top)/(b.left-v.left)===(d.top-v.top)/(d.left-v.left)&&(l=Gw(b,m,C,r.options)),Zc(v,d)||(f.prevFromRect=d,f.prevToRect=v,l||(l=r.options.animation),r.animate(f,b,v,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},l),f.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),e=[]},animate:function(i,r,o,s){if(s){tt(i,"transition",""),tt(i,"transform","");var a=Bo(this.el),l=a&&a.a,f=a&&a.d,d=(r.left-o.left)/(l||1),v=(r.top-o.top)/(f||1);i.animatingX=!!d,i.animatingY=!!v,tt(i,"transform","translate3d("+d+"px,"+v+"px,0)"),this.forRepaintDummy=Kw(i),tt(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),tt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){tt(i,"transition",""),tt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function Kw(e){return e.offsetWidth}function Gw(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var jo=[],Qc={initializeByDefault:!0},Zs={mount:function(t){for(var n in Qc)Qc.hasOwnProperty(n)&&!(n in t)&&(t[n]=Qc[n]);jo.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),jo.push(t)},pluginEvent:function(t,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=t+"Global";jo.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](Di({sortable:n},i)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](Di({sortable:n},i)))})},initializePlugins:function(t,n,i,r){jo.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var f=new a(t,n,t.options);f.sortable=t,f.options=t.options,t[l]=f,nr(i,f.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var i={};return jo.forEach(function(r){typeof r.eventProperties=="function"&&nr(i,r.eventProperties.call(n[r.pluginName],t))}),i},modifyOption:function(t,n,i){var r;return jo.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(r=o.optionListeners[n].call(t[o.pluginName],i))}),r}};function zw(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,f=e.newIndex,d=e.oldDraggableIndex,v=e.newDraggableIndex,m=e.originalEvent,C=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[Zn],!!t){var k,x=t.options,L="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!rr&&!Ys?k=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(i,!0,!0)),k.to=s||n,k.from=a||n,k.item=r||n,k.clone=o,k.oldIndex=l,k.newIndex=f,k.oldDraggableIndex=d,k.newDraggableIndex=v,k.originalEvent=m,k.pullMode=C?C.lastPutMode:void 0;var $=Di(Di({},b),Zs.getEventProperties(i,t));for(var V in $)k[V]=$[V];n&&n.dispatchEvent(k),x[L]&&x[L].call(t,k)}}var qw=["evt"],Hn=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=Bw(i,qw);Zs.pluginEvent.bind(nt)(t,n,Di({dragEl:Ne,parentEl:Yt,ghostEl:ut,rootEl:Ut,nextEl:eo,lastDownEl:Pl,cloneEl:qt,cloneHidden:Lr,dragStarted:ea,putSortable:vn,activeSortable:nt.active,originalEvent:r,oldIndex:Ho,oldDraggableIndex:Qs,newIndex:Qn,newDraggableIndex:Or,hideGhostForTarget:bm,unhideGhostForTarget:Cm,cloneNowHidden:function(){Lr=!0},cloneNowShown:function(){Lr=!1},dispatchSortableEvent:function(a){In({sortable:n,name:a,originalEvent:r})}},o))};function In(e){zw(Di({putSortable:vn,cloneEl:qt,targetEl:Ne,rootEl:Ut,oldIndex:Ho,oldDraggableIndex:Qs,newIndex:Qn,newDraggableIndex:Or},e))}var Ne,Yt,ut,Ut,eo,Pl,qt,Lr,Ho,Qn,Qs,Or,Ml,vn,Vo=!1,Dl=!1,Fl=[],to,wi,ef,tf,pm,hm,ea,Wo,ta,na=!1,Bl=!1,$l,kn,nf=[],rf=!1,jl=[],Hl=typeof document<"u",Vl=nm,gm=Ys||rr?"cssFloat":"float",Yw=Hl&&!im&&!nm&&"draggable"in document.createElement("div"),mm=function(){if(Hl){if(rr)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),vm=function(t,n){var i=tt(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=$o(t,0,n),s=$o(t,1,n),a=o&&tt(o),l=s&&tt(s),f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+en(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+en(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var v=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===v)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||f>=r&&i[gm]==="none"||s&&i[gm]==="none"&&f+d>r)?"vertical":"horizontal"},Xw=function(t,n,i){var r=i?t.left:t.top,o=i?t.right:t.bottom,s=i?t.width:t.height,a=i?n.left:n.top,l=i?n.right:n.bottom,f=i?n.width:n.height;return r===a||o===l||r+s/2===a+f/2},Jw=function(t,n){var i;return Fl.some(function(r){var o=r[Zn].options.emptyInsertThreshold;if(!(!o||Jc(r))){var s=en(r),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return i=r}}),i},ym=function(t){function n(o,s){return function(a,l,f,d){var v=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||v))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,f,d),s)(a,l,f,d);var m=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===m||o.join&&o.indexOf(m)>-1}}var i={},r=t.group;(!r||Nl(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,t.group=i},bm=function(){!mm&&ut&&tt(ut,"display","none")},Cm=function(){!mm&&ut&&tt(ut,"display","")};Hl&&!im&&document.addEventListener("click",function(e){if(Dl)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Dl=!1,!1},!0);var no=function(t){if(Ne){t=t.touches?t.touches[0]:t;var n=Jw(t.clientX,t.clientY);if(n){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Zn]._onDragOver(i)}}},Zw=function(t){Ne&&Ne.parentNode[Zn]._isOutsideThisEl(t.target)};function nt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=nr({},t),e[Zn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vm(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:nt.supportPointer!==!1&&"PointerEvent"in window&&!Xs,emptyInsertThreshold:5};Zs.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);ym(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Yw,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?It(e,"pointerdown",this._onTapStart):(It(e,"mousedown",this._onTapStart),It(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(It(e,"dragover",this),It(e,"dragenter",this)),Fl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),nr(this,Uw())}nt.prototype={constructor:nt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Wo=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Ne):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,r=this.options,o=r.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=r.filter;if(sk(i),!Ne&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||r.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Xs&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=_i(l,r.draggable,i,!1),!(l&&l.animated)&&Pl!==l)){if(Ho=fi(l),Qs=fi(l,r.draggable),typeof d=="function"){if(d.call(this,t,l,this)){In({sortable:n,rootEl:f,name:"filter",targetEl:l,toEl:i,fromEl:i}),Hn("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(v){if(v=_i(f,v.trim(),i,!1),v)return In({sortable:n,rootEl:v,name:"filter",targetEl:l,fromEl:i,toEl:i}),Hn("filter",n,{evt:t}),!0}),d)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!_i(f,r.handle,i,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,i){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(i&&!Ne&&i.parentNode===o){var f=en(i);if(Ut=o,Ne=i,Yt=Ne.parentNode,eo=Ne.nextSibling,Pl=i,Ml=s.group,nt.dragged=Ne,to={target:Ne,clientX:(n||t).clientX,clientY:(n||t).clientY},pm=to.clientX-f.left,hm=to.clientY-f.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Ne.style["will-change"]="all",l=function(){if(Hn("delayEnded",r,{evt:t}),nt.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!tm&&r.nativeDraggable&&(Ne.draggable=!0),r._triggerDragStart(t,n),In({sortable:r,name:"choose",originalEvent:t}),Jn(Ne,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){sm(Ne,d.trim(),of)}),It(a,"dragover",no),It(a,"mousemove",no),It(a,"touchmove",no),It(a,"mouseup",r._onDrop),It(a,"touchend",r._onDrop),It(a,"touchcancel",r._onDrop),tm&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),Hn("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ys||rr))){if(nt.eventCanceled){this._onDrop();return}It(a,"mouseup",r._disableDelayedDrag),It(a,"touchend",r._disableDelayedDrag),It(a,"touchcancel",r._disableDelayedDrag),It(a,"mousemove",r._delayedDragTouchMoveHandler),It(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&It(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&of(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;xt(t,"mouseup",this._disableDelayedDrag),xt(t,"touchend",this._disableDelayedDrag),xt(t,"touchcancel",this._disableDelayedDrag),xt(t,"mousemove",this._delayedDragTouchMoveHandler),xt(t,"touchmove",this._delayedDragTouchMoveHandler),xt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?It(document,"pointermove",this._onTouchMove):n?It(document,"touchmove",this._onTouchMove):It(document,"mousemove",this._onTouchMove):(It(Ne,"dragend",this),It(Ut,"dragstart",this._onDragStart));try{document.selection?Ul(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Vo=!1,Ut&&Ne){Hn("dragStarted",this,{evt:n}),this.nativeDraggable&&It(document,"dragover",Zw);var i=this.options;!t&&Jn(Ne,i.dragClass,!1),Jn(Ne,i.ghostClass,!0),nt.active=this,t&&this._appendGhost(),In({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(wi){this._lastX=wi.clientX,this._lastY=wi.clientY,bm();for(var t=document.elementFromPoint(wi.clientX,wi.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(wi.clientX,wi.clientY),t!==n);)n=t;if(Ne.parentNode[Zn]._isOutsideThisEl(t),n)do{if(n[Zn]){var i=void 0;if(i=n[Zn]._onDragOver({clientX:wi.clientX,clientY:wi.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Cm()}},_onTouchMove:function(t){if(to){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=ut&&Bo(ut,!0),a=ut&&s&&s.a,l=ut&&s&&s.d,f=Vl&&kn&&lm(kn),d=(o.clientX-to.clientX+r.x)/(a||1)+(f?f[0]-nf[0]:0)/(a||1),v=(o.clientY-to.clientY+r.y)/(l||1)+(f?f[1]-nf[1]:0)/(l||1);if(!nt.active&&!Vo){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(ut){s?(s.e+=d-(ef||0),s.f+=v-(tf||0)):s={a:1,b:0,c:0,d:1,e:d,f:v};var m="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");tt(ut,"webkitTransform",m),tt(ut,"mozTransform",m),tt(ut,"msTransform",m),tt(ut,"transform",m),ef=d,tf=v,wi=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ut){var t=this.options.fallbackOnBody?document.body:Ut,n=en(Ne,!0,Vl,!0,t),i=this.options;if(Vl){for(kn=t;tt(kn,"position")==="static"&&tt(kn,"transform")==="none"&&kn!==document;)kn=kn.parentNode;kn!==document.body&&kn!==document.documentElement?(kn===document&&(kn=Fi()),n.top+=kn.scrollTop,n.left+=kn.scrollLeft):kn=Fi(),nf=lm(kn)}ut=Ne.cloneNode(!0),Jn(ut,i.ghostClass,!1),Jn(ut,i.fallbackClass,!0),Jn(ut,i.dragClass,!0),tt(ut,"transition",""),tt(ut,"transform",""),tt(ut,"box-sizing","border-box"),tt(ut,"margin",0),tt(ut,"top",n.top),tt(ut,"left",n.left),tt(ut,"width",n.width),tt(ut,"height",n.height),tt(ut,"opacity","0.8"),tt(ut,"position",Vl?"absolute":"fixed"),tt(ut,"zIndex","100000"),tt(ut,"pointerEvents","none"),nt.ghost=ut,t.appendChild(ut),tt(ut,"transform-origin",pm/parseInt(ut.style.width)*100+"% "+hm/parseInt(ut.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,r=t.dataTransfer,o=i.options;if(Hn("dragStart",this,{evt:t}),nt.eventCanceled){this._onDrop();return}Hn("setupClone",this),nt.eventCanceled||(qt=fm(Ne),qt.removeAttribute("id"),qt.draggable=!1,qt.style["will-change"]="",this._hideClone(),Jn(qt,this.options.chosenClass,!1),nt.clone=qt),i.cloneId=Ul(function(){Hn("clone",i),!nt.eventCanceled&&(i.options.removeCloneOnHide||Ut.insertBefore(qt,Ne),i._hideClone(),In({sortable:i,name:"clone"}))}),!n&&Jn(Ne,o.dragClass,!0),n?(Dl=!0,i._loopId=setInterval(i._emulateDragOver,50)):(xt(document,"mouseup",i._onDrop),xt(document,"touchend",i._onDrop),xt(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,Ne)),It(document,"drop",i),tt(Ne,"transform","translateZ(0)")),Vo=!0,i._dragStartId=Ul(i._dragStarted.bind(i,n,t)),It(document,"selectstart",i),ea=!0,Xs&&tt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,r,o,s,a=this.options,l=a.group,f=nt.active,d=Ml===l,v=a.sort,m=vn||f,C,b=this,k=!1;if(rf)return;function x(le,be){Hn(le,b,Di({evt:t,isOwner:d,axis:C?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:v,fromSortable:m,target:i,completed:$,onMove:function(Ce,W){return Wl(Ut,n,Ne,r,Ce,en(Ce),t,W)},changed:V},be))}function L(){x("dragOverAnimationCapture"),b.captureAnimationState(),b!==m&&m.captureAnimationState()}function $(le){return x("dragOverCompleted",{insertion:le}),le&&(d?f._hideClone():f._showClone(b),b!==m&&(Jn(Ne,vn?vn.options.ghostClass:f.options.ghostClass,!1),Jn(Ne,a.ghostClass,!0)),vn!==b&&b!==nt.active?vn=b:b===nt.active&&vn&&(vn=null),m===b&&(b._ignoreWhileAnimating=i),b.animateAll(function(){x("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===Ne&&!Ne.animated||i===n&&!i.animated)&&(Wo=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(Ne.parentNode[Zn]._isOutsideThisEl(t.target),!le&&no(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),k=!0}function V(){Qn=fi(Ne),Or=fi(Ne,a.draggable),In({sortable:b,name:"change",toEl:n,newIndex:Qn,newDraggableIndex:Or,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=_i(i,a.draggable,n,!0),x("dragOver"),nt.eventCanceled)return k;if(Ne.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||b._ignoreWhileAnimating===i)return $(!1);if(Dl=!1,f&&!a.disabled&&(d?v||(s=Yt!==Ut):vn===this||(this.lastPutMode=Ml.checkPull(this,f,Ne,t))&&l.checkPut(this,f,Ne,t))){if(C=this._getDirection(t,i)==="vertical",r=en(Ne),x("dragOverValid"),nt.eventCanceled)return k;if(s)return Yt=Ut,L(),this._hideClone(),x("revert"),nt.eventCanceled||(eo?Ut.insertBefore(Ne,eo):Ut.appendChild(Ne)),$(!0);var O=Jc(n,a.draggable);if(!O||nk(t,C,this)&&!O.animated){if(O===Ne)return $(!1);if(O&&n===t.target&&(i=O),i&&(o=en(i)),Wl(Ut,n,Ne,r,i,o,t,!!i)!==!1)return L(),O&&O.nextSibling?n.insertBefore(Ne,O.nextSibling):n.appendChild(Ne),Yt=n,V(),$(!0)}else if(O&&tk(t,C,this)){var ge=$o(n,0,a,!0);if(ge===Ne)return $(!1);if(i=ge,o=en(i),Wl(Ut,n,Ne,r,i,o,t,!1)!==!1)return L(),n.insertBefore(Ne,ge),Yt=n,V(),$(!0)}else if(i.parentNode===n){o=en(i);var K=0,h,M=Ne.parentNode!==n,E=!Xw(Ne.animated&&Ne.toRect||r,i.animated&&i.toRect||o,C),N=C?"top":"left",I=am(i,"top","top")||am(Ne,"top","top"),F=I?I.scrollTop:void 0;Wo!==i&&(h=o[N],na=!1,Bl=!E&&a.invertSwap||M),K=ik(t,i,o,C,E?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Bl,Wo===i);var q;if(K!==0){var _e=fi(Ne);do _e-=K,q=Yt.children[_e];while(q&&(tt(q,"display")==="none"||q===ut))}if(K===0||q===i)return $(!1);Wo=i,ta=K;var $e=i.nextElementSibling,Le=!1;Le=K===1;var G=Wl(Ut,n,Ne,r,i,o,t,Le);if(G!==!1)return(G===1||G===-1)&&(Le=G===1),rf=!0,setTimeout(ek,30),L(),Le&&!$e?n.appendChild(Ne):i.parentNode.insertBefore(Ne,Le?$e:i),I&&cm(I,0,F-I.scrollTop),Yt=Ne.parentNode,h!==void 0&&!Bl&&($l=Math.abs(h-en(i)[N])),V(),$(!0)}if(n.contains(Ne))return $(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){xt(document,"mousemove",this._onTouchMove),xt(document,"touchmove",this._onTouchMove),xt(document,"pointermove",this._onTouchMove),xt(document,"dragover",no),xt(document,"mousemove",no),xt(document,"touchmove",no)},_offUpEvents:function(){var t=this.el.ownerDocument;xt(t,"mouseup",this._onDrop),xt(t,"touchend",this._onDrop),xt(t,"pointerup",this._onDrop),xt(t,"touchcancel",this._onDrop),xt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(Qn=fi(Ne),Or=fi(Ne,i.draggable),Hn("drop",this,{evt:t}),Yt=Ne&&Ne.parentNode,Qn=fi(Ne),Or=fi(Ne,i.draggable),nt.eventCanceled){this._nulling();return}Vo=!1,Bl=!1,na=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sf(this.cloneId),sf(this._dragStartId),this.nativeDraggable&&(xt(document,"drop",this),xt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xs&&tt(document.body,"user-select",""),tt(Ne,"transform",""),t&&(ea&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),ut&&ut.parentNode&&ut.parentNode.removeChild(ut),(Ut===Yt||vn&&vn.lastPutMode!=="clone")&&qt&&qt.parentNode&&qt.parentNode.removeChild(qt),Ne&&(this.nativeDraggable&&xt(Ne,"dragend",this),of(Ne),Ne.style["will-change"]="",ea&&!Vo&&Jn(Ne,vn?vn.options.ghostClass:this.options.ghostClass,!1),Jn(Ne,this.options.chosenClass,!1),In({sortable:this,name:"unchoose",toEl:Yt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ut!==Yt?(Qn>=0&&(In({rootEl:Yt,name:"add",toEl:Yt,fromEl:Ut,originalEvent:t}),In({sortable:this,name:"remove",toEl:Yt,originalEvent:t}),In({rootEl:Yt,name:"sort",toEl:Yt,fromEl:Ut,originalEvent:t}),In({sortable:this,name:"sort",toEl:Yt,originalEvent:t})),vn&&vn.save()):Qn!==Ho&&Qn>=0&&(In({sortable:this,name:"update",toEl:Yt,originalEvent:t}),In({sortable:this,name:"sort",toEl:Yt,originalEvent:t})),nt.active&&((Qn==null||Qn===-1)&&(Qn=Ho,Or=Qs),In({sortable:this,name:"end",toEl:Yt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Hn("nulling",this),Ut=Ne=Yt=ut=eo=qt=Pl=Lr=to=wi=ea=Qn=Or=Ho=Qs=Wo=ta=vn=Ml=nt.dragged=nt.ghost=nt.clone=nt.active=null,jl.forEach(function(t){t.checked=!0}),jl.length=ef=tf=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(t),Qw(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,r=0,o=i.length,s=this.options;r<o;r++)n=i[r],_i(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||ok(n));return t},sort:function(t,n){var i={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];_i(a,this.options.draggable,r,!1)&&(i[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return _i(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var r=Zs.modifyOption(this,t,n);typeof r<"u"?i[t]=r:i[t]=n,t==="group"&&ym(i)},destroy:function(){Hn("destroy",this);var t=this.el;t[Zn]=null,xt(t,"mousedown",this._onTapStart),xt(t,"touchstart",this._onTapStart),xt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(xt(t,"dragover",this),xt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Fl.splice(Fl.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Lr){if(Hn("hideClone",this),nt.eventCanceled)return;tt(qt,"display","none"),this.options.removeCloneOnHide&&qt.parentNode&&qt.parentNode.removeChild(qt),Lr=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Lr){if(Hn("showClone",this),nt.eventCanceled)return;Ne.parentNode==Ut&&!this.options.group.revertClone?Ut.insertBefore(qt,Ne):eo?Ut.insertBefore(qt,eo):Ut.appendChild(qt),this.options.group.revertClone&&this.animate(Ne,qt),tt(qt,"display",""),Lr=!1}}};function Qw(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Wl(e,t,n,i,r,o,s,a){var l,f=e[Zn],d=f.options.onMove,v;return window.CustomEvent&&!rr&&!Ys?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||en(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(v=d.call(f,l,s)),v}function of(e){e.draggable=!1}function ek(){rf=!1}function tk(e,t,n){var i=en($o(n.el,0,n.options,!0)),r=dm(n.el,n.options,ut),o=10;return t?e.clientX<r.left-o||e.clientY<i.top&&e.clientX<i.right:e.clientY<r.top-o||e.clientY<i.bottom&&e.clientX<i.left}function nk(e,t,n){var i=en(Jc(n.el,n.options.draggable)),r=dm(n.el,n.options,ut),o=10;return t?e.clientX>r.right+o||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>r.bottom+o||e.clientX>i.right&&e.clientY>i.top}function ik(e,t,n,i,r,o,s,a){var l=i?e.clientY:e.clientX,f=i?n.height:n.width,d=i?n.top:n.left,v=i?n.bottom:n.right,m=!1;if(!s){if(a&&$l<f*r){if(!na&&(ta===1?l>d+f*o/2:l<v-f*o/2)&&(na=!0),na)m=!0;else if(ta===1?l<d+$l:l>v-$l)return-ta}else if(l>d+f*(1-r)/2&&l<v-f*(1-r)/2)return rk(t)}return m=m||s,m&&(l<d+f*o/2||l>v-f*o/2)?l>d+f/2?1:-1:0}function rk(e){return fi(Ne)<fi(e)?1:-1}function ok(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function sk(e){jl.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&jl.push(i)}}function Ul(e){return setTimeout(e,0)}function sf(e){return clearTimeout(e)}Hl&&It(document,"touchmove",function(e){(nt.active||Vo)&&e.cancelable&&e.preventDefault()}),nt.utils={on:It,off:xt,css:tt,find:sm,is:function(t,n){return!!_i(t,n,t,!1)},extend:Vw,throttle:um,closest:_i,toggleClass:Jn,clone:fm,index:fi,nextTick:Ul,cancelNextTick:sf,detectDirection:vm,getChild:$o},nt.get=function(e){return e[Zn]},nt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(nt.utils=Di(Di({},nt.utils),i.utils)),Zs.mount(i)})},nt.create=function(e,t){return new nt(e,t)},nt.version=$w;var tn=[],ia,af,lf=!1,uf,cf,Kl,ra;function ak(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?It(document,"dragover",this._handleAutoScroll):this.options.supportPointer?It(document,"pointermove",this._handleFallbackAutoScroll):i.touches?It(document,"touchmove",this._handleFallbackAutoScroll):It(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?xt(document,"dragover",this._handleAutoScroll):(xt(document,"pointermove",this._handleFallbackAutoScroll),xt(document,"touchmove",this._handleFallbackAutoScroll),xt(document,"mousemove",this._handleFallbackAutoScroll)),_m(),Gl(),Ww()},nulling:function(){Kl=af=ia=lf=ra=uf=cf=null,tn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Kl=n,i||this.options.forceAutoScrollFallback||Ys||rr||Xs){ff(n,this.options,a,i);var l=Ar(a,!0);lf&&(!ra||o!==uf||s!==cf)&&(ra&&_m(),ra=setInterval(function(){var f=Ar(document.elementFromPoint(o,s),!0);f!==l&&(l=f,Gl()),ff(n,r.options,f,i)},10),uf=o,cf=s)}else{if(!this.options.bubbleScroll||Ar(a,!0)===Fi()){Gl();return}ff(n,this.options,Ar(a,!1),!1)}}},nr(e,{pluginName:"scroll",initializeByDefault:!0})}function Gl(){tn.forEach(function(e){clearInterval(e.pid)}),tn=[]}function _m(){clearInterval(ra)}var ff=um(function(e,t,n,i){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Fi(),f=!1,d;af!==n&&(af=n,Gl(),ia=t.scroll,d=t.scrollFn,ia===!0&&(ia=Ar(n,!0)));var v=0,m=ia;do{var C=m,b=en(C),k=b.top,x=b.bottom,L=b.left,$=b.right,V=b.width,O=b.height,ge=void 0,K=void 0,h=C.scrollWidth,M=C.scrollHeight,E=tt(C),N=C.scrollLeft,I=C.scrollTop;C===l?(ge=V<h&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),K=O<M&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(ge=V<h&&(E.overflowX==="auto"||E.overflowX==="scroll"),K=O<M&&(E.overflowY==="auto"||E.overflowY==="scroll"));var F=ge&&(Math.abs($-r)<=s&&N+V<h)-(Math.abs(L-r)<=s&&!!N),q=K&&(Math.abs(x-o)<=s&&I+O<M)-(Math.abs(k-o)<=s&&!!I);if(!tn[v])for(var _e=0;_e<=v;_e++)tn[_e]||(tn[_e]={});(tn[v].vx!=F||tn[v].vy!=q||tn[v].el!==C)&&(tn[v].el=C,tn[v].vx=F,tn[v].vy=q,clearInterval(tn[v].pid),(F!=0||q!=0)&&(f=!0,tn[v].pid=setInterval((function(){i&&this.layer===0&&nt.active._onTouchMove(Kl);var $e=tn[this.layer].vy?tn[this.layer].vy*a:0,Le=tn[this.layer].vx?tn[this.layer].vx*a:0;typeof d=="function"&&d.call(nt.dragged.parentNode[Zn],Le,$e,e,Kl,tn[this.layer].el)!=="continue"||cm(tn[this.layer].el,Le,$e)}).bind({layer:v}),24))),v++}while(t.bubbleScroll&&m!==l&&(m=Ar(m,!1)));lf=f}},30),wm=function(t){var n=t.originalEvent,i=t.putSortable,r=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var f=i||o;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,v=document.elementFromPoint(d.clientX,d.clientY);l(),f&&!f.el.contains(v)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function df(){}df.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=$o(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:wm},nr(df,{pluginName:"revertOnSpill"});function pf(){}pf.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:wm},nr(pf,{pluginName:"removeOnSpill"}),nt.mount(new ak),nt.mount(pf,df);const lk=(e,t=!1,n=!1)=>{if(e==null||e===!1||e===""||e.trim()==="")return[];e=e.replace(/，/g,","),e=e.replace(/。/g,","),e=e.replace(/、/g,","),e=e.replace(/；/g,","),e=e.replace(/．/g,","),e=e.replace(/\t/g,`
`),e=e.replace(/\r/g,`
`),e=e.replace(/\n+/g,`
`);let i=[{emoji:">_<",re:/\>_\</g},{emoji:":<",re:/\:\</g},{emoji:">:<",re:/\>\:\</g},{emoji:":>",re:/\:\>/g},{emoji:":-(",re:/\:\-\(/g},{emoji:":-)",re:/\:\-\)/g}];i.forEach((C,b)=>{e=e.replace(C.re,"|||EXPRESSION"+b+"|||")});const r={"(":")","[":"]","<":">","{":"}"},o=Object.keys(r);let s=e.length,a="",l="",f="",d=0,v=[];for(let C=0;C<s;C++){const b=e[C];b===`
`?l===""?(a.trim()!==""&&v.push(a.trim()),v.push(`
`),d=0,l="",f="",a=""):a+=" ":b===","?l===""?(v.push(a.trim()),d=0,l="",f="",a=""):a+=b:l===""?o.includes(b)?(d=1,l=b,f=r[b],a+=b):b===" "&&a.trim()==="BREAK"?(v.push(a.trim()),d=0,l="",f="",a=""):(a+=b,a.endsWith(" BREAK")&&(a=a.substring(0,a.length-6),v.push(a.trim()),v.push("BREAK"),d=0,l="",f="",a="")):b===f?(d--,d===0&&(l="",f=""),a+=b):(b===l&&d++,a+=b)}a!==""&&v.push(a.trim());let m=[];for(let C of v){if(C===`
`){m.push(C);continue}let b=C[0],k=C[C.length-1];if(b==="["&&k==="]"){m.push(C);continue}if(b==="("&&k===")"){m.push(C);continue}if(b==="{"&&k==="}"){m.push(C);continue}let x=/\<lora:[^\>]+\>/,L=null,$=[];for(;L=x.exec(C);){let V=L.index,O=V+L[0].length,ge=C.substring(0,V).trim(),K=C.substring(O).trim(),h=L[0];$.push(ge),$.push(h),C=K}$.push(C);for(let V of $)V===""||V.trim()===""||(i.forEach((O,ge)=>{V=V.replace("|||EXPRESSION"+ge+"|||",O.emoji)}),m.push(V))}return v=m,v},oa={name:"weilin9999/WeiLin-ComfyUI-prompt-all-in-one",shortName:"WeiLin-ComfyUI-prompt-all-in-one",github:"https://github.com/weilin9999/WeiLin-ComfyUI-prompt-all-in-one",docs:"https://aiodoc.physton.com",civitaiUrl:"https://civitai.com"};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var uk=/^\s+/,ck=/\s+$/;function Re(e,t){if(e=e||"",t=t||{},e instanceof Re)return e;if(!(this instanceof Re))return new Re(e,t);var n=fk(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Re.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,i,r,o,s,a;return n=t.r/255,i=t.g/255,r=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(t){return this._a=Am(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Tm(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Tm(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+r+"%)":"hsva("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=km(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=km(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+r+"%)":"hsla("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return xm(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return gk(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Kt(this._r,255)*100)+"%",g:Math.round(Kt(this._g,255)*100)+"%",b:Math.round(Kt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Kt(this._r,255)*100)+"%, "+Math.round(Kt(this._g,255)*100)+"%, "+Math.round(Kt(this._b,255)*100)+"%)":"rgba("+Math.round(Kt(this._r,255)*100)+"%, "+Math.round(Kt(this._g,255)*100)+"%, "+Math.round(Kt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ek[xm(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+Sm(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=Re(t);i="#"+Sm(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var n=!!t;t=t||this._format;var i=!1,r=this._a<1&&this._a>=0,o=!n&&r&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Re(this.toString())},_applyModification:function(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(bk,arguments)},brighten:function(){return this._applyModification(Ck,arguments)},darken:function(){return this._applyModification(_k,arguments)},desaturate:function(){return this._applyModification(mk,arguments)},saturate:function(){return this._applyModification(vk,arguments)},greyscale:function(){return this._applyModification(yk,arguments)},spin:function(){return this._applyModification(wk,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(xk,arguments)},complement:function(){return this._applyCombination(kk,arguments)},monochromatic:function(){return this._applyCombination(Sk,arguments)},splitcomplement:function(){return this._applyCombination(Tk,arguments)},triad:function(){return this._applyCombination(Em,[3])},tetrad:function(){return this._applyCombination(Em,[4])}},Re.fromRatio=function(e,t){if(zl(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=sa(e[i]));e=n}return Re(e,t)};function fk(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=Ik(e)),zl(e)=="object"&&(or(e.r)&&or(e.g)&&or(e.b)?(t=dk(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):or(e.h)&&or(e.s)&&or(e.v)?(i=sa(e.s),r=sa(e.v),t=hk(e.h,i,r),s=!0,a="hsv"):or(e.h)&&or(e.s)&&or(e.l)&&(i=sa(e.s),o=sa(e.l),t=pk(e.h,i,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Am(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function dk(e,t,n){return{r:Kt(e,255)*255,g:Kt(t,255)*255,b:Kt(n,255)*255}}function km(e,t,n){e=Kt(e,255),t=Kt(t,255),n=Kt(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o,s,a=(i+r)/2;if(i==r)o=s=0;else{var l=i-r;switch(s=a>.5?l/(2-i-r):l/(i+r),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,l:a}}function pk(e,t,n){var i,r,o;e=Kt(e,360),t=Kt(t,100),n=Kt(n,100);function s(f,d,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?f+(d-f)*6*v:v<1/2?d:v<2/3?f+(d-f)*(2/3-v)*6:f}if(t===0)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:i*255,g:r*255,b:o*255}}function Tm(e,t,n){e=Kt(e,255),t=Kt(t,255),n=Kt(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o,s,a=i,l=i-r;if(s=i===0?0:l/i,i==r)o=0;else{switch(i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,v:a}}function hk(e,t,n){e=Kt(e,360)*6,t=Kt(t,100),n=Kt(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),s=n*(1-r*t),a=n*(1-(1-r)*t),l=i%6,f=[n,s,o,o,a,n][l],d=[a,n,n,s,o,o][l],v=[o,o,a,n,n,s][l];return{r:f*255,g:d*255,b:v*255}}function xm(e,t,n,i){var r=[ki(Math.round(e).toString(16)),ki(Math.round(t).toString(16)),ki(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function gk(e,t,n,i,r){var o=[ki(Math.round(e).toString(16)),ki(Math.round(t).toString(16)),ki(Math.round(n).toString(16)),ki(Lm(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Sm(e,t,n,i){var r=[ki(Lm(i)),ki(Math.round(e).toString(16)),ki(Math.round(t).toString(16)),ki(Math.round(n).toString(16))];return r.join("")}Re.equals=function(e,t){return!e||!t?!1:Re(e).toRgbString()==Re(t).toRgbString()},Re.random=function(){return Re.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mk(e,t){t=t===0?0:t||10;var n=Re(e).toHsl();return n.s-=t/100,n.s=ql(n.s),Re(n)}function vk(e,t){t=t===0?0:t||10;var n=Re(e).toHsl();return n.s+=t/100,n.s=ql(n.s),Re(n)}function yk(e){return Re(e).desaturate(100)}function bk(e,t){t=t===0?0:t||10;var n=Re(e).toHsl();return n.l+=t/100,n.l=ql(n.l),Re(n)}function Ck(e,t){t=t===0?0:t||10;var n=Re(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Re(n)}function _k(e,t){t=t===0?0:t||10;var n=Re(e).toHsl();return n.l-=t/100,n.l=ql(n.l),Re(n)}function wk(e,t){var n=Re(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,Re(n)}function kk(e){var t=Re(e).toHsl();return t.h=(t.h+180)%360,Re(t)}function Em(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Re(e).toHsl(),i=[Re(e)],r=360/t,o=1;o<t;o++)i.push(Re({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function Tk(e){var t=Re(e).toHsl(),n=t.h;return[Re(e),Re({h:(n+72)%360,s:t.s,l:t.l}),Re({h:(n+216)%360,s:t.s,l:t.l})]}function xk(e,t,n){t=t||6,n=n||30;var i=Re(e).toHsl(),r=360/n,o=[Re(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(Re(i));return o}function Sk(e,t){t=t||6;for(var n=Re(e).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/t;t--;)s.push(Re({h:i,s:r,v:o})),o=(o+a)%1;return s}Re.mix=function(e,t,n){n=n===0?0:n||50;var i=Re(e).toRgb(),r=Re(t).toRgb(),o=n/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return Re(s)},Re.readability=function(e,t){var n=Re(e),i=Re(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},Re.isReadable=function(e,t,n){var i=Re.readability(e,t),r,o;switch(o=!1,r=Nk(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o},Re.mostReadable=function(e,t,n){var i=null,r=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var f=0;f<t.length;f++)o=Re.readability(e,t[f]),o>r&&(r=o,i=Re(t[f]));return Re.isReadable(e,i,{level:a,size:l})||!s?i:(n.includeFallbackColors=!1,Re.mostReadable(e,["#fff","#000"],n))};var hf=Re.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ek=Re.hexNames=Ak(hf);function Ak(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Am(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Kt(e,t){Lk(e)&&(e="100%");var n=Ok(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ql(e){return Math.min(1,Math.max(0,e))}function ei(e){return parseInt(e,16)}function Lk(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Ok(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ki(e){return e.length==1?"0"+e:""+e}function sa(e){return e<=1&&(e=e*100+"%"),e}function Lm(e){return Math.round(parseFloat(e)*255).toString(16)}function Om(e){return ei(e)/255}var Ti=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function or(e){return!!Ti.CSS_UNIT.exec(e)}function Ik(e){e=e.replace(uk,"").replace(ck,"").toLowerCase();var t=!1;if(hf[e])e=hf[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ti.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ti.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ti.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ti.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ti.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ti.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ti.hex8.exec(e))?{r:ei(n[1]),g:ei(n[2]),b:ei(n[3]),a:Om(n[4]),format:t?"name":"hex8"}:(n=Ti.hex6.exec(e))?{r:ei(n[1]),g:ei(n[2]),b:ei(n[3]),format:t?"name":"hex"}:(n=Ti.hex4.exec(e))?{r:ei(n[1]+""+n[1]),g:ei(n[2]+""+n[2]),b:ei(n[3]+""+n[3]),a:Om(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Ti.hex3.exec(e))?{r:ei(n[1]+""+n[1]),g:ei(n[2]+""+n[2]),b:ei(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Nk(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const pe={loraRegex:/^\<lora:\s*([^\:]+)\s*(:)?\s*(\-?[0-9\.]+)?([^\>]+)?\>/,lycoRegex:/^\<lyco:\s*([^\:]+)\s*(:)?\s*(\-?[0-9\.]+)?([^\>]+)?\>$/,weightNumRegex:/(.*):(\-?[0-9\.]+)/,weightNumRegexEN:/(.*):\s*(\-?[0-9\.]+)/,weightNumRegexCN:/(.*)：\s*(\-?[0-9\.]+)/,bracketsEN:[{"(":"(",")":")"},{"[":"[","]":"]"},{"{":"{","}":"}"},{"<":"<",">":">"}],bracketsCN:[{"（":"(","）":")"},{"【":"[","】":"]"},{"《":"<","》":">"},{"「":"{","」":"}"},{"『":"{","』":"}"},{"〈":"<","〉":">"},{"﹝":"(","﹞":")"},{"﹛":"{","﹜":"}"},{"﹙":"(","﹚":")"}],replaceTag(e){return typeof e!="string"||e===""||(e=this.replaceBrackets(e),this.weightNumRegexEN.test(e)&&(e=e.replace(this.weightNumRegexEN,"$1:$2")),this.weightNumRegexCN.test(e)&&(e=e.replace(this.weightNumRegexCN,"$1:$2"))),e},replaceBrackets(e){const t=e.length;if(t===0)return e;let n={};this.bracketsCN.forEach(o=>{for(const s in o)n[s]=o[s]});let i=e[0],r=e[t-1];return typeof n[i]<"u"&&(e=n[i]+e.substring(1)),typeof n[r]<"u"&&(e=e.substring(0,t-1)+n[r]),e},hasBrackets(e){const t=e.length;if(t===0)return!1;let n=[];this.bracketsEN.forEach(o=>{let s=[];for(const a in o)s.push(a);n.push(s)}),this.bracketsCN.forEach(o=>{let s=[];for(const a in o)s.push(a);n.push(s)});let i=e[0],r=e[t-1];for(const o of n)if(o[0]===i&&o[1]===r)return o;return!1},splitTag(e){let t={left:"",value:"",right:""},n=e.match(/^([\(\<\{\[]+)(.*)$/);return!n||(t.left=n[1],e=n[2],n=e.match(/((\:[0-9\.]+)?[\)\>\}\]]+)$/),!n)?(t.value=e,t):(t.right=n[1],e=e.substring(0,e.length-t.right.length),t.value=e,t)},splitTags(e,t=!1,n=!1){return lk(e,t,n)},canTranslate(e){return!(e.trim()===""||e[0]==="<"&&e[e.length-1]===">"||/^[0-9`~!@#$%^&*()_+\-=\[\]{}\\|;:'",.\/<>?]+$/.test(e)||/^[a-zA-Z]$/.test(e))},isEnglish(e){const t=e.length;if(e[0]==="<"&&e[t-1]===">")return!0;for(let n=0;n<t;n++)if(e.charCodeAt(n)>127)return!1;return!0},canOneTranslate(e){const t=["zh_CN","zh_HK","zh_TW","ar_SA","ja_JP","ko_KR","ru_RU"];return t.push("am_ET","hy_AM","as_IN","bn_BD","ba_RU","bg_BG","prs_AF","dv_MV","el_GR","gu_IN","he_IL","hi_IN","iu_CA","kn_IN","kk_KZ","km_KH","ku_Arab_IQ","ky_KG","lo_LA","mk_MK","ml_IN","mr_IN","mn_Cyrl_MN","mn_Mong_CN","my_MM","ne_NP","or_IN","ps_AF","fa_IR","pa_Guru_IN","sr_Cyrl_RS","ta_IN","tt_Latn_RU","te_IN","th_TH","bo_CN","ti_ET","uk_UA","ur_PK","ug_Arab_CN","vi_VN"),!!t.includes(e)},isEnglishByLangCode(e,t){if(!this.canOneTranslate(t))return-1;const n=e.length;for(let i=0;i<n;i++)if(e.charCodeAt(i)>127)return 0;return 1},isSameLang(e,t){if(e===t)return!0;let n=e.toLowerCase(),i=t.toLowerCase();return n===i||(e=e.replace("-","_"),t=t.replace("-","_"),e===t)||(e=e.split("_")[0],t=t.split("_")[0],e===t)},getLang(e,t,n){return n[t]&&n[t].lang&&n[t].lang[e]?this.replaceGlobals(n[t].lang[e],t):n.en_US&&n.en_US.lang&&n.en_US.lang[e]?this.replaceGlobals(n.en_US.lang[e],"en_US"):this.replaceGlobals(e,t)},replaceGlobals(e,t){for(let n in oa){let i=oa[n];if(n==="docs")switch(t){case"zh_CN":i+="/zh-CN";break;case"zh_HK":case"zh_TW":i+="/zh-TW";break;case"ru_RU":i+="/ru";break}e=e.replace(new RegExp(`{{${n}}}`,"g"),i)}return e},escapeHtml(e){return e.replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[t]||t)},unescapeHtml(e){return e.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,t=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'})[t]||t)},getTagWeightNum(e){const t=e.match(this.weightNumRegex);return t?parseFloat(t[2]):1},getLoraTagWeightNum(e){const t=/:(-?\d+(\.\d{0,2})?)(?::(-?\d+(\.\d{0,2})?))?/,n=e.match(t);if(!n)return[];const i=parseFloat(n[1]),r=n[3]?parseFloat(n[3]):null,o=i.toFixed(2),s=r!==null?r.toFixed(2):null;return[o,s]},getTagIncWeight(e,t=!1){return t?this.countLayers(e,"{","}"):this.countLayers(e,"(",")")},getTagDecWeight(e){return this.countLayers(e,"[","]")},countLayers(e,t="(",n=")"){let i=0;if(e.length<2)return i;for(;;){let r=e[0],o=e[e.length-1];if(r===t&&o===n)i++,e=e.slice(1,e.length-1);else break}return i},setLayers(e,t=0,n="(",i=")",r=""){for(;;){let o=e[0],s=e[e.length-1];if(o===n&&s===i)e=e.slice(1,e.length-1);else break}return t===0?e:n.repeat(t)+e+r+i.repeat(t)},getTranslateApiInfo(e,t){let n=!1;for(const i in t)for(const r in i.children)if(r.key===e){n=r;break}return n},isEqualTags(e,t,n=[]){if(t.length!==e.length)return!1;for(let i=0;i<e.length;i++){for(let r in e[i])if(!n.includes(r)&&t[i][r]!==e[i][r])return!1;for(let r in t[i])if(!n.includes(r)&&t[i][r]!==e[i][r])return!1}return!0},getTranslateApiItem(e,t){if(!e||e.length<=0)return{};for(let n of e)for(let i of n.children)if(i.key===t)return i;return e[0].children[0]},hideCompleteResults(e){typeof hideResults=="function"&&[100,200,300,500,1e3].forEach(n=>{setTimeout(()=>{hideResults(e)},n)})},formatTime(e,t=!0){let n=new Date(e),i=n.getFullYear(),r=n.getMonth()+1;r<10&&(r="0"+r);let o=n.getDate();o<10&&(o="0"+o);let s=n.getHours();s<10&&(s="0"+s);let a=n.getMinutes();a<10&&(a="0"+a);let l=n.getSeconds();return l<10&&(l="0"+l),t?`${i}/${r}/${o} ${s}:${a}:${l}`:`${r}/${o} ${s}:${a}:${l}`},apiUrl(){return"/weilin/physton_prompt/"},removeCSS(e,t=!0){if(!e)return;let n=null;t?n=this.gradioApp().querySelector("#"+e):n=document.querySelector("#"+e),n&&n.remove()},loadCSS(e,t="",n=!0,i=!1,r=!0){n&&this.removeCSS(t,r);let o=this.apiUrl()+"styles?file="+encodeURIComponent(e);i||(o+="&t="+new Date().getTime());let s=document.createElement("link");s.id=t,s.rel="stylesheet",s.href=o,r?this.gradioApp().appendChild(s):document.body.appendChild(s)},swapElement(e,t){let n=e.parentNode,i=t.parentNode,r=e.nextSibling,o=t.nextSibling;n.insertBefore(t,r),i.insertBefore(e,o)},insertBefore(e,t){t.parentNode.insertBefore(e,t)},insertAfter(e,t){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},gradioContainer:null,gradioApp(){if(this.gradioContainer)return this.gradioContainer;const e=document.getElementsByTagName("gradio-app"),t=e.length==0?null:e[0].shadowRoot;if(t){const n=t.querySelectorAll(".gradio-container");for(let i=0;i<n.length;i++){const r=n[i];if(r.querySelectorAll("#tabs").length)return r.classList.add("physton-gradio-container"),this.gradioContainer=r,r}}else return document.body.classList.add("physton-gradio-container"),this.gradioContainer=document.body,document.body},fitterInputColor(e,t="rgba(0,0,0,0)"){let n="fitterInputColor:"+e+":"+t;return localStorage[n]?localStorage[n]:!e||e===""||e==="default"||e==="none"||e==="null"||e==="undefined"||e==="false"||e==="true"||!Re(e).isValid()?(localStorage[n]=t,t):(localStorage[n]=e,e)},isColorTransparent(e){let t="isColorTransparent:"+e;if(localStorage[t])return localStorage[t]==="true";let n=Re(e).getAlpha()===0;return localStorage[t]=n,n},getTagsColorKey(e,t){return e+"||"+t},getSamePrefixPath(e){if(e.length<=0)return"";const t=e.map(o=>o.split("/")),n=t[0],i=t.slice(1);return n.filter((o,s)=>i.every(a=>a[s]===o)).join("/")}};var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,i){e.exports=i()})(gf,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,s={},a=0,l={parse:function(M,E){var N=(E=E||{}).dynamicTyping||!1;if(h(N)&&(E.dynamicTypingFunction=N,N={}),E.dynamicTyping=N,E.transform=!!h(E.transform)&&E.transform,E.worker&&l.WORKERS_SUPPORTED){var I=function(){if(!l.WORKERS_SUPPORTED)return!1;var q=($e=i.URL||i.webkitURL||null,Le=n.toString(),l.BLOB_URL||(l.BLOB_URL=$e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Le,")();"],{type:"text/javascript"})))),_e=new i.Worker(q),$e,Le;return _e.onmessage=$,_e.id=a++,s[_e.id]=_e}();return I.userStep=E.step,I.userChunk=E.chunk,I.userComplete=E.complete,I.userError=E.error,E.step=h(E.step),E.chunk=h(E.chunk),E.complete=h(E.complete),E.error=h(E.error),delete E.worker,void I.postMessage({input:M,config:E,workerId:I.id})}var F=null;return l.NODE_STREAM_INPUT,typeof M=="string"?(M=function(q){return q.charCodeAt(0)===65279?q.slice(1):q}(M),F=E.download?new v(E):new C(E)):M.readable===!0&&h(M.read)&&h(M.on)?F=new b(E):(i.File&&M instanceof File||M instanceof Object)&&(F=new m(E)),F.stream(M)},unparse:function(M,E){var N=!1,I=!0,F=",",q=`\r
`,_e='"',$e=_e+_e,Le=!1,G=null,le=!1;(function(){if(typeof E=="object"){if(typeof E.delimiter!="string"||l.BAD_DELIMITERS.filter(function(W){return E.delimiter.indexOf(W)!==-1}).length||(F=E.delimiter),(typeof E.quotes=="boolean"||typeof E.quotes=="function"||Array.isArray(E.quotes))&&(N=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(Le=E.skipEmptyLines),typeof E.newline=="string"&&(q=E.newline),typeof E.quoteChar=="string"&&(_e=E.quoteChar),typeof E.header=="boolean"&&(I=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");G=E.columns}E.escapeChar!==void 0&&($e=E.escapeChar+_e),(typeof E.escapeFormulae=="boolean"||E.escapeFormulae instanceof RegExp)&&(le=E.escapeFormulae instanceof RegExp?E.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var be=new RegExp(x(_e),"g");if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return Ee(null,M,Le);if(typeof M[0]=="object")return Ee(G||Object.keys(M[0]),M,Le)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||G),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),Ee(M.fields||[],M.data||[],Le);throw new Error("Unable to serialize unrecognized input");function Ee(W,Q,fe){var de="";typeof W=="string"&&(W=JSON.parse(W)),typeof Q=="string"&&(Q=JSON.parse(Q));var ye=Array.isArray(W)&&0<W.length,Oe=!Array.isArray(Q[0]);if(ye&&I){for(var qe=0;qe<W.length;qe++)0<qe&&(de+=F),de+=Ce(W[qe],qe);0<Q.length&&(de+=q)}for(var De=0;De<Q.length;De++){var ze=ye?W.length:Q[De].length,mt=!1,vt=ye?Object.keys(Q[De]).length===0:Q[De].length===0;if(fe&&!ye&&(mt=fe==="greedy"?Q[De].join("").trim()==="":Q[De].length===1&&Q[De][0].length===0),fe==="greedy"&&ye){for(var P=[],j=0;j<ze;j++){var X=Oe?W[j]:j;P.push(Q[De][X])}mt=P.join("").trim()===""}if(!mt){for(var ce=0;ce<ze;ce++){0<ce&&!vt&&(de+=F);var Z=ye&&Oe?W[ce]:ce;de+=Ce(Q[De][Z],ce)}De<Q.length-1&&(!fe||0<ze&&!vt)&&(de+=q)}}return de}function Ce(W,Q){if(W==null)return"";if(W.constructor===Date)return JSON.stringify(W).slice(1,25);var fe=!1;le&&typeof W=="string"&&le.test(W)&&(W="'"+W,fe=!0);var de=W.toString().replace(be,$e);return(fe=fe||N===!0||typeof N=="function"&&N(W,Q)||Array.isArray(N)&&N[Q]||function(ye,Oe){for(var qe=0;qe<Oe.length;qe++)if(-1<ye.indexOf(Oe[qe]))return!0;return!1}(de,l.BAD_DELIMITERS)||-1<de.indexOf(F)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?_e+de+_e:de}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=L,l.ParserHandle=k,l.NetworkStreamer=v,l.FileStreamer=m,l.StringStreamer=C,l.ReadableStreamStreamer=b,i.jQuery){var f=i.jQuery;f.fn.parse=function(M){var E=M.config||{},N=[];return this.each(function(q){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var _e=0;_e<this.files.length;_e++)N.push({file:this.files[_e],inputElem:this,instanceConfig:f.extend({},E)})}),I(),this;function I(){if(N.length!==0){var q,_e,$e,Le,G=N[0];if(h(M.before)){var le=M.before(G.file,G.inputElem);if(typeof le=="object"){if(le.action==="abort")return q="AbortError",_e=G.file,$e=G.inputElem,Le=le.reason,void(h(M.error)&&M.error({name:q},_e,$e,Le));if(le.action==="skip")return void F();typeof le.config=="object"&&(G.instanceConfig=f.extend(G.instanceConfig,le.config))}else if(le==="skip")return void F()}var be=G.instanceConfig.complete;G.instanceConfig.complete=function(Ee){h(be)&&be(Ee,G.file,G.inputElem),F()},l.parse(G.file,G.instanceConfig)}else h(M.complete)&&M.complete()}function F(){N.splice(0,1),I()}}}function d(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var N=ge(E);N.chunkSize=parseInt(N.chunkSize),E.step||E.chunk||(N.chunkSize=null),this._handle=new k(N),(this._handle.streamer=this)._config=N}).call(this,M),this.parseChunk=function(E,N){if(this.isFirstChunk&&h(this._config.beforeFirstChunk)){var I=this._config.beforeFirstChunk(E);I!==void 0&&(E=I)}this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+E;this._partialLine="";var q=this._handle.parse(F,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var _e=q.meta.cursor;this._finished||(this._partialLine=F.substring(_e-this._baseIndex),this._baseIndex=_e),q&&q.data&&(this._rowCount+=q.data.length);var $e=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:q,workerId:l.WORKER_ID,finished:$e});else if(h(this._config.chunk)&&!N){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);q=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!$e||!h(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),$e||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(E){h(this._config.error)?this._config.error(E):o&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:E,finished:!1})}}function v(M){var E;(M=M||{}).chunkSize||(M.chunkSize=l.RemoteChunkSize),d.call(this,M),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),r||(E.onload=K(this._chunkLoaded,this),E.onerror=K(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var I in N)E.setRequestHeader(I,N[I])}if(this._config.chunkSize){var F=this._start+this._config.chunkSize-1;E.setRequestHeader("Range","bytes="+this._start+"-"+F)}try{E.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}r&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:E.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var I=N.getResponseHeader("Content-Range");return I===null?-1:parseInt(I.substring(I.lastIndexOf("/")+1))}(E),this.parseChunk(E.responseText)))},this._chunkError=function(N){var I=E.statusText||N;this._sendError(new Error(I))}}function m(M){var E,N;(M=M||{}).chunkSize||(M.chunkSize=l.LocalChunkSize),d.call(this,M);var I=typeof FileReader<"u";this.stream=function(F){this._input=F,N=F.slice||F.webkitSlice||F.mozSlice,I?((E=new FileReader).onload=K(this._chunkLoaded,this),E.onerror=K(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input;if(this._config.chunkSize){var q=Math.min(this._start+this._config.chunkSize,this._input.size);F=N.call(F,this._start,q)}var _e=E.readAsText(F,this._config.encoding);I||this._chunkLoaded({target:{result:_e}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(E.error)}}function C(M){var E;d.call(this,M=M||{}),this.stream=function(N){return E=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,I=this._config.chunkSize;return I?(N=E.substring(0,I),E=E.substring(I)):(N=E,E=""),this._finished=!E,this.parseChunk(N)}}}function b(M){d.call(this,M=M||{});var E=[],N=!0,I=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):N=!0},this._streamData=K(function(F){try{E.push(typeof F=="string"?F:F.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(q){this._streamError(q)}},this),this._streamError=K(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=K(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(M){var E,N,I,F=Math.pow(2,53),q=-F,_e=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,$e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Le=this,G=0,le=0,be=!1,Ee=!1,Ce=[],W={data:[],errors:[],meta:{}};if(h(M.step)){var Q=M.step;M.step=function(De){if(W=De,ye())de();else{if(de(),W.data.length===0)return;G+=De.data.length,M.preview&&G>M.preview?N.abort():(W.data=W.data[0],Q(W,Le))}}}function fe(De){return M.skipEmptyLines==="greedy"?De.join("").trim()==="":De.length===1&&De[0].length===0}function de(){return W&&I&&(qe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),I=!1),M.skipEmptyLines&&(W.data=W.data.filter(function(De){return!fe(De)})),ye()&&function(){if(!W)return;function De(mt,vt){h(M.transformHeader)&&(mt=M.transformHeader(mt,vt)),Ce.push(mt)}if(Array.isArray(W.data[0])){for(var ze=0;ye()&&ze<W.data.length;ze++)W.data[ze].forEach(De);W.data.splice(0,1)}else W.data.forEach(De)}(),function(){if(!W||!M.header&&!M.dynamicTyping&&!M.transform)return W;function De(mt,vt){var P,j=M.header?{}:[];for(P=0;P<mt.length;P++){var X=P,ce=mt[P];M.header&&(X=P>=Ce.length?"__parsed_extra":Ce[P]),M.transform&&(ce=M.transform(ce,X)),ce=Oe(X,ce),X==="__parsed_extra"?(j[X]=j[X]||[],j[X].push(ce)):j[X]=ce}return M.header&&(P>Ce.length?qe("FieldMismatch","TooManyFields","Too many fields: expected "+Ce.length+" fields but parsed "+P,le+vt):P<Ce.length&&qe("FieldMismatch","TooFewFields","Too few fields: expected "+Ce.length+" fields but parsed "+P,le+vt)),j}var ze=1;return!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(De),ze=W.data.length):W.data=De(W.data,0),M.header&&W.meta&&(W.meta.fields=Ce),le+=ze,W}()}function ye(){return M.header&&Ce.length===0}function Oe(De,ze){return mt=De,M.dynamicTypingFunction&&M.dynamicTyping[mt]===void 0&&(M.dynamicTyping[mt]=M.dynamicTypingFunction(mt)),(M.dynamicTyping[mt]||M.dynamicTyping)===!0?ze==="true"||ze==="TRUE"||ze!=="false"&&ze!=="FALSE"&&(function(vt){if(_e.test(vt)){var P=parseFloat(vt);if(q<P&&P<F)return!0}return!1}(ze)?parseFloat(ze):$e.test(ze)?new Date(ze):ze===""?null:ze):ze;var mt}function qe(De,ze,mt,vt){var P={type:De,code:ze,message:mt};vt!==void 0&&(P.row=vt),W.errors.push(P)}this.parse=function(De,ze,mt){var vt=M.quoteChar||'"';if(M.newline||(M.newline=function(X,ce){X=X.substring(0,1048576);var Z=new RegExp(x(ce)+"([^]*?)"+x(ce),"gm"),he=(X=X.replace(Z,"")).split("\r"),Se=X.split(`
`),we=1<Se.length&&Se[0].length<he[0].length;if(he.length===1||we)return`
`;for(var ke=0,se=0;se<he.length;se++)he[se][0]===`
`&&ke++;return ke>=he.length/2?`\r
`:"\r"}(De,vt)),I=!1,M.delimiter)h(M.delimiter)&&(M.delimiter=M.delimiter(De),W.meta.delimiter=M.delimiter);else{var P=function(X,ce,Z,he,Se){var we,ke,se,Te;Se=Se||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Me=0;Me<Se.length;Me++){var te=Se[Me],Ve=0,Je=0,pt=0;se=void 0;for(var ft=new L({comments:he,delimiter:te,newline:ce,preview:10}).parse(X),Ot=0;Ot<ft.data.length;Ot++)if(Z&&fe(ft.data[Ot]))pt++;else{var Wt=ft.data[Ot].length;Je+=Wt,se!==void 0?0<Wt&&(Ve+=Math.abs(Wt-se),se=Wt):se=Wt}0<ft.data.length&&(Je/=ft.data.length-pt),(ke===void 0||Ve<=ke)&&(Te===void 0||Te<Je)&&1.99<Je&&(ke=Ve,we=te,Te=Je)}return{successful:!!(M.delimiter=we),bestDelimiter:we}}(De,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess);P.successful?M.delimiter=P.bestDelimiter:(I=!0,M.delimiter=l.DefaultDelimiter),W.meta.delimiter=M.delimiter}var j=ge(M);return M.preview&&M.header&&j.preview++,E=De,N=new L(j),W=N.parse(E,ze,mt),de(),be?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return be},this.pause=function(){be=!0,N.abort(),E=h(M.chunk)?"":E.substring(N.getCharIndex())},this.resume=function(){Le.streamer._halted?(be=!1,Le.streamer.parseChunk(E,!0)):setTimeout(Le.resume,3)},this.aborted=function(){return Ee},this.abort=function(){Ee=!0,N.abort(),W.meta.aborted=!0,h(M.complete)&&M.complete(W),E=""}}function x(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(M){var E,N=(M=M||{}).delimiter,I=M.newline,F=M.comments,q=M.step,_e=M.preview,$e=M.fastMode,Le=E=M.quoteChar===void 0||M.quoteChar===null?'"':M.quoteChar;if(M.escapeChar!==void 0&&(Le=M.escapeChar),(typeof N!="string"||-1<l.BAD_DELIMITERS.indexOf(N))&&(N=","),F===N)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<l.BAD_DELIMITERS.indexOf(F))&&(F=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var G=0,le=!1;this.parse=function(be,Ee,Ce){if(typeof be!="string")throw new Error("Input must be a string");var W=be.length,Q=N.length,fe=I.length,de=F.length,ye=h(q),Oe=[],qe=[],De=[],ze=G=0;if(!be)return $t();if(M.header&&!Ee){var mt=be.split(I)[0].split(N),vt=[],P={},j=!1;for(var X in mt){var ce=mt[X];h(M.transformHeader)&&(ce=M.transformHeader(ce,X));var Z=ce,he=P[ce]||0;for(0<he&&(j=!0,Z=ce+"_"+he),P[ce]=he+1;vt.includes(Z);)Z=Z+"_"+he;vt.push(Z)}if(j){var Se=be.split(I);Se[0]=vt.join(N),be=Se.join(I)}}if($e||$e!==!1&&be.indexOf(E)===-1){for(var we=be.split(I),ke=0;ke<we.length;ke++){if(De=we[ke],G+=De.length,ke!==we.length-1)G+=I.length;else if(Ce)return $t();if(!F||De.substring(0,de)!==F){if(ye){if(Oe=[],pt(De.split(N)),un(),le)return $t()}else pt(De.split(N));if(_e&&_e<=ke)return Oe=Oe.slice(0,_e),$t(!0)}}return $t()}for(var se=be.indexOf(N,G),Te=be.indexOf(I,G),Me=new RegExp(x(Le)+x(E),"g"),te=be.indexOf(E,G);;)if(be[G]!==E)if(F&&De.length===0&&be.substring(G,G+de)===F){if(Te===-1)return $t();G=Te+fe,Te=be.indexOf(I,G),se=be.indexOf(N,G)}else if(se!==-1&&(se<Te||Te===-1))De.push(be.substring(G,se)),G=se+Q,se=be.indexOf(N,G);else{if(Te===-1)break;if(De.push(be.substring(G,Te)),Wt(Te+fe),ye&&(un(),le))return $t();if(_e&&Oe.length>=_e)return $t(!0)}else for(te=G,G++;;){if((te=be.indexOf(E,te+1))===-1)return Ce||qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Oe.length,index:G}),Ot();if(te===W-1)return Ot(be.substring(G,te).replace(Me,E));if(E!==Le||be[te+1]!==Le){if(E===Le||te===0||be[te-1]!==Le){se!==-1&&se<te+1&&(se=be.indexOf(N,te+1)),Te!==-1&&Te<te+1&&(Te=be.indexOf(I,te+1));var Ve=ft(Te===-1?se:Math.min(se,Te));if(be.substr(te+1+Ve,Q)===N){De.push(be.substring(G,te).replace(Me,E)),be[G=te+1+Ve+Q]!==E&&(te=be.indexOf(E,G)),se=be.indexOf(N,G),Te=be.indexOf(I,G);break}var Je=ft(Te);if(be.substring(te+1+Je,te+1+Je+fe)===I){if(De.push(be.substring(G,te).replace(Me,E)),Wt(te+1+Je+fe),se=be.indexOf(N,G),te=be.indexOf(E,G),ye&&(un(),le))return $t();if(_e&&Oe.length>=_e)return $t(!0);break}qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Oe.length,index:G}),te++}}else te++}return Ot();function pt(ne){Oe.push(ne),ze=G}function ft(ne){var Fe=0;if(ne!==-1){var Ue=be.substring(te+1,ne);Ue&&Ue.trim()===""&&(Fe=Ue.length)}return Fe}function Ot(ne){return Ce||(ne===void 0&&(ne=be.substring(G)),De.push(ne),G=W,pt(De),ye&&un()),$t()}function Wt(ne){G=ne,pt(De),De=[],Te=be.indexOf(I,G)}function $t(ne){return{data:Oe,errors:qe,meta:{delimiter:N,linebreak:I,aborted:le,truncated:!!ne,cursor:ze+(Ee||0)}}}function un(){q($t()),Oe=[],qe=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return G}}function $(M){var E=M.data,N=s[E.workerId],I=!1;if(E.error)N.userError(E.error,E.file);else if(E.results&&E.results.data){var F={abort:function(){I=!0,V(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(h(N.userStep)){for(var q=0;q<E.results.data.length&&(N.userStep({data:E.results.data[q],errors:E.results.errors,meta:E.results.meta},F),!I);q++);delete E.results}else h(N.userChunk)&&(N.userChunk(E.results,F,E.file),delete E.results)}E.finished&&!I&&V(E.workerId,E.results)}function V(M,E){var N=s[M];h(N.userComplete)&&N.userComplete(E),N.terminate(),delete s[M]}function O(){throw new Error("Not implemented.")}function ge(M){if(typeof M!="object"||M===null)return M;var E=Array.isArray(M)?[]:{};for(var N in M)E[N]=ge(M[N]);return E}function K(M,E){return function(){M.apply(E,arguments)}}function h(M){return typeof M=="function"}return o&&(i.onmessage=function(M){var E=M.data;if(l.WORKER_ID===void 0&&E&&(l.WORKER_ID=E.workerId),typeof E.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(E.input,E.config),finished:!0});else if(i.File&&E.input instanceof File||E.input instanceof Object){var N=l.parse(E.input,E.config);N&&i.postMessage({workerId:l.WORKER_ID,results:N,finished:!0})}}),(v.prototype=Object.create(d.prototype)).constructor=v,(m.prototype=Object.create(d.prototype)).constructor=m,(C.prototype=Object.create(C.prototype)).constructor=C,(b.prototype=Object.create(d.prototype)).constructor=b,l})})(Im);var Rk=Im.exports;const Pk=aa(Rk),Tn={props:{languageCode:{type:String,default:"en_US"},languages:{type:Object,default:()=>{}},translateApis:{type:Array,default:()=>[]},translateApi:{type:String,default:""},translateApiConfig:{type:Object},tagCompleteFile:{type:String,default:""},onlyCsvOnAuto:{type:Boolean,default:!1},groupTagsTranslate:{type:Boolean,default:!0},groupTagsTranslateCache:{type:Object,default:()=>({toEn:new Map,toLocal:new Map})}},data(){return{cancelMultiTranslate:!1,globals:oa}},computed:{langName(){for(const e in this.languages){const t=this.languages[e];if(t.code===this.languageCode)return t.name}return item.name}},methods:{getLang(e){return pe.getLang(e,this.languageCode,this.languages)},replaceGlobals(e){return pe.replaceGlobals(e,this.languageCode)},getCSV(e=null,t=!1){return window.tagCompleteFileCache=window.tagCompleteFileCache||{},window.tagCompleteFileLoading=window.tagCompleteFileLoading||{},new Promise((n,i)=>{if(e=e||this.tagCompleteFile,!t&&window.tagCompleteFileCache[e]){n(window.tagCompleteFileCache[e]);return}if(window.tagCompleteFileLoading[e]){const s=setInterval(()=>{window.tagCompleteFileLoading[e]||(clearInterval(s),n(window.tagCompleteFileCache[e]))},100);return}window.tagCompleteFileLoading[e]=!0;let r={toEn:new Map,toLocal:new Map},o=(s,a)=>{[s,s.replace(/\_/g," "),s.replace(/\-/g," ")].forEach(f=>r.toLocal.set(f,a)),r.toEn.set(a,s)};if(!e&&typeof translations=="object"&&translations instanceof Map){translations.forEach((s,a)=>{o(a,s)}),window.tagCompleteFileLoading[e]=!1,window.tagCompleteFileCache[e]=r,n(r);return}if(!e){window.tagCompleteFileLoading[e]=!1,window.tagCompleteFileCache[e]=r,i(this.getLang("not_found_csv_file"));return}this.gradioAPI.getCSV(e).then(s=>{s=Pk.parse(s,{header:!1,skipEmptyLines:!0}),s.data.forEach(a=>{if(a.length<2)return;let l=a[0].trim(),f=a[1].trim();l===""||f===""||o(l,f)}),window.tagCompleteFileLoading[e]=!1,window.tagCompleteFileCache[e]=r,n(r)}).catch(s=>{window.tagCompleteFileLoading[e]=!1,window.tagCompleteFileCache[e]=r,s.response&&s.response.status===404?i(this.getLang("not_found_csv_file")):i(s.message)})})},_translateToLocalBy(e,t,n=!1){e=e.trim().toLowerCase();let i=r=>{var o;return((o=r.join)==null?void 0:o.call(r," / "))??r};if(t.has(e))return i(t.get(e));{const r=e.split(",").map(a=>a.trim());let o=[],s=[];if(r.forEach(a=>{t.has(a)?o.push(i(t.get(a))):n&&a.length&&s.push(a)}),o.length>0&&!s.length)return o.join(", ")}return""},async translateToLocalByCSV(e,t=null,n=!1,i=!1){let r=await this.getCSV(t,n);return this._translateToLocalBy(e,r.toLocal,i)},async translateToEnByCSV(e,t=null,n=!1){let i=await this.getCSV(t,n);return this._toEn(e,i.toEn)},async translateToLocalByGroupTags(e,t=!1){return console.log("translateToLocalByGroupTags",e),this._translateToLocalBy(e,this.groupTagsTranslateCache.toLocal,t)},async translateToEnByGroupTags(e){return this._toEn(e,this.groupTagsTranslateCache.toEn)},_toEn(e,t){return e=e.trim().toLowerCase(),t.has(e)?t.get(e):""}}},io=Number.isNaN||window.isNaN,Mk=/^-?(?:\d+|\d+\.\d+|\.\d+)(?:[eE][-+]?\d+)?$/,Dk=/\.\d*(?:0|9){10}\d*$/,Nm=(e,t=1e11)=>Dk.test(String(e))?Math.round(e*t)/t:e,Fk=Bn({name:"VueNumberInput",props:{attrs:{type:Object,default:void 0},center:Boolean,controls:Boolean,disabled:Boolean,inputtable:{type:Boolean,default:!0},islora:{type:Boolean,default:!1},ismodel:{type:Boolean,default:!1},inline:Boolean,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},name:{type:String,default:void 0},placeholder:{type:String,default:void 0},readonly:Boolean,rounded:Boolean,size:{type:String,default:void 0},step:{type:Number,default:1},modelValue:{type:Number,default:NaN}},emits:["update:modelValue"],data(){return{value:NaN}},computed:{increasable(){return io(this.value)||this.value<this.max},decreasable(){return io(this.value)||this.value>this.min}},watch:{modelValue:{immediate:!0,handler(e,t){!(io(e)&&typeof t>"u")&&e!==this.value&&this.setValue(e)}}},methods:{isNaN:io,change(e){this.setValue(e.target.value)},paste(e){const t=e.clipboardData||window.clipboardData;t&&!Mk.test(t.getData("text"))&&e.preventDefault()},decrease(){if(this.decreasable){let{value:e}=this;io(e)&&(e=0),this.setValue(Nm(e-this.step))}},increase(){if(this.increasable){let{value:e}=this;io(e)&&(e=0),this.setValue(Nm(e+this.step))}},setValue(e){const t=this.value;let n=typeof e!="number"?parseFloat(e):e;io(n)||(this.min<=this.max&&(n=Math.min(this.max,Math.max(this.min,n))),this.rounded&&(n=Math.round(n))),this.value=n,n===t&&(this.$refs.input.value=String(n)),this.$emit("update:modelValue",n,t)}}}),Dt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},Bk=["disabled"],$k=["name","value","min","max","step","readonly","disabled","placeholder"],jk=["disabled"],Hk={key:0,style:{"font-size":"11px","text-align":"center",padding:"1px 0 3px 0"}},Vk={key:1,style:{"font-size":"11px","text-align":"center",padding:"1px 0 3px 0"}};function Wk(e,t,n,i,r,o){return T(),A("div",null,[p("div",{class:Ge(["vue-number-input",{"vue-number-input--inline":e.inline,"vue-number-input--center":e.center,"vue-number-input--controls":e.controls,[`vue-number-input--${e.size}`]:e.size}])},[e.controls?(T(),A("button",{key:0,class:"vue-number-input__button vue-number-input__button--minus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.decreasable,onClick:t[0]||(t[0]=We((...s)=>e.decrease&&e.decrease(...s),["prevent"]))},null,8,Bk)):Y("",!0),p("input",xl({ref:"input",class:"vue-number-input__input"},e.attrs,{type:"number",name:e.name,value:isNaN(e.value)?"":e.value,min:e.min,max:e.max,step:e.step,readonly:e.readonly||!e.inputtable,disabled:e.disabled||!e.decreasable&&!e.increasable,placeholder:e.placeholder,autocomplete:"off",onChange:t[1]||(t[1]=(...s)=>e.change&&e.change(...s)),onPaste:t[2]||(t[2]=(...s)=>e.paste&&e.paste(...s))}),null,16,$k),e.controls?(T(),A("button",{key:1,class:"vue-number-input__button vue-number-input__button--plus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.increasable,onClick:t[3]||(t[3]=We((...s)=>e.increase&&e.increase(...s),["prevent"]))},null,8,jk)):Y("",!0)],2),e.islora&&e.ismodel?(T(),A("div",Hk,"模型强度")):Y("",!0),e.islora&&!e.ismodel?(T(),A("div",Vk,"CLIP强度")):Y("",!0)])}const Uk=Dt(Fk,[["render",Wk]]),Kk={data(){return{autocompleteResults:null,autocompleteResultsParent:null,showAppendList:!1,appendListStyle:{top:0,left:0},appendListSelected:null,appendListChildSelected:null,appendList:[{type:"wrap",name:"line_break_character",icon:"wrap",children:[]}],favorites:[],autoInputPrompt:"disabled",autoInputPromptKey:""}},computed:{appendListChildItemTags(){return this.appendListSelected===null?[]:this.appendListChildSelected===null?[]:this.appendList[this.appendListSelected].type!=="favorite"&&this.appendList[this.appendListSelected].type!=="history"?[]:this.appendList[this.appendListSelected].children[this.appendListChildSelected].tags}},mounted(){this.initAutoInputPrompt(),[{name:"txt2img",type:"prompt",key:"txt2img",neg:!1},{name:"txt2img",type:"negative_prompt",key:"txt2img_neg",neg:!0},{name:"img2img",type:"prompt",key:"img2img",neg:!1},{name:"img2img",type:"negative_prompt",key:"img2img_neg",neg:!0}].forEach(t=>{t.neg===this.neg&&this.appendList.push({type:"favorite",name:["favorite",t.name],icon:"favorite",key:t.key,dataKey:"favorite."+t.key,children:[]})})},methods:{onUnfoldClick(){this.hidePanel&&this.$nextTick(()=>{this.onResize()}),this.$emit("update:hidePanel",!this.hidePanel)},onTranslatesToLocalClick(){if(this.tags.length===0)return;if(this.loading.all_local){this.cancelMultiTranslate=!0,this.loading.all_local=!1;return}this.loading.all_local=!0;let e=[];for(const t in this.tags)this.tags[t].type&&this.tags[t].type!=="text"||e.push(t);return this.translates(e,!0,!0).finally(()=>{this.loading.all_local=!1,this.updateTags()})},onTranslatesToEnglishClick(){if(this.tags.length===0)return;if(this.loading.all_en){this.cancelMultiTranslate=!0,this.loading.all_en=!1;return}this.loading.all_en=!0;let e=[];for(const t in this.tags)this.tags[t].type&&this.tags[t].type!=="text"||e.push(t);this.translates(e,!1,!0).finally(()=>{this.loading.all_en=!1,this.updateTags()})},onCopyAllTagsClick(){this.copy(this.prompt)},onDeleteAllTagsClick(){confirm(this.getLang("delete_all_keywords_confirm"))&&(this.tags=[],this.updateTags())},onClickLoadWebuiPrompt(){this.onTextareaChange(!0)},appendListItemName(e){let t=[];if(typeof e.name=="object")for(let n of e.name)t.push(this.getLang(n));else t=[this.getLang(e.name)];return t.join(" / ")},onAppendTagFocus(e){if(this.$refs.promptTagAppend.value===""||this.$refs.promptTagAppend.value.trim()===""){this.appendListStyle={top:e.target.offsetTop+e.target.offsetHeight+"px",left:e.target.offsetLeft+"px"},this.appendListSelected=null,this.appendListChildSelected=null,this.showAppendList=!0;let t=[];this.appendList.forEach(n=>{typeof n.dataKey=="string"&&t.push(n.dataKey)}),this.gradioAPI.getDatas(t).then(n=>{this.appendList.forEach(i=>{typeof i.dataKey=="string"&&(i.children=n[i.dataKey]||[],i.children.reverse())})})}this._setTextareaFocus()},onAppendTagBlur(e){setTimeout(()=>{this.showAppendList=!1},300)},selectAppendList(e=!0){this.appendList.length!==0&&(this.appendListSelected===null?this.appendListSelected=0:e?(this.appendListSelected++,this.appendListSelected>=this.appendList.length&&(this.appendListSelected=0)):(this.appendListSelected--,this.appendListSelected<0&&(this.appendListSelected=this.appendList.length-1)),this.appendListChildSelected=null)},selectAppendListChild(e=!0){this.appendList.length!==0&&this.appendListSelected!==null&&this.appendList[this.appendListSelected].children.length!==0&&(this.appendListChildSelected===null?this.appendListChildSelected=0:e?(this.appendListChildSelected++,this.appendListChildSelected>=this.appendList[this.appendListSelected].children.length&&(this.appendListChildSelected=0)):(this.appendListChildSelected--,this.appendListChildSelected<0&&(this.appendListChildSelected=this.appendList[this.appendListSelected].children.length-1)),this.scrollAppendListChild())},scrollAppendListChild(){this.appendListSelected!==null&&(this.appendListChildSelected===0||this.appendListChildSelected===null?this.$refs.promptAppendListChildren[this.appendListSelected].scrollTop=0:this.$refs.promptAppendListChild[this.appendListChildSelected].scrollIntoView({behavior:"smooth",block:"center"}))},onAppendTagKeyDown(e,t=null){if(!(e.keyCode===38||e.keyCode===40))if(e.keyCode===13){if(this.getAutocompleteResults()&&(this.autocompleteResultsParent&&this.autocompleteResultsParent.style.display==="flex"||this.autocompleteResults.style.display==="none")&&this.getAutocompleteResultsSelected()){let i=this.getAutocompleteResultsSelectedText();setTimeout(()=>{t=this.$refs.promptTagAppend.value,i?t=i:(i=this.getAutocompleteResultsSelectedText(),i&&(t=i)),this.onAppendTagKeyDown(e,t)},300);return}let n=this.$refs.promptTagAppend.value;if(this.$refs.promptTagAppend.value="",this.showAppendList=!0,console.log(n,t),t)n=n.replace(/\s*,\s*$/,"").trim(),pe.hasBrackets(n)&&(n=pe.replaceBrackets(n)),this._appendTag(n,t),this.updateTags();else{pe.hasBrackets(n)?(n=pe.replaceBrackets(n),n=[n]):n=pe.splitTags(n,this.autoBreakBeforeWrap,this.autoBreakAfterWrap);let i=[];n.forEach(r=>{let o=-1;r===`
`?o=this._appendTag(`
`,`
`,!1,-1,"wrap"):o=this._appendTag(r),o!==-1&&i.push(o)}),this.autoTranslateByIndexes(i)}}else this.removeAutocompleteResultsSelected()},autoTranslateByIndexes(e){this.updatePrompt(),this.autoTranslateToEnglish||this.autoTranslateToLocal?this.$nextTick(()=>{let t=!(this.tagCompleteFile&&this.onlyCsvOnAuto);this.autoTranslateToEnglish?this.translates(e,!1,t).finally(()=>{this.updateTags()}):this.autoTranslateToLocal&&this.translates(e,!0,t).finally(()=>{this.updateTags()})}):this.updateTags()},onAppendTagKeyUp(e){this.$refs.promptTagAppend.value===""||this.$refs.promptTagAppend.value.trim()===""?(this.$refs.promptTagAppend.value="",this.showAppendList=!0,e.keyCode===38||e.keyCode===40?this.appendListChildSelected===null?this.selectAppendList(e.keyCode===40):this.selectAppendListChild(e.keyCode===40):e.keyCode===37||e.keyCode===39?this.appendListSelected!==null&&(e.keyCode===37?(this.appendListChildSelected=null,this.scrollAppendListChild()):this.appendList[this.appendListSelected].children.length===0?this.appendListChildSelected=null:(this.appendListChildSelected=0,this.scrollAppendListChild())):e.keyCode===13&&(this._appendTagByList(),this.scrollAppendListChild(),this.appendListSelected=null,this.appendListChildSelected=null)):this.showAppendList=!1},onAppendGroupClick(e,t,n){if(e!==null){if(this.appendListSelected=e,t===null){if(this.appendList[this.appendListSelected].children.length>0)return}else this.appendListChildSelected=t;this._appendTagByList()}},onAppendListChildMouseLeave(e,t,n){this.appendListSelected=null,this.appendListChildSelected=null},onAppendListChildMouseEnter(e,t,n){this.appendListSelected=e,this.appendListChildSelected=t},_appendTagByList(){if(this.appendListSelected===null)return;const e=this.appendList[this.appendListSelected];let t=null;e.children.length>0&&this.appendListChildSelected!==null&&(t=e.children[this.appendListChildSelected]);let n=[];switch(e.type){case"wrap":n.push({value:`
`,localValue:`
`,disabled:!1,type:"wrap"});break;case"lora":break;case"favorite":case"history":t&&t.tags.forEach(i=>{n.push({value:i.value,localValue:i.localValue,disabled:i.disabled,type:i.type||"text"})});break}n.length<=0||(n.forEach(i=>{this._appendTag(i.value,i.localValue,i.disabled,-1,i.type)}),this.updateTags())},getAutocompleteResults(){if(!this.autocompleteResults){const e=this.$refs.promptTagAppend.parentElement.querySelector(".autocompleteResults");if(e){this.autocompleteResults=e,this.autocompleteResults.getAttribute("data-mousemove")!=="true"&&(this.autocompleteResults.setAttribute("data-mousemove","true"),this.autocompleteResults.addEventListener("mousemove",n=>{this.bindAutocompleteResultsClick()}));const t=this.$refs.promptTagAppend.parentElement.querySelector(".autocompleteParent");t&&(this.autocompleteResultsParent=t)}}return this.autocompleteResults},removeAutocompleteResultsSelected(){const e=this.getAutocompleteResults();return e?(e.querySelectorAll("li").forEach(t=>{t.classList.remove("selected")}),!0):!1},getAutocompleteResultsSelected(){const e=this.getAutocompleteResults();if(!e)return null;const t=e.querySelector("li.selected");return t||null},getAutocompleteResultsSelectedText(e=null){if(!e&&(e=this.getAutocompleteResultsSelected(),!e))return null;const i=e.querySelector(".acListItem").innerText.match(/\[(.+?)\]/);return i?i[1]:null},bindAutocompleteResultsClick(){if(this.getAutocompleteResults(),!this.autocompleteResults)return;this.autocompleteResults.querySelectorAll("li").forEach(t=>{t.getAttribute("physton-on-clicked")!=="true"&&(t.setAttribute("physton-on-clicked","true"),t.addEventListener("click",()=>{this.onAutocompleteResultsClicked(t)}))})},onAutocompleteResultsClicked(e){const t=this.getAutocompleteResultsSelectedText(e);setTimeout(()=>{let n=this.$refs.promptTagAppend.value.replace(/,\s*$/,"");this.$refs.promptTagAppend.value="",n=n.replace(/\s*,\s*$/,"").trim(),pe.hasBrackets(n)&&(n=pe.replaceBrackets(n)),this._appendTag(n,t),this.updateTags()},300)},onSettingBoxMouseEnter(){this.favorites=typeof window.phystonPromptfavorites=="object"?window.phystonPromptfavorites:[]},getCurrentTypeFavorites(){this.favorites=typeof window.phystonPromptfavorites=="object"?window.phystonPromptfavorites:[];let e=[];return this.favorites.forEach(t=>{if(this.neg){if(t.type!=="negative_prompt")return}else if(t.type!=="prompt")return;e.push(t)}),e},onAutoInputPromptChange(){this.gradioAPI.setData(this.autoInputPromptKey,this.autoInputPrompt).then(()=>{this.$toastr.success(this.getLang("success"))}).catch(()=>{this.$toastr.error(this.getLang("failed"))})},initAutoInputPrompt(){this.autoInputPromptKey="autoInputPrompt-"+this.name,this.gradioAPI.getData(this.autoInputPromptKey).then(e=>{if(e!==null)if(this.autoInputPrompt=e,this.autoInputPrompt==="last")this.gradioAPI.getLatestHistory(this.historyKey).then(t=>{this.useHistory(t)});else{const t=()=>{if(typeof window.phystonPromptfavorites=="object"&&window.phystonPromptfavorites.length>0){for(let n of window.phystonPromptfavorites)for(let i of n.list)if(i.id===this.autoInputPrompt){this.useFavorite(i);return}return}setTimeout(t,100)};setTimeout(t,100)}})}}},Gk={data(){return{dropStartX:0,dropStartY:0,dropEndX:0,dropEndY:0,dropOffsetX:0,dropOffsetY:0,dropIsSelecting:!1,dropIsStart:!1,dropIsEnd:!1,dropArea:{top:0,left:0,width:0,height:0},dropTags:[],dropTimeId:0}},methods:{_dropOver(){this.dropIsSelecting=!1,this.dropIsStart=!1,this.dropIsEnd=!1,this.dropTags=[];for(let e=0;e<this.$refs.promptTagsList.children.length;e++){let t=this.$refs.promptTagsList.children[e];t.style.display==="none"&&(t.style.display=""),t.classList.remove("drop-selected")}},onDropMouseDown(e){this.droping||(this._dropOver(),this.dropOffsetX=e.clientX-e.layerX,this.dropOffsetY=e.clientY-e.layerY,this.dropStartX=e.clientX-this.dropOffsetX,this.dropStartY=e.clientY-this.dropOffsetY,this.dropEndX=e.clientX-this.dropOffsetX,this.dropEndY=e.clientY-this.dropOffsetY,this.dropIsStart=!0)},onDropMouseMove(e){if(this.dropIsStart){this.dropIsSelecting=!0,this.dropEndX=e.clientX-this.dropOffsetX,this.dropEndY=e.clientY-this.dropOffsetY;let t=Math.min(this.dropStartX,this.dropEndX),n=Math.min(this.dropStartY,this.dropEndY),i=Math.abs(this.dropStartX-this.dropEndX),r=Math.abs(this.dropStartY-this.dropEndY);t=Math.max(t,0),n=Math.max(n,0),i=Math.min(i,this.$refs.promptTags.clientWidth-t),r=Math.min(r,this.$refs.promptTags.clientHeight-n),this.dropArea.top=n,this.dropArea.left=t,this.dropArea.width=i,this.dropArea.height=r,this.dropTimeId&&clearTimeout(this.dropTimeId),this.dropTimeId=setTimeout(this.dropSelectItems,10)}this.$emit("hideExtraNetworks")},dropSelectItems(){this.dropTimeId&&clearTimeout(this.dropTimeId);let e=[];for(let t=0;t<this.$refs.promptTagsList.children.length;t++){let n=this.$refs.promptTagsList.children[t];if(!n.classList.contains("prompt-tag"))continue;let i=n.offsetLeft,r=n.offsetTop,o=n.clientWidth,s=n.clientHeight,a=i+o,l=r+s;!(a<this.dropArea.left||l<this.dropArea.top||i>this.dropArea.left+this.dropArea.width||r>this.dropArea.top+this.dropArea.height)?(e.push(n.getAttribute("data-id")),n.classList.add("drop-selected")):n.classList.remove("drop-selected"),this.dropTags=e}},onDropMouseUp(e){this.dropIsSelecting=!1,this.dropIsStart=!1,this.dropIsEnd=!0,this.$refs.dropSelectBtns.style.left=this.$refs.dropSelectBox.style.left,this.$refs.dropSelectBtns.style.top=this.$refs.dropSelectBox.style.top},_getDropTags(){let e=[];return this.dropTags.forEach(t=>{let n=this.tags.find(i=>i.id===t);n&&e.push(n)}),e},_getDropIndexes(){let e=[];return this.dropTags.forEach(t=>{let n=this.tags.findIndex(i=>i.id===t);n!==-1&&e.push(n)}),e},_getDropTagsEle(){let e=[];return this.dropTags.forEach(t=>{let n=this.$refs.promptTagsList.querySelector(`.prompt-tag[data-id="${t}"]`);n&&e.push(n)}),e},onDropCopy(){let e=this._getDropTags();this._dropOver();let t=this.genPrompt(e,!0);this.copy(t)},onDropFavorite(){let e=this._getDropTags();this._dropOver();let t=this.genPrompt(e,!0);this.gradioAPI.pushFavorite(this.favoriteKey,e,t,"").then(n=>{n?(this.$toastr.success(this.getLang("success")),this.$emit("refreshFavorites",this.favoriteKey)):this.$toastr.error(this.getLang("failed"))}).catch(n=>{this.$toastr.error(this.getLang("failed"))})},onDropDisable(){let e=this._getDropTags();this._dropOver(),e.forEach(t=>{t.disabled=!0}),this.updateTags()},onDropEnable(){let e=this._getDropTags();this._dropOver(),e.forEach(t=>{t.disabled=!1}),this.updateTags()},onDropDelete(){let e=this._getDropIndexes();this._dropOver(),e.sort((t,n)=>n-t),e.forEach(t=>{this.tags.splice(t,1)}),this.updateTags()}}};var mf="__autosizeInputGhost",zk={" ":"nbsp","<":"lt",">":"gt"};function qk(e){return"&"+zk[e]+";"}function Yk(e){return e.replace(/\s|<|>/g,qk)}function Xk(){var e=document.createElement("div");return e.id=mf,e.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",document.body.appendChild(e),e}var Jk=function(e,t){var n=window.getComputedStyle(e),i="box-sizing:"+n.boxSizing+";border-left:"+n.borderLeftWidth+" solid red;border-right:"+n.borderRightWidth+" solid red;font-family:"+n.fontFamily+";font-feature-settings:"+n.fontFeatureSettings+";font-kerning:"+n.fontKerning+";font-size:"+n.fontSize+";font-stretch:"+n.fontStretch+";font-style:"+n.fontStyle+";font-variant:"+n.fontVariant+";font-variant-caps:"+n.fontVariantCaps+";font-variant-ligatures:"+n.fontVariantLigatures+";font-variant-numeric:"+n.fontVariantNumeric+";font-weight:"+n.fontWeight+";letter-spacing:"+n.letterSpacing+";margin-left:"+n.marginLeft+";margin-right:"+n.marginRight+";padding-left:"+n.paddingLeft+";padding-right:"+n.paddingRight+";text-indent:"+n.textIndent+";text-transform:"+n.textTransform;function r(){var s=e.value||e.getAttribute("placeholder")||"",a=document.getElementById(mf)||Xk();a.style.cssText+=i,a.innerHTML=Yk(s);var l=window.getComputedStyle(a).width;return e.style.width=l,l}e.addEventListener("input",r);var o=r();return t&&t.minWidth&&o!=="0px"&&(e.style.minWidth=o),function(){e.removeEventListener("input",r);var s=document.getElementById(mf);s&&s.parentNode.removeChild(s)}};const Zk=aa(Jk),Qk={data(){return{tagClickTimeId:0,showExtendId:""}},mounted(){},methods:{_setTag(e){if(typeof e.type=="string"&&e.type==="wrap")e.weightNum=1,e.incWeight=0,e.decWeight=0;else{if(e.value.match(pe.loraRegex)){const n=pe.getLoraTagWeightNum(e.value);n.length==1?(e.weightNum=n[0],e.weightClipNum=e.weightNum):n.length>1?(e.weightNum=n[0],e.weightClipNum=n[1]):(e.weightNum=1,e.weightClipNum=1),e.incWeight=pe.getTagIncWeight(e.value,this.useNovelAiWeightSymbol),e.decWeight=pe.getTagDecWeight(e.value)}else e.weightNum=pe.getTagWeightNum(e.value),e.incWeight=pe.getTagIncWeight(e.value,this.useNovelAiWeightSymbol),e.decWeight=pe.getTagDecWeight(e.value);if(e.originalValue=e.value,!e.value.match(pe.loraRegex)&&!e.value.match(pe.lycoRegex)){let n=e.value;const i=pe.hasBrackets(n);(i[0]==="("&&i[1]===")"||i[0]==="["&&i[1]==="]"||this.useNovelAiWeightSymbol&&i[0]==="{"&&i[1]==="}")&&(n=pe.setLayers(n,0,i[0],i[1]),e.originalValue=n.replace(pe.weightNumRegex,"$1"))}}this._setTagClass(e),this.$nextTick(()=>{this._setTagHeight(e)})},_setTagHeight(e){let t=10,n=setInterval(()=>{if(t--,t<=0&&clearInterval(n),!this.$refs["promptTagValue-"+e.id]||!this.$refs["promptTagValue-"+e.id][0])return!1;clearInterval(n);let i=this.$refs["promptTagValue-"+e.id][0],r=i.offsetHeight;i.parentNode.style.height=r+"px",this.$refs["promptTagEdit-"+e.id]&&(this.$refs["promptTagEdit-"+e.id][0].style.height=r+"px"),this.$refs["promptTagDelete-"+e.id]&&(this.$refs["promptTagDelete-"+e.id][0].style.height=r+"px")},50)},_getTagType(e){},_setTagClass(e){if(e.isLora=!1,e.loraExists=!1,e.isLyco=!1,e.lycoExists=!1,e.isEmbedding=!1,!(typeof e.type=="string"&&e.type==="wrap")){const n=e.value.match(pe.loraRegex);if(n&&(e.isLora=!0,e.loraName=n[1],this.loraExists(n[1])!==!1&&(e.loraExists=!0)),!e.isLora){const i=e.value.match(pe.lycoRegex);i&&(e.isLyco=!0,e.lycoName=i[1],this.lycoExists(i[1])!==!1&&(e.lycoExists=!0))}if(!e.isLora&&!e.isLyco){const i=this.embeddingExists(e.value);if(i!==!1)e.isEmbedding=!0,e.value=i,e.embeddingName=i;else{const r=this.embeddingExists(e.originalValue);r!==!1&&(e.isEmbedding=!0,e.embeddingName=r)}}}let t=["prompt-tag-value"];return e.isLora?(t.push("lora-tag"),e.loraExists||t.push("lora-not-exists")):e.isLyco?(t.push("lyco-tag"),e.lycoExists||t.push("lyco-not-exists")):e.isEmbedding?t.push("embedding-tag"):this.neg&&t.push("neg-tag"),e.classes=t,t},_setTagById(e,t=null,n=null){let i=this.tags.find(r=>r.id===e);return i?(t!==null&&(i.value=t),n!==null&&(i.localValue=n),i):!1},_isTagBlacklist(e){var t,n,i,r,o;if(typeof e.type=="string"&&e.type==="wrap")return!1;if(e.isLora){if((t=this.blacklist.lora)!=null&&t.includes(e.loraName.toLowerCase()))return!0}else if(e.isLyco){if((n=this.blacklist.lycoris)!=null&&n.includes(e.lycoName.toLowerCase()))return!0}else if(e.isEmbedding){if((i=this.blacklist.embedding)!=null&&i.includes(e.embeddingName.toLowerCase()))return!0}else if(this.neg){if((r=this.blacklist.negative_prompt)!=null&&r.includes(e.originalValue.toLowerCase()))return!0}else if((o=this.blacklist.prompt)!=null&&o.includes(e.originalValue.toLowerCase()))return!0;return!1},_appendTag(e,t="",n=!1,i=-1,r="text"){if(e==="")return-1;const o=Date.now()+(Math.random()*1e6).toFixed(0);let s={id:o,value:e==null||e===!1?"":e,localValue:t==null||t===!1?"":t,disabled:n,type:r};return this._setTag(s),this._isTagBlacklist(s)?-1:(i>=0?this.tags.splice(i,0,s):i=this.tags.push(s),this.$nextTick(()=>{this.$refs["promptTagEdit-"+o]&&Zk(this.$refs["promptTagEdit-"+o][0])}),i-1)},renderTag(e){let t=this.tags.find(i=>i.id===e);if(!t)return"";let n=t.value;if(n==="BREAK"&&(this.autoBreakBeforeWrap||this.autoBreakAfterWrap))n='<div class="break-character">---------------------</div> <div class="character">BREAK</div> <div class="break-character">---------------------</div>';else if(n=pe.escapeHtml(n),t.incWeight>0)if(this.useNovelAiWeightSymbol){n=pe.setLayers(n,0,"{","}"),n='<div class="character">'+n+"</div>";let i='<div class="weight-character">'+"{".repeat(t.incWeight)+"</div>",r='<div class="weight-character">'+"}".repeat(t.incWeight)+"</div>";n=i+n+r}else{n=pe.setLayers(n,0,"(",")"),n='<div class="character">'+n+"</div>";let i='<div class="weight-character">'+"(".repeat(t.incWeight)+"</div>",r='<div class="weight-character">'+")".repeat(t.incWeight)+"</div>";n=i+n+r}else if(t.decWeight>0){n=pe.setLayers(n,0,"[","]"),n='<div class="character">'+n+"</div>";let i='<div class="weight-character">'+"[".repeat(t.decWeight)+"</div>",r='<div class="weight-character">'+"]".repeat(t.decWeight)+"</div>";n=i+n+r}else n='<div class="character">'+n+"</div>";return n},isFavorite(e){let t=this.tags.find(n=>n.id===e);if(!t)return!1;if(typeof window.phystonPromptfavorites=="object"){for(const n of window.phystonPromptfavorites)if(n.key===this.favoriteKey){for(const i of n.list)if(i.tags.length===1&&i.tags[0].value===t.value)return i.id}}return!1},onLoraPopupUseKeywords(e){let t=[];for(let n of e){let i=n.toLowerCase();if(!this.tags.find(o=>o.value.toLowerCase()===i)){let o=this._appendTag(n,"",!1,-1,"text");o!==-1&&t.push(o)}}t.length&&this.autoTranslateByIndexes(t)},onTagMouseEnter(e){if(this.isEditing)return!1;let t=this.tags.find(n=>n.id===e);if(!t)return!1;if(t.isFavorite=this.isFavorite(t.id),this.hotkey.hover==="extend"&&(this.showExtendId=e),t.isLora||t.isLyco||t.isEmbedding){let n=t.isLora?t.loraName:t.isLyco?t.lycoName:t.embeddingName;this.$emit("showExtraNetworks",this.$refs["promptTagValue-"+t.id][0],n,this.onLoraPopupUseKeywords,"tags")}},onTagMouseMove(e){},onTagMouseLeave(e){if(!this.tags.find(n=>n.id===e))return!1;this.hotkey.hover==="extend"&&(this.showExtendId=""),this.$emit("hideExtraNetworks")},onTagClick(e){this.tagClickTimeId&&clearTimeout(this.tagClickTimeId),this.tagClickTimeId=setTimeout(()=>{switch(this.hotkey.click){case"edit":this._handleEditTag(e);break;case"disable":this._handleDisableTag(e);break;case"extend":this._handleHoverTag(e);break}clearTimeout(this.tagClickTimeId)},250)},onTagDblclick(e){switch(clearTimeout(this.tagClickTimeId),this.hotkey.dblClick){case"edit":this._handleEditTag(e);break;case"disable":this._handleDisableTag(e);break;case"extend":this._handleHoverTag(e);break}},onTagRightClick(e,t){switch(this.hotkey.rightClick){case"edit":this._handleEditTag(e);break;case"disable":this._handleDisableTag(e);break;case"extend":this._handleHoverTag(e);break}},_handleEditTag(e){let t=this.tags.find(n=>n.id===e);if(!t)return!1;this.editing={},this.editing[t.id]=!0,this.isEditing=!0,this.$forceUpdate(),this.$nextTick(()=>{const n=this.$refs["promptTagEdit-"+t.id][0];n.focus(),n.dispatchEvent(new Event("input"))})},_handleDisableTag(e){let t=this.tags.find(n=>n.id===e);if(!t)return!1;this.onDisabledTagClick(t.id)},_handleHoverTag(e){if(!this.tags.find(n=>n.id===e))return!1;this.showExtendId=e},onTagInputBlur(e){let t=this.tags.find(n=>n.id===e);if(!t)return!1;this.editing[t.id]=!1,this.isEditing=!1},onTagInputKeyDown(e,t){if(t.keyCode===13){let n=this.tags.find(i=>i.id===e);if(!n)return!1;this.editing[n.id]=!1,this.isEditing=!1,this._changeTagValue(n,t.target.value)}},onTagInputChange(e,t){let n=this.tags.find(i=>i.id===e);if(!n)return!1;this._changeTagValue(n,t.target.value)},_changeTagValue(e,t){let n=e.value;e.value!==t&&(e.value=t,this._setTag(e),this._isTagBlacklist(e)&&(e.value=n,this._setTag(e)),this.updateTags())},onTagWeightNumChange(e,t){let n=this.tags.find(s=>s.id===e);if(!n)return!1;if(t=typeof t=="number"||typeof t=="string"?t:t.target.value,n.weightNum==t)return;let i=t,r=n.value,o=n.localValue;if(i!==0&&!n.isLora){if(i===1&&!this.autoKeepWeightOne){const s=pe.hasBrackets(r);(s[0]==="("&&s[1]===")"||this.useNovelAiWeightSymbol&&s[0]==="{"&&s[1]==="}")&&(r=pe.setLayers(r,0,s[0],s[1]),o!==""&&(o=pe.setLayers(o,0,s[0],s[1]))),r=r.replace(pe.weightNumRegex,"$1"),o!==""&&(o=o.replace(pe.weightNumRegex,"$1"))}else{if(!pe.weightNumRegex.test(r)){let s=pe.hasBrackets(r);s?(r=pe.setLayers(r,1,s[0],s[1],":"+i),o!==""&&(o=pe.setLayers(o,1,s[0],s[1],":"+i))):(r=r+":"+i,o!==""&&(o=o+":"+i))}n.isLora||n.isLyco||n.isEmbedding||pe.hasBrackets(r)||(this.useNovelAiWeightSymbol?(r=pe.setLayers(r,1,"{","}"),o!==""&&(o=pe.setLayers(o,1,"{","}"))):(r=pe.setLayers(r,1,"(",")"),o!==""&&(o=pe.setLayers(o,1,"(",")"))))}r!==n.value&&(n.value=r,o!==""&&(n.localValue=o),this._setTag(n))}else n.isLora?(n.weightNum=Number(parseFloat(n.weightNum).toFixed(6)),n.weightClipNum=Number(parseFloat(n.weightClipNum).toFixed(6)),n.value=this.replaceLoraNumbers(n.value,n.weightNum,n.weightClipNum),o!==""&&(n.localValue=this.replaceLoraNumbers(n.localValue,n.weightNum,n.weightClipNum))):this.autoKeepWeightZero?(n.value=r.replace(pe.weightNumRegex,"$1:0"),o!==""&&(n.localValue=n.localValue.replace(pe.weightNumRegex,"$1:0"))):(n.value=r.replace(pe.weightNumRegex,"$1"),o!==""&&(n.localValue=n.localValue.replace(pe.weightNumRegex,"$1")));n.weightNum=i,this.updateTags()},onTagLoraClipWeightNumChange(e,t){let n=this.tags.find(s=>s.id===e);if(!n)return!1;if(t=typeof t=="number"||typeof t=="string"?t:t.target.value,n.weightClipNum==t)return;let i=t,r=n.value,o=n.localValue;n.isLora?(n.weightNum=Number(parseFloat(n.weightNum).toFixed(6)),n.weightClipNum=Number(parseFloat(n.weightClipNum).toFixed(6)),n.value=this.replaceLoraNumbers(n.value,n.weightNum,n.weightClipNum),o!==""&&(n.localValue=this.replaceLoraNumbers(n.localValue,n.weightNum,n.weightClipNum))):this.autoKeepWeightZero?(n.value=r.replace(pe.weightNumRegex,"$1:0"),o!==""&&(n.localValue=n.localValue.replace(pe.weightNumRegex,"$1:0"))):(n.value=r.replace(pe.weightNumRegex,"$1"),o!==""&&(n.localValue=n.localValue.replace(pe.weightNumRegex,"$1"))),n.weightClipNum=i,this.updateTags()},replaceLoraNumbers(e,t,n){const i=/:(\d+(\.\d+)?|-\d+(\.\d+)?)((?::(\d+(\.\d+)?|-\d+(\.\d+)?))?)/,r=e.match(i);if(r){let[o,s,,,,a]=r;a!==void 0?e=e.replace(o,`:${t}:${n}`):e=e.replace(o,`:${t}:${n}`)}else e+=`:${t}:${n}`;return e},onDeleteTagClick(e){let t=this.tags.find(i=>i.id===e);if(!t)return!1;let n=this.tags.indexOf(t);this.tags.splice(n,1),this.updateTags()},onFavoriteTagClick(e){let t=this.tags.find(i=>i.id===e);if(!t)return!1;let n=this.isFavorite(t.id);n?this.gradioAPI.unFavorite(this.favoriteKey,n).then(i=>{i&&(t.isFavorite=!1,this.$emit("refreshFavorites",this.favoriteKey))}):this.gradioAPI.pushFavorite(this.favoriteKey,[t],t.value,t.localValue===""?t.value:t.localValue).then(i=>{i&&(t.isFavorite=!0,this.$emit("refreshFavorites",this.favoriteKey))})},onDisabledTagClick(e){let t=this.tags.find(n=>n.id===e);t&&(t.disabled=!t.disabled,this.updateTags())},onIncWeightClick(e,t){let n=this.tags.find(s=>s.id===e);if(!n)return;let i=n.value,r=n.localValue;i=pe.setLayers(i,0,"[","]"),r!==""&&(r=pe.setLayers(r,0,"[","]")),this.useNovelAiWeightSymbol&&(i=pe.setLayers(i,0,"(",")"),r!==""&&(r=pe.setLayers(r,0,"(",")")));let o=n.incWeight;o+=t,o<0&&(o=0),n.incWeight=o,n.decWeight=0,this.useNovelAiWeightSymbol?(i=pe.setLayers(i,o,"{","}"),r!==""&&(r=pe.setLayers(r,o,"{","}"))):(i=pe.setLayers(i,o,"(",")"),r!==""&&(r=pe.setLayers(r,o,"(",")"))),n.value=i,r!==""&&(n.localValue=r),this.updateTags()},onDecWeightClick(e,t){let n=this.tags.find(s=>s.id===e);if(!n)return;let i=n.value,r=n.localValue;i=pe.setLayers(i,0,"(",")"),r!==""&&(r=pe.setLayers(r,0,"(",")")),this.useNovelAiWeightSymbol&&(i=pe.setLayers(i,0,"{","}"),r!==""&&(r=pe.setLayers(r,0,"{","}")));let o=n.decWeight;o+=t,o<0&&(o=0),n.incWeight=0,n.decWeight=o,i=pe.setLayers(i,o,"[","]"),r!==""&&(r=pe.setLayers(r,o,"[","]")),n.value=i,r!==""&&(n.localValue=r),this.updateTags()},onWrapTagClick(e){let t=this.tags.find(o=>o.id===e);if(!t)return;let n=this.tags.indexOf(t),i=this._appendTag(`
`,`
`,!1,-1,"wrap"),r=this.tags[i];this.tags.splice(i,1),this.tags.splice(n+1,0,r),this.updateTags()},onTranslateToLocalClick(e){let t=this.tags.find(i=>i.id===e);if(!t)return;let n=this.tags.indexOf(t);this.loading[t.id+"_local"]||this.translates([n],!0,!0).finally(()=>{this.updateTags()})},onTranslateToEnglishClick(e){let t=this.tags.find(i=>i.id===e);if(!t)return;let n=this.tags.indexOf(t);this.loading[t.id+"_en"]||this.translates([n],!1,!0).finally(()=>{this.updateTags()})},onBlacklistClick(e){let t=this.tags.find(i=>i.id===e);if(!t)return;if(!this.cancelBlacklistConfirm){let i=this.getLang("confirm_add_blacklist").replace("{0}",t.value)+`
`+this.getLang("blacklist_desc");if(!confirm(i))return}let n=JSON.parse(JSON.stringify(this.blacklist));t.isLora?n.lora.push(t.loraName):t.isLyco?n.lycoris.push(t.lycoName):t.isEmbedding?n.embedding.push(t.embeddingName):this.neg?n.negative_prompt.push(t.originalValue):n.prompt.push(t.originalValue),this.gradioAPI.setData("blacklist",n),this.$emit("update:blacklist",n,this.cancelBlacklistConfirm),this.tags.forEach(i=>{i.value===t.value&&this.onDeleteTagClick(i.id)})}}},eT={data(){return{groupTagsActive:"",subGroupTagsActive:"",groupTagsProcessed:[],extraNetworksRefreshing:!1}},watch:{groupTags:{handler(){this.genGroup(),(!this.groupTagsActive||!this.subGroupTagsActive)&&(this.groupTagsActive="favorite",this.subGroupTagsActive="favorite-"+this.favoriteKey),this._setGroupTagItemWidth()},deep:!0,immediate:!0},favorites:{handler(){this.genGroup()},deep:!0,immediate:!0},extraNetworks:{handler(){this.genGroup()},deep:!0,immediate:!0}},mounted(){this.gradioAPI.getData("groupTagsActive-"+this.name).then(e=>{e!==null&&typeof e=="object"&&(this.groupTagsActive=e.groupTagsActive,this.subGroupTagsActive=e.subGroupTagsActive)})},methods:{async genGroup(){let e=[],t={name:this.getLang("favorite"),tabKey:"favorite",type:"favorite",groups:[]};this.getCurrentTypeFavorites().forEach(i=>{let r={color:"",name:this.getLang(i.name),tabKey:"favorite-"+i.key,type:"favorite",tags:{},ori:{}};i.list.forEach(o=>{r.tags[o.prompt]=o.name==""?o.prompt:o.name,r.ori[o.prompt]=o}),t.groups.push(r)}),e.push(t);const n=this;if(this.$appMode){let i={name:"Extra Networks",tabKey:"extraNetworks",type:"extraNetworks",groups:[]};const r=n.openDB();await this.extraNetworks.forEach(o=>{let s={color:"",name:o.title,tabKey:"extraNetworks-"+o.name,type:"extraNetworks",subType:o.name,tags:{},datas:[]};o.items.forEach(async f=>{if(f.preview==null||f.preview.length<=0)try{const d=await n.fetchModelById(r,f.model_name+"@"+f.model_type);f.preview=d.imageUrl}catch{}s.datas.push(f)}),i.groups.push(s),o.items.forEach(f=>{f.dirnameFormat=f.dirname.replaceAll("\\","/")});let a=pe.getSamePrefixPath([...new Set(o.items.map(f=>f.dirnameFormat))]),l=[];o.items.forEach(f=>{let d=f.dirnameFormat.replace(a,"");d===""&&(d="@root"),d=d.replace(/^\//,""),l.push(d),f.base_dirname=d}),l=[...new Set(l)],l.length>1&&l.forEach(f=>{let d={color:"",name:f,tabKey:"extraNetworks-"+o.name+"-"+f,type:"extraNetworks",subType:o.name,tags:{},datas:[]};o.items.forEach(v=>{v.base_dirname===f&&d.datas.push(v)}),i.groups.push(d)}),i.groups.push({type:"wrap"})}),e.push(i)}e=e.concat(this.groupTags),this.groupTagsProcessed=e},saveGroupActive(){this.gradioAPI.setData("groupTagsActive-"+this.name,{groupTagsActive:this.groupTagsActive,subGroupTagsActive:this.subGroupTagsActive})},activeGroupTab(e){this.groupTagsActive=this.groupTagsProcessed[e].tabKey,this.subGroupTagsActive=this.groupTagsProcessed[e].groups[0].tabKey,this.saveGroupActive();let t=this.$refs.groupTabsHeader.children[e].offsetLeft-this.$refs.groupTabsHeader.offsetWidth/2+this.$refs.groupTabsHeader.children[e].offsetWidth/2;this.$refs.groupTabsHeader.scrollTo({left:t,behavior:"smooth"}),this._setGroupTagItemWidth()},activeSubGroupTab(e,t){this.subGroupTagsActive=this.groupTagsProcessed[e].groups[t].tabKey,this.saveGroupActive(),this._setGroupTagItemWidth()},_setGroupTagItemWidth(){this.$nextTick(()=>{if(!this.$refs.groupTagItem)return;this.$refs.groupTagItem.forEach((t,n)=>{t.style.width="auto"});let e=0;this.$refs.groupTagItem.forEach((t,n)=>{e=Math.max(e,t.offsetWidth)}),e>0&&this.$refs.groupTagItem.forEach((t,n)=>{t.style.width=e+"px"})})},onClickHideGroupTags(){this.$emit("update:hideGroupTags",!this.hideGroupTags)},onClickGroupTag(e,t,n,i){let r=[];if(this.tags.forEach((o,s)=>{o.originalValue===t&&r.push(s)}),r.length)r.reverse().forEach(o=>{this.tags.splice(o,1)}),this.updateTags();else if(n.type==="favorite"){let o=i.ori[t];this.onClickGroupTagFavorite(o)}else this._appendTag(t,e,!1,-1,"text"),this.updateTags()},onClickGroupTagFavorite(e){e.tags.forEach(t=>{this._appendTag(t.value,t.localValue,t.disabled,-1,t.type)}),this.updateTags()},onClickGroupTagExtraNetwork(e,t,n){let i=this._groupTagsExtraNetworkTagsIndexes(e);if(i.length)i.reverse().forEach(r=>{this.tags.splice(r,1)}),this.updateTags();else{let r=1,o=1,s="";e.local_info!=null&&(e.local_info.strengthMax!=null&&e.local_info.strengthMax!=""&&(o=parseFloat(e.local_info.strengthMax)),e.local_info.strengthMin!=null&&e.local_info.strengthMin!=""&&(r=parseFloat(e.local_info.strengthMin)),e.local_info.loraWorks!=null&&e.local_info.loraWorks.length>0&&(s=e.local_info.loraWorks));let a=e.prompt+r+":"+o+">",l=this._appendTag(a,"",!1,-1,"text");if(this.autoTranslateToLocal?this.translates([l],!0,!1).finally(()=>{this.updateTags()}):this.updateTags(),s.length>0){const f=s.split(",");for(let d=0;d<this.tags.length;d++){const v=this.tags[d];for(let m=0;m<f.length;m++){const C=f[m];if(v.value==C){f.splice(m,1);break}}}for(let d=0;d<f.length;d++){const v=f[d];this._appendTag(v,"",!1,-1,"text")}this.updateTags()}}},getGroupTagTooltip(e,t){let n="";return e&&e!==t&&(n+=e+"<br/>"),n+=t,n},getGroupTagStyle(e,t,n){let i={},r=pe.getTagsColorKey(e,t),o="";this.groupTagsColor[r]&&(o=this.groupTagsColor[r],pe.isColorTransparent(o)&&(o="")),o&&(i={background:o});for(let s of this.tags)if(s.originalValue===n){i.filter="grayscale(1)";break}return i},_groupTagsExtraNetworkTagsIndexes(e){let t=e.name,n=e.output_name||void 0,i=[];for(let r in this.tags){let o=this.tags[r];if(typeof o.type=="string"&&o.type==="wrap")continue;let s=!1;o.isLora?s=o.loraName===t||n&&o.loraName===n:o.isLyco?s=o.lycoName===t||n&&o.lycoName===n:o.isEmbedding?s=o.embeddingName===t||n&&o.embeddingName===n:s=o.originalValue===t||n&&o.originalValue===n,s&&i.push(r)}return i},getGroupTagExtraNetworkStyle(e){let t=this._groupTagsExtraNetworkTagsIndexes(e),n={width:this.extraNetworksWidth+"px",height:this.extraNetworksHeight+"px"};return t.length&&(n.filter="grayscale(1)"),n},getTagsColorKey(e,t){return pe.getTagsColorKey(e,t)},onTagsColorChange(e){this.$emit("update:groupTagsColor",this.groupTagsColor)},onClickResetTagsColor(e){for(let t of this.groupTagsProcessed)for(let n of t.groups){if(n.type&&n.typ=="wrap")continue;let i=pe.getTagsColorKey(t.name,n.name);e===i&&(this.groupTagsColor[e]=Lt(pe.fitterInputColor(n.color)))}this.onTagsColorChange(e)},onClickClearTagsColor(e){this.groupTagsColor[e]=Lt("rgba(0,0,0,0)"),this.onTagsColorChange(e)},getTagColorStyle(e){if(e.isLora||e.isLyco||e.isEmbedding)return{};if(!this.groupTagsColorKeyCache[e.value])return{};let t=this.groupTagsColorKeyCache[e.value];if(!this.groupTagsColor[t])return{};let n=this.groupTagsColor[t];return pe.isColorTransparent(n)?{}:{background:n}},onGroupExtraNetworkMouseEnter(e,t){this.$emit("showExtraNetworks",e.target,t,this.onLoraPopupUseKeywords,!0,"groupTags")},onGroupExtraNetworkMouseMove(){},onGroupExtraNetworkMouseLeave(){this.$emit("hideExtraNetworks")},onClickGroupExtraNetworkRefresh(){this.$emit("refreshExtraNetworks")},onClickGroupExtraNetworkRefreshLoadAllImage(){this.$emit("refreshExtraNetworksLoadAll")},openDB(){return new Promise((e,t)=>{const n=indexedDB.open("comfyui_workspace_db");n.onerror=i=>{t(n.error)},n.onsuccess=i=>{const r=i.target.result;e(r)}})},fetchModelById(e,t){return new Promise((n,i)=>{const s=e.transaction(["models"],"readonly").objectStore("models").get(t);s.onerror=a=>{i(s.error)},s.onsuccess=a=>{n(a.target.result)}})}}},tT={name:"IconSvg",props:{name:{type:String,required:!0},svgName:{type:String,default:""}},data(){return{svgCode:""}},watch:{name:{handler:function(e,t){this.getSvg()},immediate:!1}},mounted(){this.getSvg()},methods:{getSvg(){if(!this.name)return;let e=this.svgName||this.name;if(window.loadingSvg=window.loadingSvg||{},window.isLoadSvg=window.isLoadSvg||{},window.isLoadSvg[e]){this.svgCode=localStorage.getItem("iconSVG-"+e);return}if(localStorage.getItem("iconSVG-"+e)&&(this.svgCode=localStorage.getItem("iconSVG-"+e)),window.loadingSvg[e]){const t=setInterval(()=>{window.loadingSvg[e]||(clearInterval(t),this.svgCode=localStorage.getItem("iconSVG-"+e))},10);return}window.loadingSvg[e]=!0,window.iconSvgHash||(window.iconSvgHash=new Date().getTime()),this.gradioAPI.styles("icons/"+e+".svg",window.iconSvgHash).then(t=>{this.svgCode=t,localStorage.setItem("iconSVG-"+e,t),window.isLoadSvg[e]=!0,window.loadingSvg[e]=!1}).catch(t=>{window.loadingSvg[e]=!1})}}},nT=["innerHTML"];function iT(e,t,n,i,r,o){return oe((T(),A("div",{class:Ge(["icon-svg","icon-svg-"+n.name]),"data-name":"name",innerHTML:r.svgCode},null,10,nT)),[[Rt,r.svgCode]])}const Gt=Dt(tT,[["render",iT]]),rT={name:"HighlightPrompt",props:{textarea:{type:Object,required:!0},hideDefaultInput:{type:Boolean,default:!1}},data(){return{scrollTop:0,showTimeId:0,hideTimeId:0,lastHighLightTag:null}},watch:{},mounted(){},methods:{show(e){this.lastHighLightTag&&this.lastHighLightTag.value===e.value||(this.lastHighLightTag=e,this.showTimeId&&clearTimeout(this.showTimeId),this.showTimeId=setTimeout(()=>{this._show(e),this.showTimeId=0},10))},_show(e){if(this.hideDefaultInput)return this._hide();if(typeof e.type=="string"&&e.type==="wrap")return this._hide();let t=e.value,n=this.textarea.value;if(t===""||t.trim()==="")return this._hide();if(n===""||n.trim()==="")return this._hide();if(t=pe.escapeHtml(t),n=pe.escapeHtml(this.textarea.value),n.indexOf(t)===-1)return this._hide();this.textarea.parentNode.insertBefore(this.$refs.highlightPrompt,this.textarea.nextSibling);const r=window.getComputedStyle(this.textarea);for(const a of r)this.$refs.highlightPrompt.style[a]=r[a];this.$refs.highlightPrompt.style.display="block",this.textarea.style.display="none";let o="",s=n;for(;;){const a=s.indexOf(t);if(a===-1){o+=s;break}const l=a+t.length;o+=s.substring(0,a),o+='<span class="physton-highlight-prompt">',o+=s.substring(a,l),o+="</span>",s=s.substring(l)}this.$refs.highlightPrompt.innerHTML=o,this.$refs.highlightPrompt.scrollTop=this.scrollTop},hide(){this.lastHighLightTag=null,this.showTimeId&&clearTimeout(this.showTimeId),this.hideTimeId&&clearTimeout(this.hideTimeId),this.hideTimeId=setTimeout(()=>{this._hide(),this.hideTimeId=0},10)},_hide(){this.textarea.style.display="block",this.$refs.highlightPrompt.style.display="none",this.scrollTop=this.textarea.scrollTop}}};function oT(e,t,n,i,r,o){return T(),A("div",{class:"physton-highlight-prompt",ref:"highlightPrompt",onClick:t[0]||(t[0]=(...s)=>o.hide&&o.hide(...s))},null,512)}const sT=Dt(rT,[["render",oT]]);function aT(e){return nh()?(yC(e),!0):!1}function la(e){return typeof e=="function"?e():Eh(e)}const Rm=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const lT=Object.prototype.toString,uT=e=>lT.call(e)==="[object Object]",Uo=()=>{},cT=fT();function fT(){var e,t;return Rm&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Pm(e,t){function n(...i){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(o)})}return n}const Mm=e=>e();function dT(e,t={}){let n,i,r=Uo;const o=a=>{clearTimeout(a),r(),r=Uo};return a=>{const l=la(e),f=la(t.maxWait);return n&&o(n),l<=0||f!==void 0&&f<=0?(i&&(o(i),i=null),Promise.resolve(a())):new Promise((d,v)=>{r=t.rejectOnCancel?v:d,f&&!i&&(i=setTimeout(()=>{n&&o(n),i=null,d(a())},f)),n=setTimeout(()=>{i&&o(i),i=null,d(a())},l)})}}function pT(e=Mm){const t=Lt(!0);function n(){t.value=!1}function i(){t.value=!0}const r=(...o)=>{t.value&&e(...o)};return{isActive:wc(t),pause:n,resume:i,eventFilter:r}}function hT(e){return e||Sl()}function ro(e,t=200,n={}){return Pm(dT(t,n),e)}function gT(e,t,n={}){const{eventFilter:i=Mm,...r}=n;return ci(e,Pm(i,t),r)}function mT(e,t,n={}){const{eventFilter:i,...r}=n,{eventFilter:o,pause:s,resume:a,isActive:l}=pT(i);return{stop:gT(e,t,{...r,eventFilter:o}),pause:s,resume:a,isActive:l}}function Ko(e,t=!0,n){hT()?No(e,n):t?e():Io(e)}function Nn(e,t,n){const i=ci(e,(r,o,s)=>{r&&(n!=null&&n.once&&Io(()=>i()),t(r,o,s))},{...n,once:!1});return i}function ua(e){var t;const n=la(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ca=Rm?window:void 0;function oo(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=ca):[t,n,i,r]=e,!t)return Uo;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const o=[],s=()=>{o.forEach(d=>d()),o.length=0},a=(d,v,m,C)=>(d.addEventListener(v,m,C),()=>d.removeEventListener(v,m,C)),l=ci(()=>[ua(t),la(r)],([d,v])=>{if(s(),!d)return;const m=uT(v)?{...v}:v;o.push(...n.flatMap(C=>i.map(b=>a(d,C,b,m))))},{immediate:!0,flush:"post"}),f=()=>{l(),s()};return aT(f),f}let Dm=!1;function vT(e,t,n={}){const{window:i=ca,ignore:r=[],capture:o=!0,detectIframe:s=!1}=n;if(!i)return Uo;cT&&!Dm&&(Dm=!0,Array.from(i.document.body.children).forEach(m=>m.addEventListener("click",Uo)),i.document.documentElement.addEventListener("click",Uo));let a=!0;const l=m=>r.some(C=>{if(typeof C=="string")return Array.from(i.document.querySelectorAll(C)).some(b=>b===m.target||m.composedPath().includes(b));{const b=ua(C);return b&&(m.target===b||m.composedPath().includes(b))}}),d=[oo(i,"click",m=>{const C=ua(e);if(!(!C||C===m.target||m.composedPath().includes(C))){if(m.detail===0&&(a=!l(m)),!a){a=!0;return}t(m)}},{passive:!0,capture:o}),oo(i,"pointerdown",m=>{const C=ua(e);a=!l(m)&&!!(C&&!m.composedPath().includes(C))},{passive:!0}),s&&oo(i,"blur",m=>{setTimeout(()=>{var C;const b=ua(e);((C=i.document.activeElement)==null?void 0:C.tagName)==="IFRAME"&&!(b!=null&&b.contains(i.document.activeElement))&&t(m)},0)})].filter(Boolean);return()=>d.forEach(m=>m())}function yT(){const e=Lt(!1),t=Sl();return t&&No(()=>{e.value=!0},t),e}function bT(e){const t=yT();return sn(()=>(t.value,!!e()))}const Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xl="__vueuse_ssr_handlers__",CT=_T();function _T(){return Xl in Yl||(Yl[Xl]=Yl[Xl]||{}),Yl[Xl]}function wT(e,t){return CT[e]||t}function kT(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const TT={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Fm="vueuse-storage";function xT(e,t,n,i={}){var r;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:f=!1,shallow:d,window:v=ca,eventFilter:m,onError:C=N=>{console.error(N)},initOnMounted:b}=i,k=(d?HC:Lt)(typeof t=="function"?t():t);if(!n)try{n=wT("getDefaultStorage",()=>{var N;return(N=ca)==null?void 0:N.localStorage})()}catch(N){C(N)}if(!n)return k;const x=la(t),L=kT(x),$=(r=i.serializer)!=null?r:TT[L],{pause:V,resume:O}=mT(k,()=>K(k.value),{flush:o,deep:s,eventFilter:m});v&&a&&Ko(()=>{oo(v,"storage",M),oo(v,Fm,E),b&&M()}),b||M();function ge(N,I){v&&v.dispatchEvent(new CustomEvent(Fm,{detail:{key:e,oldValue:N,newValue:I,storageArea:n}}))}function K(N){try{const I=n.getItem(e);if(N==null)ge(I,null),n.removeItem(e);else{const F=$.write(N);I!==F&&(n.setItem(e,F),ge(I,F))}}catch(I){C(I)}}function h(N){const I=N?N.newValue:n.getItem(e);if(I==null)return l&&x!=null&&n.setItem(e,$.write(x)),x;if(!N&&f){const F=$.read(I);return typeof f=="function"?f(F,x):L==="object"&&!Array.isArray(F)?{...x,...F}:F}else return typeof I!="string"?I:$.read(I)}function M(N){if(!(N&&N.storageArea!==n)){if(N&&N.key==null){k.value=x;return}if(!(N&&N.key!==e)){V();try{(N==null?void 0:N.newValue)!==$.write(k.value)&&(k.value=h(N))}catch(I){C(I)}finally{N?Io(O):O()}}}}function E(N){M(N.detail)}return k}function ST(e={}){const{initialValue:t=""}=e,n=bT(()=>typeof window<"u"&&"EyeDropper"in window),i=Lt(t);async function r(o){if(!n.value)return;const a=await new window.EyeDropper().open(o);return i.value=a.sRGBHex,a}return{isSupported:n,sRGBHex:i,open:r}}function vf(e,t,n={}){const{window:i=ca}=n;return xT(e,t,i==null?void 0:i.localStorage,n)}var so=so||{};so.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,i=e.visit(t.at),r=e.visit(t.style);return r&&(n+=" "+r),i&&(n+=" at "+i),n},"visit_default-radial":function(t){var n="",i=e.visit(t.at);return i&&(n+=i),n},"visit_extent-keyword":function(t){var n=t.value,i=e.visit(t.at);return i&&(n+=" at "+i),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var i=t,r=e.visit(n.length);return r&&(i+=" "+r),i},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",i=t.length;return t.forEach(function(r,o){n+=e.visit(r),o<i-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var i=e["visit_"+t.type];if(i)return i(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var so=so||{};so.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(G){var le=new Error(t+": "+G);throw le.source=t,le}function i(){var G=r();return t.length>0&&n("Invalid input not EOF"),G}function r(){return V(o)}function o(){return s("linear-gradient",e.linearGradient,l)||s("repeating-linear-gradient",e.repeatingLinearGradient,l)||s("radial-gradient",e.radialGradient,v)||s("repeating-radial-gradient",e.repeatingRadialGradient,v)}function s(G,le,be){return a(le,function(Ee){var Ce=be();return Ce&&($e(e.comma)||n("Missing comma before color stops")),{type:G,orientation:Ce,colorStops:V(O)}})}function a(G,le){var be=$e(G);if(be){$e(e.startCall)||n("Missing (");var Ee=le(be);return $e(e.endCall)||n("Missing )"),Ee}}function l(){return f()||d()}function f(){return _e("directional",e.sideOrCorner,1)}function d(){return _e("angular",e.angleValue,1)}function v(){var G,le=m(),be;return le&&(G=[],G.push(le),be=t,$e(e.comma)&&(le=m(),le?G.push(le):t=be)),G}function m(){var G=C()||b();if(G)G.at=x();else{var le=k();if(le){G=le;var be=x();be&&(G.at=be)}else{var Ee=L();Ee&&(G={type:"default-radial",at:Ee})}}return G}function C(){var G=_e("shape",/^(circle)/i,0);return G&&(G.style=q()||k()),G}function b(){var G=_e("shape",/^(ellipse)/i,0);return G&&(G.style=I()||k()),G}function k(){return _e("extent-keyword",e.extentKeywords,1)}function x(){if(_e("position",/^at/,0)){var G=L();return G||n("Missing positioning value"),G}}function L(){var G=$();if(G.x||G.y)return{type:"position",value:G}}function $(){return{x:I(),y:I()}}function V(G){var le=G(),be=[];if(le)for(be.push(le);$e(e.comma);)le=G(),le?be.push(le):n("One extra comma");return be}function O(){var G=ge();return G||n("Expected color definition"),G.length=I(),G}function ge(){return h()||E()||M()||K()}function K(){return _e("literal",e.literalColor,0)}function h(){return _e("hex",e.hexColor,1)}function M(){return a(e.rgbColor,function(){return{type:"rgb",value:V(N)}})}function E(){return a(e.rgbaColor,function(){return{type:"rgba",value:V(N)}})}function N(){return $e(e.number)[1]}function I(){return _e("%",e.percentageValue,1)||F()||q()}function F(){return _e("position-keyword",e.positionKeywords,1)}function q(){return _e("px",e.pixelValue,1)||_e("em",e.emValue,1)}function _e(G,le,be){var Ee=$e(le);if(Ee)return{type:G,value:Ee[be]}}function $e(G){var le,be;return be=/^[\n\r\t\s]+/.exec(t),be&&Le(be[0].length),le=G.exec(t),le&&Le(le[0].length),le}function Le(G){t=t.substr(G)}return function(G){return t=G.toString(),i()}}();var ET=so.parse,AT=so.stringify,Vn="top",di="bottom",pi="right",Wn="left",yf="auto",fa=[Vn,di,pi,Wn],Go="start",da="end",LT="clippingParents",Bm="viewport",pa="popper",OT="reference",$m=fa.reduce(function(e,t){return e.concat([t+"-"+Go,t+"-"+da])},[]),jm=[].concat(fa,[yf]).reduce(function(e,t){return e.concat([t,t+"-"+Go,t+"-"+da])},[]),IT="beforeRead",NT="read",RT="afterRead",PT="beforeMain",MT="main",DT="afterMain",FT="beforeWrite",BT="write",$T="afterWrite",jT=[IT,NT,RT,PT,MT,DT,FT,BT,$T];function Bi(e){return e?(e.nodeName||"").toLowerCase():null}function ti(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ao(e){var t=ti(e).Element;return e instanceof t||e instanceof Element}function hi(e){var t=ti(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function bf(e){if(typeof ShadowRoot>"u")return!1;var t=ti(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function HT(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!hi(o)||!Bi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function VT(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,f){return l[f]="",l},{});!hi(r)||!Bi(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const Hm={name:"applyStyles",enabled:!0,phase:"write",fn:HT,effect:VT,requires:["computeStyles"]};function $i(e){return e.split("-")[0]}var lo=Math.max,Jl=Math.min,zo=Math.round;function Cf(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vm(){return!/^((?!chrome|android).)*safari/i.test(Cf())}function qo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&hi(e)&&(r=e.offsetWidth>0&&zo(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&zo(i.height)/e.offsetHeight||1);var s=ao(e)?ti(e):window,a=s.visualViewport,l=!Vm()&&n,f=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/o,v=i.width/r,m=i.height/o;return{width:v,height:m,top:d,right:f+v,bottom:d+m,left:f,x:f,y:d}}function _f(e){var t=qo(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Wm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&bf(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function sr(e){return ti(e).getComputedStyle(e)}function WT(e){return["table","td","th"].indexOf(Bi(e))>=0}function Ir(e){return((ao(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zl(e){return Bi(e)==="html"?e:e.assignedSlot||e.parentNode||(bf(e)?e.host:null)||Ir(e)}function Um(e){return!hi(e)||sr(e).position==="fixed"?null:e.offsetParent}function UT(e){var t=/firefox/i.test(Cf()),n=/Trident/i.test(Cf());if(n&&hi(e)){var i=sr(e);if(i.position==="fixed")return null}var r=Zl(e);for(bf(r)&&(r=r.host);hi(r)&&["html","body"].indexOf(Bi(r))<0;){var o=sr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ha(e){for(var t=ti(e),n=Um(e);n&&WT(n)&&sr(n).position==="static";)n=Um(n);return n&&(Bi(n)==="html"||Bi(n)==="body"&&sr(n).position==="static")?t:n||UT(e)||t}function wf(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ga(e,t,n){return lo(e,Jl(t,n))}function KT(e,t,n){var i=ga(e,t,n);return i>n?n:i}function Km(){return{top:0,right:0,bottom:0,left:0}}function Gm(e){return Object.assign({},Km(),e)}function zm(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var GT=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Gm(typeof t!="number"?t:zm(t,fa))};function zT(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=$i(n.placement),l=wf(a),f=[Wn,pi].indexOf(a)>=0,d=f?"height":"width";if(!(!o||!s)){var v=GT(r.padding,n),m=_f(o),C=l==="y"?Vn:Wn,b=l==="y"?di:pi,k=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],x=s[l]-n.rects.reference[l],L=ha(o),$=L?l==="y"?L.clientHeight||0:L.clientWidth||0:0,V=k/2-x/2,O=v[C],ge=$-m[d]-v[b],K=$/2-m[d]/2+V,h=ga(O,K,ge),M=l;n.modifiersData[i]=(t={},t[M]=h,t.centerOffset=h-K,t)}}function qT(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Wm(t.elements.popper,r)&&(t.elements.arrow=r))}const YT={name:"arrow",enabled:!0,phase:"main",fn:zT,effect:qT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yo(e){return e.split("-")[1]}var XT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JT(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:zo(n*r)/r||0,y:zo(i*r)/r||0}}function qm(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,f=e.adaptive,d=e.roundOffsets,v=e.isFixed,m=s.x,C=m===void 0?0:m,b=s.y,k=b===void 0?0:b,x=typeof d=="function"?d({x:C,y:k}):{x:C,y:k};C=x.x,k=x.y;var L=s.hasOwnProperty("x"),$=s.hasOwnProperty("y"),V=Wn,O=Vn,ge=window;if(f){var K=ha(n),h="clientHeight",M="clientWidth";if(K===ti(n)&&(K=Ir(n),sr(K).position!=="static"&&a==="absolute"&&(h="scrollHeight",M="scrollWidth")),K=K,r===Vn||(r===Wn||r===pi)&&o===da){O=di;var E=v&&K===ge&&ge.visualViewport?ge.visualViewport.height:K[h];k-=E-i.height,k*=l?1:-1}if(r===Wn||(r===Vn||r===di)&&o===da){V=pi;var N=v&&K===ge&&ge.visualViewport?ge.visualViewport.width:K[M];C-=N-i.width,C*=l?1:-1}}var I=Object.assign({position:a},f&&XT),F=d===!0?JT({x:C,y:k},ti(n)):{x:C,y:k};if(C=F.x,k=F.y,l){var q;return Object.assign({},I,(q={},q[O]=$?"0":"",q[V]=L?"0":"",q.transform=(ge.devicePixelRatio||1)<=1?"translate("+C+"px, "+k+"px)":"translate3d("+C+"px, "+k+"px, 0)",q))}return Object.assign({},I,(t={},t[O]=$?k+"px":"",t[V]=L?C+"px":"",t.transform="",t))}function ZT(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,f={placement:$i(t.placement),variation:Yo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qm(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qm(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZT,data:{}};var Ql={passive:!0};function ex(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=ti(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",n.update,Ql)}),a&&l.addEventListener("resize",n.update,Ql),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",n.update,Ql)}),a&&l.removeEventListener("resize",n.update,Ql)}}const tx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ex,data:{}};var nx={left:"right",right:"left",bottom:"top",top:"bottom"};function eu(e){return e.replace(/left|right|bottom|top/g,function(t){return nx[t]})}var ix={start:"end",end:"start"};function Ym(e){return e.replace(/start|end/g,function(t){return ix[t]})}function kf(e){var t=ti(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Tf(e){return qo(Ir(e)).left+kf(e).scrollLeft}function rx(e,t){var n=ti(e),i=Ir(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var f=Vm();(f||!f&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Tf(e),y:l}}function ox(e){var t,n=Ir(e),i=kf(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=lo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=lo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Tf(e),l=-i.scrollTop;return sr(r||n).direction==="rtl"&&(a+=lo(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function xf(e){var t=sr(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Xm(e){return["html","body","#document"].indexOf(Bi(e))>=0?e.ownerDocument.body:hi(e)&&xf(e)?e:Xm(Zl(e))}function ma(e,t){var n;t===void 0&&(t=[]);var i=Xm(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=ti(i),s=r?[o].concat(o.visualViewport||[],xf(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(ma(Zl(s)))}function Sf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sx(e,t){var n=qo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Jm(e,t,n){return t===Bm?Sf(rx(e,n)):ao(t)?sx(t,n):Sf(ox(Ir(e)))}function ax(e){var t=ma(Zl(e)),n=["absolute","fixed"].indexOf(sr(e).position)>=0,i=n&&hi(e)?ha(e):e;return ao(i)?t.filter(function(r){return ao(r)&&Wm(r,i)&&Bi(r)!=="body"}):[]}function lx(e,t,n,i){var r=t==="clippingParents"?ax(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,f){var d=Jm(e,f,i);return l.top=lo(d.top,l.top),l.right=Jl(d.right,l.right),l.bottom=Jl(d.bottom,l.bottom),l.left=lo(d.left,l.left),l},Jm(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Zm(e){var t=e.reference,n=e.element,i=e.placement,r=i?$i(i):null,o=i?Yo(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case Vn:l={x:s,y:t.y-n.height};break;case di:l={x:s,y:t.y+t.height};break;case pi:l={x:t.x+t.width,y:a};break;case Wn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var f=r?wf(r):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case Go:l[f]=l[f]-(t[d]/2-n[d]/2);break;case da:l[f]=l[f]+(t[d]/2-n[d]/2);break}}return l}function va(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?LT:a,f=n.rootBoundary,d=f===void 0?Bm:f,v=n.elementContext,m=v===void 0?pa:v,C=n.altBoundary,b=C===void 0?!1:C,k=n.padding,x=k===void 0?0:k,L=Gm(typeof x!="number"?x:zm(x,fa)),$=m===pa?OT:pa,V=e.rects.popper,O=e.elements[b?$:m],ge=lx(ao(O)?O:O.contextElement||Ir(e.elements.popper),l,d,s),K=qo(e.elements.reference),h=Zm({reference:K,element:V,strategy:"absolute",placement:r}),M=Sf(Object.assign({},V,h)),E=m===pa?M:K,N={top:ge.top-E.top+L.top,bottom:E.bottom-ge.bottom+L.bottom,left:ge.left-E.left+L.left,right:E.right-ge.right+L.right},I=e.modifiersData.offset;if(m===pa&&I){var F=I[r];Object.keys(N).forEach(function(q){var _e=[pi,di].indexOf(q)>=0?1:-1,$e=[Vn,di].indexOf(q)>=0?"y":"x";N[q]+=F[$e]*_e})}return N}function ux(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,f=l===void 0?jm:l,d=Yo(i),v=d?a?$m:$m.filter(function(b){return Yo(b)===d}):fa,m=v.filter(function(b){return f.indexOf(b)>=0});m.length===0&&(m=v);var C=m.reduce(function(b,k){return b[k]=va(e,{placement:k,boundary:r,rootBoundary:o,padding:s})[$i(k)],b},{});return Object.keys(C).sort(function(b,k){return C[b]-C[k]})}function cx(e){if($i(e)===yf)return[];var t=eu(e);return[Ym(e),t,Ym(t)]}function fx(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,f=n.padding,d=n.boundary,v=n.rootBoundary,m=n.altBoundary,C=n.flipVariations,b=C===void 0?!0:C,k=n.allowedAutoPlacements,x=t.options.placement,L=$i(x),$=L===x,V=l||($||!b?[eu(x)]:cx(x)),O=[x].concat(V).reduce(function(fe,de){return fe.concat($i(de)===yf?ux(t,{placement:de,boundary:d,rootBoundary:v,padding:f,flipVariations:b,allowedAutoPlacements:k}):de)},[]),ge=t.rects.reference,K=t.rects.popper,h=new Map,M=!0,E=O[0],N=0;N<O.length;N++){var I=O[N],F=$i(I),q=Yo(I)===Go,_e=[Vn,di].indexOf(F)>=0,$e=_e?"width":"height",Le=va(t,{placement:I,boundary:d,rootBoundary:v,altBoundary:m,padding:f}),G=_e?q?pi:Wn:q?di:Vn;ge[$e]>K[$e]&&(G=eu(G));var le=eu(G),be=[];if(o&&be.push(Le[F]<=0),a&&be.push(Le[G]<=0,Le[le]<=0),be.every(function(fe){return fe})){E=I,M=!1;break}h.set(I,be)}if(M)for(var Ee=b?3:1,Ce=function(de){var ye=O.find(function(Oe){var qe=h.get(Oe);if(qe)return qe.slice(0,de).every(function(De){return De})});if(ye)return E=ye,"break"},W=Ee;W>0;W--){var Q=Ce(W);if(Q==="break")break}t.placement!==E&&(t.modifiersData[i]._skip=!0,t.placement=E,t.reset=!0)}}const dx={name:"flip",enabled:!0,phase:"main",fn:fx,requiresIfExists:["offset"],data:{_skip:!1}};function Qm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ev(e){return[Vn,pi,di,Wn].some(function(t){return e[t]>=0})}function px(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=va(t,{elementContext:"reference"}),a=va(t,{altBoundary:!0}),l=Qm(s,i),f=Qm(a,r,o),d=ev(l),v=ev(f);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":v})}const hx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:px};function gx(e,t,n){var i=$i(e),r=[Wn,Vn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Wn,pi].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function mx(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=jm.reduce(function(d,v){return d[v]=gx(v,t.rects,o),d},{}),a=s[t.placement],l=a.x,f=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[i]=s}const vx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mx};function yx(e){var t=e.state,n=e.name;t.modifiersData[n]=Zm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const bx={name:"popperOffsets",enabled:!0,phase:"read",fn:yx,data:{}};function Cx(e){return e==="x"?"y":"x"}function _x(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,v=n.padding,m=n.tether,C=m===void 0?!0:m,b=n.tetherOffset,k=b===void 0?0:b,x=va(t,{boundary:l,rootBoundary:f,padding:v,altBoundary:d}),L=$i(t.placement),$=Yo(t.placement),V=!$,O=wf(L),ge=Cx(O),K=t.modifiersData.popperOffsets,h=t.rects.reference,M=t.rects.popper,E=typeof k=="function"?k(Object.assign({},t.rects,{placement:t.placement})):k,N=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(K){if(o){var q,_e=O==="y"?Vn:Wn,$e=O==="y"?di:pi,Le=O==="y"?"height":"width",G=K[O],le=G+x[_e],be=G-x[$e],Ee=C?-M[Le]/2:0,Ce=$===Go?h[Le]:M[Le],W=$===Go?-M[Le]:-h[Le],Q=t.elements.arrow,fe=C&&Q?_f(Q):{width:0,height:0},de=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Km(),ye=de[_e],Oe=de[$e],qe=ga(0,h[Le],fe[Le]),De=V?h[Le]/2-Ee-qe-ye-N.mainAxis:Ce-qe-ye-N.mainAxis,ze=V?-h[Le]/2+Ee+qe+Oe+N.mainAxis:W+qe+Oe+N.mainAxis,mt=t.elements.arrow&&ha(t.elements.arrow),vt=mt?O==="y"?mt.clientTop||0:mt.clientLeft||0:0,P=(q=I==null?void 0:I[O])!=null?q:0,j=G+De-P-vt,X=G+ze-P,ce=ga(C?Jl(le,j):le,G,C?lo(be,X):be);K[O]=ce,F[O]=ce-G}if(a){var Z,he=O==="x"?Vn:Wn,Se=O==="x"?di:pi,we=K[ge],ke=ge==="y"?"height":"width",se=we+x[he],Te=we-x[Se],Me=[Vn,Wn].indexOf(L)!==-1,te=(Z=I==null?void 0:I[ge])!=null?Z:0,Ve=Me?se:we-h[ke]-M[ke]-te+N.altAxis,Je=Me?we+h[ke]+M[ke]-te-N.altAxis:Te,pt=C&&Me?KT(Ve,we,Je):ga(C?Ve:se,we,C?Je:Te);K[ge]=pt,F[ge]=pt-we}t.modifiersData[i]=F}}const wx={name:"preventOverflow",enabled:!0,phase:"main",fn:_x,requiresIfExists:["offset"]};function kx(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Tx(e){return e===ti(e)||!hi(e)?kf(e):kx(e)}function xx(e){var t=e.getBoundingClientRect(),n=zo(t.width)/e.offsetWidth||1,i=zo(t.height)/e.offsetHeight||1;return n!==1||i!==1}function Sx(e,t,n){n===void 0&&(n=!1);var i=hi(t),r=hi(t)&&xx(t),o=Ir(t),s=qo(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Bi(t)!=="body"||xf(o))&&(a=Tx(t)),hi(t)?(l=qo(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Tf(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ex(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function Ax(e){var t=Ex(e);return jT.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function Lx(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ox(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var tv={placement:"bottom",modifiers:[],strategy:"absolute"};function nv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ix(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?tv:r;return function(a,l,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},tv,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},v=[],m=!1,C={state:d,setOptions:function(L){var $=typeof L=="function"?L(d.options):L;k(),d.options=Object.assign({},o,d.options,$),d.scrollParents={reference:ao(a)?ma(a):a.contextElement?ma(a.contextElement):[],popper:ma(l)};var V=Ax(Ox([].concat(i,d.options.modifiers)));return d.orderedModifiers=V.filter(function(O){return O.enabled}),b(),C.update()},forceUpdate:function(){if(!m){var L=d.elements,$=L.reference,V=L.popper;if(nv($,V)){d.rects={reference:Sx($,ha(V),d.options.strategy==="fixed"),popper:_f(V)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(N){return d.modifiersData[N.name]=Object.assign({},N.data)});for(var O=0;O<d.orderedModifiers.length;O++){if(d.reset===!0){d.reset=!1,O=-1;continue}var ge=d.orderedModifiers[O],K=ge.fn,h=ge.options,M=h===void 0?{}:h,E=ge.name;typeof K=="function"&&(d=K({state:d,options:M,name:E,instance:C})||d)}}}},update:Lx(function(){return new Promise(function(x){C.forceUpdate(),x(d)})}),destroy:function(){k(),m=!0}};if(!nv(a,l))return C;C.setOptions(f).then(function(x){!m&&f.onFirstUpdate&&f.onFirstUpdate(x)});function b(){d.orderedModifiers.forEach(function(x){var L=x.name,$=x.options,V=$===void 0?{}:$,O=x.effect;if(typeof O=="function"){var ge=O({state:d,name:L,instance:C,options:V}),K=function(){};v.push(ge||K)}})}function k(){v.forEach(function(x){return x()}),v=[]}return C}}var Nx=[tx,bx,QT,Hm,vx,dx,wx,YT,hx],iv=Ix({defaultModifiers:Nx});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rx(e){var t,n;return rv(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(rv(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ya.apply(this,arguments)}function ov(e,t){if(e==null)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(r[n]=e[n]);return r}const Px={silent:!1,logLevel:"warn"},Mx=["validator"],sv=Object.prototype,av=sv.toString,Dx=sv.hasOwnProperty,lv=/^\s*function (\w+)/;function uv(e){var t;const n=(t=e==null?void 0:e.type)!==null&&t!==void 0?t:e;if(n){const i=n.toString().match(lv);return i?i[1]:""}return""}const uo=Rx;let xn=e=>e;const Xo=(e,t)=>Dx.call(e,t),Fx=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Jo=Array.isArray||function(e){return av.call(e)==="[object Array]"},Zo=e=>av.call(e)==="[object Function]",tu=e=>uo(e)&&Xo(e,"_vueTypes_name"),cv=e=>uo(e)&&(Xo(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>Xo(e,t)));function Ef(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function co(e,t,n=!1){let i,r=!0,o="";i=uo(e)?e:{type:e};const s=tu(i)?i._vueTypes_name+" - ":"";if(cv(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&t===void 0)return r;Jo(i.type)?(r=i.type.some(a=>co(a,t,!0)===!0),o=i.type.map(a=>uv(a)).join(" or ")):(o=uv(i),r=o==="Array"?Jo(t):o==="Object"?uo(t):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(lv);return l?l[1]:""}(t)===o:t instanceof i.type)}if(!r){const a=`${s}value "${t}" should be of type "${o}"`;return n===!1?(xn(a),!1):a}if(Xo(i,"validator")&&Zo(i.validator)){const a=xn,l=[];if(xn=f=>{l.push(f)},r=i.validator(t),xn=a,!r){const f=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,n===!1?(xn(f),r):f}}return r}function ni(e,t){const n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(r){return r===void 0?(Xo(this,"default")&&delete this.default,this):Zo(r)||co(this,r,!0)===!0?(this.default=Jo(r)?()=>[...r]:uo(r)?()=>Object.assign({},r):r,this):(xn(`${this._vueTypes_name} - invalid default value: "${r}"`),this)}}}),{validator:i}=n;return Zo(i)&&(n.validator=Ef(i,n)),n}function ji(e,t){const n=ni(e,t);return Object.defineProperty(n,"validate",{value(i){return Zo(this.validator)&&xn(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Ef(i,this),this}})}function fv(e,t,n){const i=function(l){const f={};return Object.getOwnPropertyNames(l).forEach(d=>{f[d]=Object.getOwnPropertyDescriptor(l,d)}),Object.defineProperties({},f)}(t);if(i._vueTypes_name=e,!uo(n))return i;const{validator:r}=n,o=ov(n,Mx);if(Zo(r)){let{validator:l}=i;l&&(l=(a=(s=l).__original)!==null&&a!==void 0?a:s),i.validator=Ef(l?function(f){return l.call(this,f)&&r.call(this,f)}:r,i)}var s,a;return Object.assign(i,o)}function nu(e){return e.replace(/^(?!\s*$)/gm,"  ")}const Bx=()=>ji("any",{}),$x=()=>ji("function",{type:Function}),jx=()=>ji("boolean",{type:Boolean}),Hx=()=>ji("string",{type:String}),Vx=()=>ji("number",{type:Number}),Wx=()=>ji("array",{type:Array}),Ux=()=>ji("object",{type:Object}),Kx=()=>ni("integer",{type:Number,validator:e=>Fx(e)}),Gx=()=>ni("symbol",{validator:e=>typeof e=="symbol"});function zx(e,t="custom validation failed"){if(typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return ni(e.name||"<<anonymous function>>",{type:null,validator(n){const i=e(n);return i||xn(`${this._vueTypes_name} - ${t}`),i}})}function qx(e){if(!Jo(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t=`oneOf - value should be one of "${e.join('", "')}".`,n=e.reduce((i,r)=>{if(r!=null){const o=r.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);return ni("oneOf",{type:n.length>0?n:void 0,validator(i){const r=e.indexOf(i)!==-1;return r||xn(t),r}})}function Yx(e){if(!Jo(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,n=[];for(let r=0;r<e.length;r+=1){const o=e[r];if(cv(o)){if(tu(o)&&o._vueTypes_name==="oneOf"&&o.type){n=n.concat(o.type);continue}if(Zo(o.validator)&&(t=!0),o.type===!0||!o.type){xn('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(o.type)}else n.push(o)}n=n.filter((r,o)=>n.indexOf(r)===o);const i=n.length>0?n:null;return ni("oneOfType",t?{type:i,validator(r){const o=[],s=e.some(a=>{const l=co(tu(a)&&a._vueTypes_name==="oneOf"?a.type||null:a,r,!0);return typeof l=="string"&&o.push(l),l===!0});return s||xn(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${nu(o.join(`
`))}`),s}}:{type:i})}function Xx(e){return ni("arrayOf",{type:Array,validator(t){let n="";const i=t.every(r=>(n=co(e,r,!0),n===!0));return i||xn(`arrayOf - value validation error:
${nu(n)}`),i}})}function Jx(e){return ni("instanceOf",{type:e})}function Zx(e){return ni("objectOf",{type:Object,validator(t){let n="";const i=Object.keys(t).every(r=>(n=co(e,t[r],!0),n===!0));return i||xn(`objectOf - value validation error:
${nu(n)}`),i}})}function Qx(e){const t=Object.keys(e),n=t.filter(r=>{var o;return!((o=e[r])===null||o===void 0||!o.required)}),i=ni("shape",{type:Object,validator(r){if(!uo(r))return!1;const o=Object.keys(r);if(n.length>0&&n.some(s=>o.indexOf(s)===-1)){const s=n.filter(a=>o.indexOf(a)===-1);return xn(s.length===1?`shape - required property "${s[0]}" is not defined.`:`shape - required properties "${s.join('", "')}" are not defined.`),!1}return o.every(s=>{if(t.indexOf(s)===-1)return this._vueTypes_isLoose===!0||(xn(`shape - shape definition does not include a "${s}" property. Allowed keys: "${t.join('", "')}".`),!1);const a=co(e[s],r[s],!0);return typeof a=="string"&&xn(`shape - "${s}" property validation error:
 ${nu(a)}`),a===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),i}const e2=["name","validate","getter"],t2=(()=>{var e;return(e=class{static get any(){return Bx()}static get func(){return $x().def(this.defaults.func)}static get bool(){return jx().def(this.defaults.bool)}static get string(){return Hx().def(this.defaults.string)}static get number(){return Vx().def(this.defaults.number)}static get array(){return Wx().def(this.defaults.array)}static get object(){return Ux().def(this.defaults.object)}static get integer(){return Kx().def(this.defaults.integer)}static get symbol(){return Gx()}static get nullable(){return{type:null}}static extend(t){if(Jo(t))return t.forEach(l=>this.extend(l)),this;const{name:n,validate:i=!1,getter:r=!1}=t,o=ov(t,e2);if(Xo(this,n))throw new TypeError(`[VueTypes error]: Type "${n}" already defined`);const{type:s}=o;if(tu(s))return delete o.type,Object.defineProperty(this,n,r?{get:()=>fv(n,s,o)}:{value(...l){const f=fv(n,s,o);return f.validator&&(f.validator=f.validator.bind(f,...l)),f}});let a;return a=r?{get(){const l=Object.assign({},o);return i?ji(n,l):ni(n,l)},enumerable:!0}:{value(...l){const f=Object.assign({},o);let d;return d=i?ji(n,f):ni(n,f),f.validator&&(d.validator=f.validator.bind(d,...l)),d},enumerable:!0},Object.defineProperty(this,n,a)}}).defaults={},e.sensibleDefaults=void 0,e.config=Px,e.custom=zx,e.oneOf=qx,e.instanceOf=Jx,e.oneOfType=Yx,e.arrayOf=Xx,e.objectOf=Zx,e.shape=Qx,e.utils={validate:(t,n)=>co(n,t,!0)===!0,toType:(t,n,i=!1)=>i?ji(t,n):ni(t,n)},e})();function n2(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends t2{static get sensibleDefaults(){return ya({},this.defaults)}static set sensibleDefaults(n){this.defaults=n!==!1?ya({},n!==!0?n:e):{}}}).defaults=ya({},e),t}let rt=class extends n2(){};var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(e){var t={exports:{}};return e(t,t.exports),t.exports}var iu=function(e){return e&&e.Math==Math&&e},an=iu(typeof globalThis=="object"&&globalThis)||iu(typeof window=="object"&&window)||iu(typeof self=="object"&&self)||iu(typeof dv=="object"&&dv)||function(){return this}()||Function("return this")(),Ht=function(e){try{return!!e()}catch{return!0}},gi=!Ht(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),pv={}.propertyIsEnumerable,hv=Object.getOwnPropertyDescriptor,i2={f:hv&&!pv.call({1:2},1)?function(e){var t=hv(this,e);return!!t&&t.enumerable}:pv},ru=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},r2={}.toString,ar=function(e){return r2.call(e).slice(8,-1)},o2="".split,ou=Ht(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return ar(e)=="String"?o2.call(e,""):Object(e)}:Object,Nr=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},Qo=function(e){return ou(Nr(e))},pn=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Lf=function(e,t){if(!pn(e))return e;var n,i;if(t&&typeof(n=e.toString)=="function"&&!pn(i=n.call(e))||typeof(n=e.valueOf)=="function"&&!pn(i=n.call(e))||!t&&typeof(n=e.toString)=="function"&&!pn(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},s2={}.hasOwnProperty,nn=function(e,t){return s2.call(e,t)},Of=an.document,a2=pn(Of)&&pn(Of.createElement),gv=function(e){return a2?Of.createElement(e):{}},mv=!gi&&!Ht(function(){return Object.defineProperty(gv("div"),"a",{get:function(){return 7}}).a!=7}),vv=Object.getOwnPropertyDescriptor,If={f:gi?vv:function(e,t){if(e=Qo(e),t=Lf(t,!0),mv)try{return vv(e,t)}catch{}if(nn(e,t))return ru(!i2.f.call(e,t),e[t])}},Rn=function(e){if(!pn(e))throw TypeError(String(e)+" is not an object");return e},yv=Object.defineProperty,lr={f:gi?yv:function(e,t,n){if(Rn(e),t=Lf(t,!0),Rn(n),mv)try{return yv(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},mi=gi?function(e,t,n){return lr.f(e,t,ru(1,n))}:function(e,t,n){return e[t]=n,e},Nf=function(e,t){try{mi(an,e,t)}catch{an[e]=t}return t},fo=an["__core-js_shared__"]||Nf("__core-js_shared__",{}),l2=Function.toString;typeof fo.inspectSource!="function"&&(fo.inspectSource=function(e){return l2.call(e)});var su,ba,au,bv=fo.inspectSource,Cv=an.WeakMap,u2=typeof Cv=="function"&&/native code/.test(bv(Cv)),_v=Af(function(e){(e.exports=function(t,n){return fo[t]||(fo[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),c2=0,f2=Math.random(),Rf=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++c2+f2).toString(36)},wv=_v("keys"),Pf=function(e){return wv[e]||(wv[e]=Rf(e))},lu={},d2=an.WeakMap;if(u2){var es=fo.state||(fo.state=new d2),p2=es.get,h2=es.has,g2=es.set;su=function(e,t){return t.facade=e,g2.call(es,e,t),t},ba=function(e){return p2.call(es,e)||{}},au=function(e){return h2.call(es,e)}}else{var Ca=Pf("state");lu[Ca]=!0,su=function(e,t){return t.facade=e,mi(e,Ca,t),t},ba=function(e){return nn(e,Ca)?e[Ca]:{}},au=function(e){return nn(e,Ca)}}var Rr={set:su,get:ba,has:au,enforce:function(e){return au(e)?ba(e):su(e,{})},getterFor:function(e){return function(t){var n;if(!pn(t)||(n=ba(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Pr=Af(function(e){var t=Rr.get,n=Rr.enforce,i=String(String).split("String");(e.exports=function(r,o,s,a){var l,f=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,v=!!a&&!!a.noTargetGet;typeof s=="function"&&(typeof o!="string"||nn(s,"name")||mi(s,"name",o),(l=n(s)).source||(l.source=i.join(typeof o=="string"?o:""))),r!==an?(f?!v&&r[o]&&(d=!0):delete r[o],d?r[o]=s:mi(r,o,s)):d?r[o]=s:Nf(o,s)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||bv(this)})}),Mf=an,kv=function(e){return typeof e=="function"?e:void 0},uu=function(e,t){return arguments.length<2?kv(Mf[e])||kv(an[e]):Mf[e]&&Mf[e][t]||an[e]&&an[e][t]},m2=Math.ceil,v2=Math.floor,ts=function(e){return isNaN(e=+e)?0:(e>0?v2:m2)(e)},y2=Math.min,ii=function(e){return e>0?y2(ts(e),9007199254740991):0},b2=Math.max,C2=Math.min,cu=function(e,t){var n=ts(e);return n<0?b2(n+t,0):C2(n,t)},Tv=function(e){return function(t,n,i){var r,o=Qo(t),s=ii(o.length),a=cu(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},xv={includes:Tv(!0),indexOf:Tv(!1)},_2=xv.indexOf,Sv=function(e,t){var n,i=Qo(e),r=0,o=[];for(n in i)!nn(lu,n)&&nn(i,n)&&o.push(n);for(;t.length>r;)nn(i,n=t[r++])&&(~_2(o,n)||o.push(n));return o},fu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],w2=fu.concat("length","prototype"),k2={f:Object.getOwnPropertyNames||function(e){return Sv(e,w2)}},T2={f:Object.getOwnPropertySymbols},x2=uu("Reflect","ownKeys")||function(e){var t=k2.f(Rn(e)),n=T2.f;return n?t.concat(n(e)):t},S2=function(e,t){for(var n=x2(t),i=lr.f,r=If.f,o=0;o<n.length;o++){var s=n[o];nn(e,s)||i(e,s,r(t,s))}},E2=/#|\.prototype\./,_a=function(e,t){var n=L2[A2(e)];return n==I2||n!=O2&&(typeof t=="function"?Ht(t):!!t)},A2=_a.normalize=function(e){return String(e).replace(E2,".").toLowerCase()},L2=_a.data={},O2=_a.NATIVE="N",I2=_a.POLYFILL="P",Df=_a,N2=If.f,Sn=function(e,t){var n,i,r,o,s,a=e.target,l=e.global,f=e.stat;if(n=l?an:f?an[a]||Nf(a,{}):(an[a]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(s=N2(n,i))&&s.value:n[i],!Df(l?i:a+(f?".":"#")+i,e.forced)&&r!==void 0){if(typeof o==typeof r)continue;S2(o,r)}(e.sham||r&&r.sham)&&mi(o,"sham",!0),Pr(n,i,o,e)}},Ff=function(e,t){var n=[][e];return!!n&&Ht(function(){n.call(null,t||function(){throw 1},1)})},R2=Object.defineProperty,Bf={},Ev=function(e){throw e},ns=function(e,t){if(nn(Bf,e))return Bf[e];t||(t={});var n=[][e],i=!!nn(t,"ACCESSORS")&&t.ACCESSORS,r=nn(t,0)?t[0]:Ev,o=nn(t,1)?t[1]:void 0;return Bf[e]=!!n&&!Ht(function(){if(i&&!gi)return!0;var s={length:-1};i?R2(s,1,{enumerable:!0,get:Ev}):s[1]=1,n.call(s,r,o)})},P2=xv.indexOf,Av=[].indexOf,Lv=!!Av&&1/[1].indexOf(1,-0)<0,M2=Ff("indexOf"),D2=ns("indexOf",{ACCESSORS:!0,1:0});function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ov(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ho(e,t,n){return t&&Ov(e.prototype,t),n&&Ov(e,n),e}Sn({target:"Array",proto:!0,forced:Lv||!M2||!D2},{indexOf:function(e){return Lv?Av.apply(this,arguments)||0:P2(this,e,arguments.length>1?arguments[1]:void 0)}}),function(){function e(){po(this,e)}return ho(e,null,[{key:"isInBrowser",value:function(){return typeof window<"u"}},{key:"isServer",value:function(){return typeof window>"u"}},{key:"getUA",value:function(){return e.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return navigator.userAgent.indexOf("Opera")!==-1}},{key:"isIE",value:function(){var t=e.getUA();return t!==""&&t.indexOf("msie")>0}},{key:"isIE9",value:function(){var t=e.getUA();return t!==""&&t.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var t=e.getUA();return t!==""&&t.indexOf("edge/")>0}},{key:"isChrome",value:function(){var t=e.getUA();return t!==""&&/chrome\/\d+/.test(t)&&!e.isEdge()}},{key:"isPhantomJS",value:function(){var t=e.getUA();return t!==""&&/phantomjs/.test(t)}},{key:"isFirefox",value:function(){var t=e.getUA();return t!==""&&/firefox/.test(t)}}]),e}();var F2=[].join,B2=ou!=Object,$2=Ff("join",",");Sn({target:"Array",proto:!0,forced:B2||!$2},{join:function(e){return F2.call(Qo(this),e===void 0?",":e)}});var is,du,ur=function(e){return Object(Nr(e))},rs=Array.isArray||function(e){return ar(e)=="Array"},Iv=!!Object.getOwnPropertySymbols&&!Ht(function(){return!String(Symbol())}),j2=Iv&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pu=_v("wks"),wa=an.Symbol,H2=j2?wa:wa&&wa.withoutSetter||Rf,Xt=function(e){return nn(pu,e)||(Iv&&nn(wa,e)?pu[e]=wa[e]:pu[e]=H2("Symbol."+e)),pu[e]},V2=Xt("species"),hu=function(e,t){var n;return rs(e)&&(typeof(n=e.constructor)!="function"||n!==Array&&!rs(n.prototype)?pn(n)&&(n=n[V2])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(t===0?0:t)},os=function(e,t,n){var i=Lf(t);i in e?lr.f(e,i,ru(0,n)):e[i]=n},$f=uu("navigator","userAgent")||"",Nv=an.process,Rv=Nv&&Nv.versions,Pv=Rv&&Rv.v8;Pv?du=(is=Pv.split("."))[0]+is[1]:$f&&(!(is=$f.match(/Edge\/(\d+)/))||is[1]>=74)&&(is=$f.match(/Chrome\/(\d+)/))&&(du=is[1]);var gu=du&&+du,W2=Xt("species"),jf=function(e){return gu>=51||!Ht(function(){var t=[];return(t.constructor={})[W2]=function(){return{foo:1}},t[e](Boolean).foo!==1})},U2=jf("splice"),K2=ns("splice",{ACCESSORS:!0,0:0,1:2}),G2=Math.max,z2=Math.min;Sn({target:"Array",proto:!0,forced:!U2||!K2},{splice:function(e,t){var n,i,r,o,s,a,l=ur(this),f=ii(l.length),d=cu(e,f),v=arguments.length;if(v===0?n=i=0:v===1?(n=0,i=f-d):(n=v-2,i=z2(G2(ts(t),0),f-d)),f+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=hu(l,i),o=0;o<i;o++)(s=d+o)in l&&os(r,o,l[s]);if(r.length=i,n<i){for(o=d;o<f-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=f;o>f-i+n;o--)delete l[o-1]}else if(n>i)for(o=f-i;o>d;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+d]=arguments[o+2];return l.length=f-i+n,r}});var Mv={};Mv[Xt("toStringTag")]="z";var Hf=String(Mv)==="[object z]",q2=Xt("toStringTag"),Y2=ar(function(){return arguments}())=="Arguments",Dv=Hf?ar:function(e){var t,n,i;return e===void 0?"Undefined":e===null?"Null":typeof(n=function(r,o){try{return r[o]}catch{}}(t=Object(e),q2))=="string"?n:Y2?ar(t):(i=ar(t))=="Object"&&typeof t.callee=="function"?"Arguments":i},X2=Hf?{}.toString:function(){return"[object "+Dv(this)+"]"};Hf||Pr(Object.prototype,"toString",X2,{unsafe:!0});var Fv=function(){var e=Rn(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Bv(e,t){return RegExp(e,t)}var Vf,Wf,$v={UNSUPPORTED_Y:Ht(function(){var e=Bv("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),BROKEN_CARET:Ht(function(){var e=Bv("^r","gy");return e.lastIndex=2,e.exec("str")!=null})},mu=RegExp.prototype.exec,J2=String.prototype.replace,jv=mu,Uf=(Vf=/a/,Wf=/b*/g,mu.call(Vf,"a"),mu.call(Wf,"a"),Vf.lastIndex!==0||Wf.lastIndex!==0),Hv=$v.UNSUPPORTED_Y||$v.BROKEN_CARET,Kf=/()??/.exec("")[1]!==void 0;(Uf||Kf||Hv)&&(jv=function(e){var t,n,i,r,o=this,s=Hv&&o.sticky,a=Fv.call(o),l=o.source,f=0,d=e;return s&&((a=a.replace("y","")).indexOf("g")===-1&&(a+="g"),d=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&e[o.lastIndex-1]!==`
`)&&(l="(?: "+l+")",d=" "+d,f++),n=new RegExp("^(?:"+l+")",a)),Kf&&(n=new RegExp("^"+l+"$(?!\\s)",a)),Uf&&(t=o.lastIndex),i=mu.call(s?n:o,d),s?i?(i.input=i.input.slice(f),i[0]=i[0].slice(f),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:Uf&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),Kf&&i&&i.length>1&&J2.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)arguments[r]===void 0&&(i[r]=void 0)}),i});var ka=jv;Sn({target:"RegExp",proto:!0,forced:/./.exec!==ka},{exec:ka});var Vv=RegExp.prototype,Wv=Vv.toString,Z2=Ht(function(){return Wv.call({source:"a",flags:"b"})!="/a/b"}),Q2=Wv.name!="toString";(Z2||Q2)&&Pr(RegExp.prototype,"toString",function(){var e=Rn(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(n===void 0&&e instanceof RegExp&&!("flags"in Vv)?Fv.call(e):n)},{unsafe:!0});var eS=Xt("species"),tS=!Ht(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"}),Uv="a".replace(/./,"$0")==="$0",Kv=Xt("replace"),Gv=!!/./[Kv]&&/./[Kv]("a","$0")==="",nS=!Ht(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),zv=function(e,t,n,i){var r=Xt(e),o=!Ht(function(){var v={};return v[r]=function(){return 7},""[e](v)!=7}),s=o&&!Ht(function(){var v=!1,m=/a/;return e==="split"&&((m={}).constructor={},m.constructor[eS]=function(){return m},m.flags="",m[r]=/./[r]),m.exec=function(){return v=!0,null},m[r](""),!v});if(!o||!s||e==="replace"&&(!tS||!Uv||Gv)||e==="split"&&!nS){var a=/./[r],l=n(r,""[e],function(v,m,C,b,k){return m.exec===ka?o&&!k?{done:!0,value:a.call(m,C,b)}:{done:!0,value:v.call(C,m,b)}:{done:!1}},{REPLACE_KEEPS_$0:Uv,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Gv}),f=l[0],d=l[1];Pr(String.prototype,e,f),Pr(RegExp.prototype,r,t==2?function(v,m){return d.call(v,this,m)}:function(v){return d.call(v,this)})}i&&mi(RegExp.prototype[r],"sham",!0)},iS=Xt("match"),qv=function(e){var t;return pn(e)&&((t=e[iS])!==void 0?!!t:ar(e)=="RegExp")},Gf=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},rS=Xt("species"),Yv=function(e){return function(t,n){var i,r,o=String(Nr(t)),s=ts(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},Xv={codeAt:Yv(!1),charAt:Yv(!0)},oS=Xv.charAt,Jv=function(e,t,n){return t+(n?oS(e,t).length:1)},zf=function(e,t){var n=e.exec;if(typeof n=="function"){var i=n.call(e,t);if(typeof i!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return i}if(ar(e)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return ka.call(e,t)},sS=[].push,aS=Math.min,ss=!Ht(function(){return!RegExp(4294967295,"y")});zv("split",2,function(e,t,n){var i;return i="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(r,o){var s=String(Nr(this)),a=o===void 0?4294967295:o>>>0;if(a===0)return[];if(r===void 0)return[s];if(!qv(r))return t.call(s,r,a);for(var l,f,d,v=[],m=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),C=0,b=new RegExp(r.source,m+"g");(l=ka.call(b,s))&&!((f=b.lastIndex)>C&&(v.push(s.slice(C,l.index)),l.length>1&&l.index<s.length&&sS.apply(v,l.slice(1)),d=l[0].length,C=f,v.length>=a));)b.lastIndex===l.index&&b.lastIndex++;return C===s.length?!d&&b.test("")||v.push(""):v.push(s.slice(C)),v.length>a?v.slice(0,a):v}:"0".split(void 0,0).length?function(r,o){return r===void 0&&o===0?[]:t.call(this,r,o)}:t,[function(r,o){var s=Nr(this),a=r==null?void 0:r[e];return a!==void 0?a.call(r,s,o):i.call(String(s),r,o)},function(r,o){var s=n(i,r,this,o,i!==t);if(s.done)return s.value;var a=Rn(r),l=String(this),f=function(O,ge){var K,h=Rn(O).constructor;return h===void 0||(K=Rn(h)[rS])==null?ge:Gf(K)}(a,RegExp),d=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ss?"y":"g"),m=new f(ss?a:"^(?:"+a.source+")",v),C=o===void 0?4294967295:o>>>0;if(C===0)return[];if(l.length===0)return zf(m,l)===null?[l]:[];for(var b=0,k=0,x=[];k<l.length;){m.lastIndex=ss?k:0;var L,$=zf(m,ss?l:l.slice(k));if($===null||(L=aS(ii(m.lastIndex+(ss?0:k)),l.length))===b)k=Jv(l,k,d);else{if(x.push(l.slice(b,k)),x.length===C)return x;for(var V=1;V<=$.length-1;V++)if(x.push($[V]),x.length===C)return x;k=b=L}}return x.push(l.slice(b)),x}]},!ss);var qf=`	
\v\f\r                　\u2028\u2029\uFEFF`,vu="["+qf+"]",lS=RegExp("^"+vu+vu+"*"),uS=RegExp(vu+vu+"*$"),Yf=function(e){return function(t){var n=String(Nr(t));return 1&e&&(n=n.replace(lS,"")),2&e&&(n=n.replace(uS,"")),n}},cS={start:Yf(1),end:Yf(2),trim:Yf(3)},fS=cS.trim;Sn({target:"String",proto:!0,forced:function(e){return Ht(function(){return!!qf[e]()||"​᠎"[e]()!="​᠎"||qf[e].name!==e})}("trim")},{trim:function(){return fS(this)}});var dS=jf("slice"),pS=ns("slice",{ACCESSORS:!0,0:0,1:2}),hS=Xt("species"),gS=[].slice,mS=Math.max;Sn({target:"Array",proto:!0,forced:!dS||!pS},{slice:function(e,t){var n,i,r,o=Qo(this),s=ii(o.length),a=cu(e,s),l=cu(t===void 0?s:t,s);if(rs(o)&&(typeof(n=o.constructor)!="function"||n!==Array&&!rs(n.prototype)?pn(n)&&(n=n[hS])===null&&(n=void 0):n=void 0,n===Array||n===void 0))return gS.call(o,a,l);for(i=new(n===void 0?Array:n)(mS(l-a,0)),r=0;a<l;a++,r++)a in o&&os(i,r,o[a]);return i.length=r,i}});var Xf=Object.keys||function(e){return Sv(e,fu)},vS=Ht(function(){Xf(1)});Sn({target:"Object",stat:!0,forced:vS},{keys:function(e){return Xf(ur(e))}});var Jf,yS=function(e){if(qv(e))throw TypeError("The method doesn't accept regular expressions");return e},bS=Xt("match"),CS=If.f,Zv="".startsWith,_S=Math.min,Qv=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[bS]=!1,"/./"[e](t)}catch{}}return!1}("startsWith"),wS=!(Qv||(Jf=CS(String.prototype,"startsWith"),!Jf||Jf.writable));function ey(e){return(ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Sn({target:"String",proto:!0,forced:!wS&&!Qv},{startsWith:function(e){var t=String(Nr(this));yS(e);var n=ii(_S(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return Zv?Zv.call(t,i,n):t.slice(n,n+i.length)===i}});var as=function(e){return typeof e=="string"},ls=function(e){return e!==null&&ey(e)==="object"},yu=function(){function e(){po(this,e)}return ho(e,null,[{key:"isWindow",value:function(t){return t===window}},{key:"addEventListener",value:function(t,n,i){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t&&n&&i&&t.addEventListener(n,i,r)}},{key:"removeEventListener",value:function(t,n,i){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t&&n&&i&&t.removeEventListener(n,i,r)}},{key:"triggerDragEvent",value:function(t,n){var i=!1,r=function(s){var a;(a=n.drag)===null||a===void 0||a.call(n,s)},o=function s(a){var l;e.removeEventListener(document,"mousemove",r),e.removeEventListener(document,"mouseup",s),document.onselectstart=null,document.ondragstart=null,i=!1,(l=n.end)===null||l===void 0||l.call(n,a)};e.addEventListener(t,"mousedown",function(s){var a;i||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},e.addEventListener(document,"mousemove",r),e.addEventListener(document,"mouseup",o),i=!0,(a=n.start)===null||a===void 0||a.call(n,s))})}},{key:"getBoundingClientRect",value:function(t){return t&&ls(t)&&t.nodeType===1?t.getBoundingClientRect():null}},{key:"hasClass",value:function(t,n){return!!(t&&ls(t)&&as(n)&&t.nodeType===1)&&t.classList.contains(n.trim())}},{key:"addClass",value:function(t,n){if(t&&ls(t)&&as(n)&&t.nodeType===1&&(n=n.trim(),!e.hasClass(t,n))){var i=t.className;t.className=i?i+" "+n:n}}},{key:"removeClass",value:function(t,n){if(t&&ls(t)&&as(n)&&t.nodeType===1&&typeof t.className=="string"){n=n.trim();for(var i=t.className.trim().split(" "),r=i.length-1;r>=0;r--)i[r]=i[r].trim(),i[r]&&i[r]!==n||i.splice(r,1);t.className=i.join(" ")}}},{key:"toggleClass",value:function(t,n,i){t&&ls(t)&&as(n)&&t.nodeType===1&&t.classList.toggle(n,i)}},{key:"replaceClass",value:function(t,n,i){t&&ls(t)&&as(n)&&as(i)&&t.nodeType===1&&(n=n.trim(),i=i.trim(),e.removeClass(t,n),e.addClass(t,i))}},{key:"getScrollTop",value:function(t){var n="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(n,0)}},{key:"setScrollTop",value:function(t,n){"scrollTop"in t?t.scrollTop=n:t.scrollTo(t.scrollX,n)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(t){e.setScrollTop(window,t),e.setScrollTop(document.body,t)}},{key:"getElementTop",value:function(t,n){if(e.isWindow(t))return 0;var i=n?e.getScrollTop(n):e.getRootScrollTop();return t.getBoundingClientRect().top+i}},{key:"getVisibleHeight",value:function(t){return e.isWindow(t)?t.innerHeight:t.getBoundingClientRect().height}},{key:"isHidden",value:function(t){if(!t)return!1;var n=window.getComputedStyle(t),i=n.display==="none",r=t.offsetParent===null&&n.position!=="fixed";return i||r}},{key:"triggerEvent",value:function(t,n){if("createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent(n,!1,!0),t.dispatchEvent(i)}}},{key:"calcAngle",value:function(t,n){var i=t.getBoundingClientRect(),r=i.left+i.width/2,o=i.top+i.height/2,s=Math.abs(r-n.clientX),a=Math.abs(o-n.clientY),l=a/Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),f=Math.acos(l),d=Math.floor(180/(Math.PI/f));return n.clientX>r&&n.clientY>o&&(d=180-d),n.clientX==r&&n.clientY>o&&(d=180),n.clientX>r&&n.clientY==o&&(d=90),n.clientX<r&&n.clientY>o&&(d=180+d),n.clientX<r&&n.clientY==o&&(d=270),n.clientX<r&&n.clientY<o&&(d=360-d),d}},{key:"querySelector",value:function(t,n){return n?n.querySelector(t):document.querySelector(t)}},{key:"createElement",value:function(t){for(var n=document.createElement(t),i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var s=0;s<r.length;s++)r[s]&&n.classList.add(r[s]);return n}},{key:"appendChild",value:function(t){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t.appendChild(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])}},{key:"getWindow",value:function(t){if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}},{key:"isElement",value:function(t){return t instanceof this.getWindow(t).Element||t instanceof Element}},{key:"isHTMLElement",value:function(t){return t instanceof this.getWindow(t).HTMLElement||t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return typeof ShadowRoot<"u"&&(t instanceof this.getWindow(t).ShadowRoot||t instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(t){var n=this.getWindow(t);return{scrollLeft:n.pageXOffset||0,scrollTop:n.pageYOffset||0}}}]),e}(),kS=Math.floor,TS="".replace,xS=/\$([$&'`]|\d\d?|<[^>]*>)/g,SS=/\$([$&'`]|\d\d?)/g,ES=function(e,t,n,i,r,o){var s=n+e.length,a=i.length,l=SS;return r!==void 0&&(r=ur(r),l=xS),TS.call(o,l,function(f,d){var v;switch(d.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":v=r[d.slice(1,-1)];break;default:var m=+d;if(m===0)return f;if(m>a){var C=kS(m/10);return C===0?f:C<=a?i[C-1]===void 0?d.charAt(1):i[C-1]+d.charAt(1):f}v=i[m-1]}return v===void 0?"":v})},AS=Math.max,LS=Math.min;zv("replace",2,function(e,t,n,i){var r=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=i.REPLACE_KEEPS_$0,s=r?"$":"$0";return[function(a,l){var f=Nr(this),d=a==null?void 0:a[e];return d!==void 0?d.call(a,f,l):t.call(String(f),a,l)},function(a,l){if(!r&&o||typeof l=="string"&&l.indexOf(s)===-1){var f=n(t,a,this,l);if(f.done)return f.value}var d=Rn(a),v=String(this),m=typeof l=="function";m||(l=String(l));var C=d.global;if(C){var b=d.unicode;d.lastIndex=0}for(var k=[];;){var x=zf(d,v);if(x===null||(k.push(x),!C))break;String(x[0])===""&&(d.lastIndex=Jv(v,ii(d.lastIndex),b))}for(var L,$="",V=0,O=0;O<k.length;O++){x=k[O];for(var ge=String(x[0]),K=AS(LS(ts(x.index),v.length),0),h=[],M=1;M<x.length;M++)h.push((L=x[M])===void 0?L:String(L));var E=x.groups;if(m){var N=[ge].concat(h,K,v);E!==void 0&&N.push(E);var I=String(l.apply(void 0,N))}else I=ES(ge,v,K,h,E,l);K>=V&&($+=v.slice(V,K)+I,V=K+ge.length)}return $+v.slice(V)}]}),function(){function e(){po(this,e)}return ho(e,null,[{key:"camelize",value:function(t){return t.replace(/-(\w)/g,function(n,i){return i?i.toUpperCase():""})}},{key:"capitalize",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),e}(),function(){function e(){po(this,e)}return ho(e,null,[{key:"_clone",value:function(){}}]),e}();var ty=Xt("isConcatSpreadable"),OS=gu>=51||!Ht(function(){var e=[];return e[ty]=!1,e.concat()[0]!==e}),IS=jf("concat"),NS=function(e){if(!pn(e))return!1;var t=e[ty];return t!==void 0?!!t:rs(e)};Sn({target:"Array",proto:!0,forced:!OS||!IS},{concat:function(e){var t,n,i,r,o,s=ur(this),a=hu(s,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(NS(o=t===-1?s:arguments[t])){if(l+(r=ii(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&os(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");os(a,l++,o)}return a.length=l,a}});var Zf,Ta=function(e,t,n){if(Gf(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,o){return e.call(t,i,r,o)}}return function(){return e.apply(t,arguments)}},ny=[].push,Mr=function(e){var t=e==1,n=e==2,i=e==3,r=e==4,o=e==6,s=e==7,a=e==5||o;return function(l,f,d,v){for(var m,C,b=ur(l),k=ou(b),x=Ta(f,d,3),L=ii(k.length),$=0,V=v||hu,O=t?V(l,L):n||s?V(l,0):void 0;L>$;$++)if((a||$ in k)&&(C=x(m=k[$],$,b),e))if(t)O[$]=C;else if(C)switch(e){case 3:return!0;case 5:return m;case 6:return $;case 2:ny.call(O,m)}else switch(e){case 4:return!1;case 7:ny.call(O,m)}return o?-1:i||r?r:O}},iy={forEach:Mr(0),map:Mr(1),filter:Mr(2),some:Mr(3),every:Mr(4),find:Mr(5),findIndex:Mr(6),filterOut:Mr(7)},RS=gi?Object.defineProperties:function(e,t){Rn(e);for(var n,i=Xf(t),r=i.length,o=0;r>o;)lr.f(e,n=i[o++],t[n]);return e},PS=uu("document","documentElement"),ry=Pf("IE_PROTO"),Qf=function(){},oy=function(e){return"<script>"+e+"<\/script>"},bu=function(){try{Zf=document.domain&&new ActiveXObject("htmlfile")}catch{}var e,t;bu=Zf?function(i){i.write(oy("")),i.close();var r=i.parentWindow.Object;return i=null,r}(Zf):((t=gv("iframe")).style.display="none",PS.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(oy("document.F=Object")),e.close(),e.F);for(var n=fu.length;n--;)delete bu.prototype[fu[n]];return bu()};lu[ry]=!0;var ed=Object.create||function(e,t){var n;return e!==null?(Qf.prototype=Rn(e),n=new Qf,Qf.prototype=null,n[ry]=e):n=bu(),t===void 0?n:RS(n,t)},td=Xt("unscopables"),nd=Array.prototype;nd[td]==null&&lr.f(nd,td,{configurable:!0,value:ed(null)});var us=function(e){nd[td][e]=!0},MS=iy.find,sy=!0,DS=ns("find");"find"in[]&&Array(1).find(function(){sy=!1}),Sn({target:"Array",proto:!0,forced:sy||!DS},{find:function(e){return MS(this,e,arguments.length>1?arguments[1]:void 0)}}),us("find");var FS=iy.findIndex,ay=!0,BS=ns("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){ay=!1}),Sn({target:"Array",proto:!0,forced:ay||!BS},{findIndex:function(e){return FS(this,e,arguments.length>1?arguments[1]:void 0)}}),us("findIndex");var ly=function(e,t,n,i,r,o,s,a){for(var l,f=r,d=0,v=!!s&&Ta(s,a,3);d<i;){if(d in n){if(l=v?v(n[d],d,t):n[d],o>0&&rs(l))f=ly(e,t,l,ii(l.length),f,o-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=l}f++}d++}return f},$S=ly;Sn({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=ur(this),n=ii(t.length),i=hu(t,0);return i.length=$S(i,t,t,n,0,e===void 0?1:ts(e)),i}});var id=function(e){var t=e.return;if(t!==void 0)return Rn(t.call(e)).value},jS=function(e,t,n,i){try{return i?t(Rn(n)[0],n[1]):t(n)}catch(r){throw id(e),r}},cs={},HS=Xt("iterator"),VS=Array.prototype,uy=function(e){return e!==void 0&&(cs.Array===e||VS[HS]===e)},WS=Xt("iterator"),cy=function(e){if(e!=null)return e[WS]||e["@@iterator"]||cs[Dv(e)]},fy=Xt("iterator"),dy=!1;try{var US=0,py={next:function(){return{done:!!US++}},return:function(){dy=!0}};py[fy]=function(){return this},Array.from(py,function(){throw 2})}catch{}var hy=function(e,t){if(!t&&!dy)return!1;var n=!1;try{var i={};i[fy]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch{}return n},KS=!hy(function(e){Array.from(e)});Sn({target:"Array",stat:!0,forced:KS},{from:function(e){var t,n,i,r,o,s,a=ur(e),l=typeof this=="function"?this:Array,f=arguments.length,d=f>1?arguments[1]:void 0,v=d!==void 0,m=cy(a),C=0;if(v&&(d=Ta(d,f>2?arguments[2]:void 0,2)),m==null||l==Array&&uy(m))for(n=new l(t=ii(a.length));t>C;C++)s=v?d(a[C],C):a[C],os(n,C,s);else for(o=(r=m.call(a)).next,n=new l;!(i=o.call(r)).done;C++)s=v?jS(r,d,[i.value,C],!0):i.value,os(n,C,s);return n.length=C,n}});var gy=function(e){return function(t,n,i,r){Gf(n);var o=ur(t),s=ou(o),a=ii(o.length),l=e?a-1:0,f=e?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=f;break}if(l+=f,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=f)l in s&&(r=n(r,s[l],l,o));return r}},GS={left:gy(!1),right:gy(!0)},zS=ar(an.process)=="process",qS=GS.left,YS=Ff("reduce"),XS=ns("reduce",{1:0});Sn({target:"Array",proto:!0,forced:!YS||!XS||!zS&&gu>79&&gu<83},{reduce:function(e){return qS(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}}),us("flat");var go,my,vy,JS=!Ht(function(){return Object.isExtensible(Object.preventExtensions({}))}),yy=Af(function(e){var t=lr.f,n=Rf("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(a){t(a,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(a,l){if(!pn(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!nn(a,n)){if(!r(a))return"F";if(!l)return"E";o(a)}return a[n].objectID},getWeakData:function(a,l){if(!nn(a,n)){if(!r(a))return!0;if(!l)return!1;o(a)}return a[n].weakData},onFreeze:function(a){return JS&&s.REQUIRED&&r(a)&&!nn(a,n)&&o(a),a}};lu[n]=!0}),xa=function(e,t){this.stopped=e,this.result=t},by=function(e,t,n){var i,r,o,s,a,l,f,d=n&&n.that,v=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),b=Ta(t,d,1+v+C),k=function(L){return i&&id(i),new xa(!0,L)},x=function(L){return v?(Rn(L),C?b(L[0],L[1],k):b(L[0],L[1])):C?b(L,k):b(L)};if(m)i=e;else{if(typeof(r=cy(e))!="function")throw TypeError("Target is not iterable");if(uy(r)){for(o=0,s=ii(e.length);s>o;o++)if((a=x(e[o]))&&a instanceof xa)return a;return new xa(!1)}i=r.call(e)}for(l=i.next;!(f=l.call(i)).done;){try{a=x(f.value)}catch(L){throw id(i),L}if(typeof a=="object"&&a&&a instanceof xa)return a}return new xa(!1)},Cy=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ZS=lr.f,_y=Xt("toStringTag"),rd=function(e,t,n){e&&!nn(e=n?e:e.prototype,_y)&&ZS(e,_y,{configurable:!0,value:t})},Cu=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch{}return function(i,r){return Rn(i),function(o){if(!pn(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}(r),t?e.call(i,r):i.__proto__=r,i}}():void 0),wy=function(e,t,n){for(var i in t)Pr(e,i,t[i],n);return e},QS=!Ht(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ky=Pf("IE_PROTO"),eE=Object.prototype,_u=QS?Object.getPrototypeOf:function(e){return e=ur(e),nn(e,ky)?e[ky]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?eE:null},od=Xt("iterator"),Ty=!1;[].keys&&("next"in(vy=[].keys())?(my=_u(_u(vy)))!==Object.prototype&&(go=my):Ty=!0),(go==null||Ht(function(){var e={};return go[od].call(e)!==e}))&&(go={}),nn(go,od)||mi(go,od,function(){return this});var sd={IteratorPrototype:go,BUGGY_SAFARI_ITERATORS:Ty},tE=sd.IteratorPrototype,nE=function(){return this},ad=sd.IteratorPrototype,wu=sd.BUGGY_SAFARI_ITERATORS,Sa=Xt("iterator"),iE=function(){return this},ld=function(e,t,n,i,r,o,s){(function(L,$,V){var O=$+" Iterator";L.prototype=ed(tE,{next:ru(1,V)}),rd(L,O,!1),cs[O]=nE})(n,t,i);var a,l,f,d=function(L){if(L===r&&k)return k;if(!wu&&L in C)return C[L];switch(L){case"keys":case"values":case"entries":return function(){return new n(this,L)}}return function(){return new n(this)}},v=t+" Iterator",m=!1,C=e.prototype,b=C[Sa]||C["@@iterator"]||r&&C[r],k=!wu&&b||d(r),x=t=="Array"&&C.entries||b;if(x&&(a=_u(x.call(new e)),ad!==Object.prototype&&a.next&&(_u(a)!==ad&&(Cu?Cu(a,ad):typeof a[Sa]!="function"&&mi(a,Sa,iE)),rd(a,v,!0))),r=="values"&&b&&b.name!=="values"&&(m=!0,k=function(){return b.call(this)}),C[Sa]!==k&&mi(C,Sa,k),cs[t]=k,r)if(l={values:d("values"),keys:o?k:d("keys"),entries:d("entries")},s)for(f in l)(wu||m||!(f in C))&&Pr(C,f,l[f]);else Sn({target:t,proto:!0,forced:wu||m},l);return l},xy=Xt("species"),rE=lr.f,Sy=yy.fastKey,Ey=Rr.set,ud=Rr.getterFor;(function(e,t,n){var i=e.indexOf("Map")!==-1,r=e.indexOf("Weak")!==-1,o=i?"set":"add",s=an[e],a=s&&s.prototype,l=s,f={},d=function(x){var L=a[x];Pr(a,x,x=="add"?function($){return L.call(this,$===0?0:$),this}:x=="delete"?function($){return!(r&&!pn($))&&L.call(this,$===0?0:$)}:x=="get"?function($){return r&&!pn($)?void 0:L.call(this,$===0?0:$)}:x=="has"?function($){return!(r&&!pn($))&&L.call(this,$===0?0:$)}:function($,V){return L.call(this,$===0?0:$,V),this})};if(Df(e,typeof s!="function"||!(r||a.forEach&&!Ht(function(){new s().entries().next()}))))l=n.getConstructor(t,e,i,o),yy.REQUIRED=!0;else if(Df(e,!0)){var v=new l,m=v[o](r?{}:-0,1)!=v,C=Ht(function(){v.has(1)}),b=hy(function(x){new s(x)}),k=!r&&Ht(function(){for(var x=new s,L=5;L--;)x[o](L,L);return!x.has(-0)});b||((l=t(function(x,L){Cy(x,l,e);var $=function(V,O,ge){var K,h;return Cu&&typeof(K=O.constructor)=="function"&&K!==ge&&pn(h=K.prototype)&&h!==ge.prototype&&Cu(V,h),V}(new s,x,l);return L!=null&&by(L,$[o],{that:$,AS_ENTRIES:i}),$})).prototype=a,a.constructor=l),(C||k)&&(d("delete"),d("has"),i&&d("get")),(k||m)&&d(o),r&&a.clear&&delete a.clear}f[e]=l,Sn({global:!0,forced:l!=s},f),rd(l,e),r||n.setStrong(l,e,i)})("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,i){var r=e(function(l,f){Cy(l,r,t),Ey(l,{type:t,index:ed(null),first:void 0,last:void 0,size:0}),gi||(l.size=0),f!=null&&by(f,l[i],{that:l,AS_ENTRIES:n})}),o=ud(t),s=function(l,f,d){var v,m,C=o(l),b=a(l,f);return b?b.value=d:(C.last=b={index:m=Sy(f,!0),key:f,value:d,previous:v=C.last,next:void 0,removed:!1},C.first||(C.first=b),v&&(v.next=b),gi?C.size++:l.size++,m!=="F"&&(C.index[m]=b)),l},a=function(l,f){var d,v=o(l),m=Sy(f);if(m!=="F")return v.index[m];for(d=v.first;d;d=d.next)if(d.key==f)return d};return wy(r.prototype,{clear:function(){for(var l=o(this),f=l.index,d=l.first;d;)d.removed=!0,d.previous&&(d.previous=d.previous.next=void 0),delete f[d.index],d=d.next;l.first=l.last=void 0,gi?l.size=0:this.size=0},delete:function(l){var f=this,d=o(f),v=a(f,l);if(v){var m=v.next,C=v.previous;delete d.index[v.index],v.removed=!0,C&&(C.next=m),m&&(m.previous=C),d.first==v&&(d.first=m),d.last==v&&(d.last=C),gi?d.size--:f.size--}return!!v},forEach:function(l){for(var f,d=o(this),v=Ta(l,arguments.length>1?arguments[1]:void 0,3);f=f?f.next:d.first;)for(v(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(l){return!!a(this,l)}}),wy(r.prototype,n?{get:function(l){var f=a(this,l);return f&&f.value},set:function(l,f){return s(this,l===0?0:l,f)}}:{add:function(l){return s(this,l=l===0?0:l,l)}}),gi&&rE(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=ud(t),o=ud(i);ld(e,t,function(s,a){Ey(this,{type:i,target:s,state:r(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return s.target&&(s.last=l=l?l.next:s.state.first)?a=="keys"?{value:l.key,done:!1}:a=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(s){var a=uu(s),l=lr.f;gi&&a&&!a[xy]&&l(a,xy,{configurable:!0,get:function(){return this}})}(t)}});var oE=Xv.charAt,sE=Rr.set,aE=Rr.getterFor("String Iterator");ld(String,"String",function(e){sE(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=aE(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=oE(n,i),t.index+=e.length,{value:e,done:!1})});var Ay={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lE=Rr.set,uE=Rr.getterFor("Array Iterator"),Ea=ld(Array,"Array",function(e,t){lE(this,{type:"Array Iterator",target:Qo(e),index:0,kind:t})},function(){var e=uE(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:i,done:!1}:n=="values"?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values");cs.Arguments=cs.Array,us("keys"),us("values"),us("entries");var cd=Xt("iterator"),Ly=Xt("toStringTag"),fd=Ea.values;for(var dd in Ay){var Oy=an[dd],cr=Oy&&Oy.prototype;if(cr){if(cr[cd]!==fd)try{mi(cr,cd,fd)}catch{cr[cd]=fd}if(cr[Ly]||mi(cr,Ly,dd),Ay[dd]){for(var fs in Ea)if(cr[fs]!==Ea[fs])try{mi(cr,fs,Ea[fs])}catch{cr[fs]=Ea[fs]}}}}(function(){function e(){po(this,e)}return ho(e,null,[{key:"deduplicate",value:function(t){return Array.from(new Set(t))}},{key:"flat",value:function(t){return t.reduce(function(n,i){var r=Array.isArray(i)?e.flat(i):i;return n.concat(r)},[])}},{key:"find",value:function(t,n){return t.find(n)}},{key:"findIndex",value:function(t,n){return t.findIndex(n)}}]),e})(),function(){function e(){po(this,e)}return ho(e,null,[{key:"today",value:function(){return new Date}}]),e}(),function(){function e(){po(this,e)}return ho(e,null,[{key:"range",value:function(t,n,i){return Math.min(Math.max(t,n),i)}},{key:"clamp",value:function(t,n,i){return n<i?t<n?n:t>i?i:t:t<i?i:t>n?n:t}}]),e}();var cE=typeof global=="object"&&global&&global.Object===Object&&global;const Iy=cE;var fE=typeof self=="object"&&self&&self.Object===Object&&self,dE=Iy||fE||Function("return this")();const ds=dE;var pE=ds.Symbol;const ku=pE;var Ny=Object.prototype,hE=Ny.hasOwnProperty,gE=Ny.toString,Aa=ku?ku.toStringTag:void 0;function mE(e){var t=hE.call(e,Aa),n=e[Aa];try{e[Aa]=void 0;var i=!0}catch{}var r=gE.call(e);return i&&(t?e[Aa]=n:delete e[Aa]),r}var vE=Object.prototype,yE=vE.toString;function bE(e){return yE.call(e)}var CE="[object Null]",_E="[object Undefined]",Ry=ku?ku.toStringTag:void 0;function Tu(e){return e==null?e===void 0?_E:CE:Ry&&Ry in Object(e)?mE(e):bE(e)}function La(e){return e!=null&&typeof e=="object"}var wE=Array.isArray;const pd=wE;function mo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Py(e){return e}var kE="[object AsyncFunction]",TE="[object Function]",xE="[object GeneratorFunction]",SE="[object Proxy]";function hd(e){if(!mo(e))return!1;var t=Tu(e);return t==TE||t==xE||t==kE||t==SE}var EE=ds["__core-js_shared__"];const gd=EE;var My=function(){var e=/[^.]+$/.exec(gd&&gd.keys&&gd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function AE(e){return!!My&&My in e}var LE=Function.prototype,OE=LE.toString;function IE(e){if(e!=null){try{return OE.call(e)}catch{}try{return e+""}catch{}}return""}var NE=/[\\^$.*+?()[\]{}|]/g,RE=/^\[object .+?Constructor\]$/,PE=Function.prototype,ME=Object.prototype,DE=PE.toString,FE=ME.hasOwnProperty,BE=RegExp("^"+DE.call(FE).replace(NE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $E(e){if(!mo(e)||AE(e))return!1;var t=hd(e)?BE:RE;return t.test(IE(e))}function jE(e,t){return e==null?void 0:e[t]}function md(e,t){var n=jE(e,t);return $E(n)?n:void 0}var Dy=Object.create,HE=function(){function e(){}return function(t){if(!mo(t))return{};if(Dy)return Dy(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const VE=HE;function WE(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function UE(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var KE=800,GE=16,zE=Date.now;function qE(e){var t=0,n=0;return function(){var i=zE(),r=GE-(i-n);if(n=i,r>0){if(++t>=KE)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function YE(e){return function(){return e}}var XE=function(){try{var e=md(Object,"defineProperty");return e({},"",{}),e}catch{}}();const xu=XE;var JE=xu?function(e,t){return xu(e,"toString",{configurable:!0,enumerable:!1,value:YE(t),writable:!0})}:Py,ZE=qE(JE);const QE=ZE;var eA=9007199254740991,tA=/^(?:0|[1-9]\d*)$/;function Fy(e,t){var n=typeof e;return t=t??eA,!!t&&(n=="number"||n!="symbol"&&tA.test(e))&&e>-1&&e%1==0&&e<t}function vd(e,t,n){t=="__proto__"&&xu?xu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Su(e,t){return e===t||e!==e&&t!==t}var nA=Object.prototype,iA=nA.hasOwnProperty;function rA(e,t,n){var i=e[t];(!(iA.call(e,t)&&Su(i,n))||n===void 0&&!(t in e))&&vd(e,t,n)}function oA(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),r?vd(n,a,l):rA(n,a,l)}return n}var By=Math.max;function sA(e,t,n){return t=By(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=By(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),WE(e,this,a)}}function aA(e,t){return QE(sA(e,t,Py),e+"")}var lA=9007199254740991;function $y(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lA}function yd(e){return e!=null&&$y(e.length)&&!hd(e)}function uA(e,t,n){if(!mo(n))return!1;var i=typeof t;return(i=="number"?yd(n)&&Fy(t,n.length):i=="string"&&t in n)?Su(n[t],e):!1}function cA(e){return aA(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,s&&uA(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}var fA=Object.prototype;function jy(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||fA;return e===n}function dA(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var pA="[object Arguments]";function Hy(e){return La(e)&&Tu(e)==pA}var Vy=Object.prototype,hA=Vy.hasOwnProperty,gA=Vy.propertyIsEnumerable,mA=Hy(function(){return arguments}())?Hy:function(e){return La(e)&&hA.call(e,"callee")&&!gA.call(e,"callee")};const bd=mA;function vA(){return!1}var Wy=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Uy=Wy&&typeof module=="object"&&module&&!module.nodeType&&module,yA=Uy&&Uy.exports===Wy,Ky=yA?ds.Buffer:void 0,bA=Ky?Ky.isBuffer:void 0,CA=bA||vA;const Gy=CA;var _A="[object Arguments]",wA="[object Array]",kA="[object Boolean]",TA="[object Date]",xA="[object Error]",SA="[object Function]",EA="[object Map]",AA="[object Number]",LA="[object Object]",OA="[object RegExp]",IA="[object Set]",NA="[object String]",RA="[object WeakMap]",PA="[object ArrayBuffer]",MA="[object DataView]",DA="[object Float32Array]",FA="[object Float64Array]",BA="[object Int8Array]",$A="[object Int16Array]",jA="[object Int32Array]",HA="[object Uint8Array]",VA="[object Uint8ClampedArray]",WA="[object Uint16Array]",UA="[object Uint32Array]",Vt={};Vt[DA]=Vt[FA]=Vt[BA]=Vt[$A]=Vt[jA]=Vt[HA]=Vt[VA]=Vt[WA]=Vt[UA]=!0,Vt[_A]=Vt[wA]=Vt[PA]=Vt[kA]=Vt[MA]=Vt[TA]=Vt[xA]=Vt[SA]=Vt[EA]=Vt[AA]=Vt[LA]=Vt[OA]=Vt[IA]=Vt[NA]=Vt[RA]=!1;function KA(e){return La(e)&&$y(e.length)&&!!Vt[Tu(e)]}function GA(e){return function(t){return e(t)}}var zy=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oa=zy&&typeof module=="object"&&module&&!module.nodeType&&module,zA=Oa&&Oa.exports===zy,Cd=zA&&Iy.process,qA=function(){try{var e=Oa&&Oa.require&&Oa.require("util").types;return e||Cd&&Cd.binding&&Cd.binding("util")}catch{}}();const qy=qA;var Yy=qy&&qy.isTypedArray,YA=Yy?GA(Yy):KA;const Xy=YA;var XA=Object.prototype,JA=XA.hasOwnProperty;function ZA(e,t){var n=pd(e),i=!n&&bd(e),r=!n&&!i&&Gy(e),o=!n&&!i&&!r&&Xy(e),s=n||i||r||o,a=s?dA(e.length,String):[],l=a.length;for(var f in e)(t||JA.call(e,f))&&!(s&&(f=="length"||r&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Fy(f,l)))&&a.push(f);return a}function QA(e,t){return function(n){return e(t(n))}}function eL(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var tL=Object.prototype,nL=tL.hasOwnProperty;function iL(e){if(!mo(e))return eL(e);var t=jy(e),n=[];for(var i in e)i=="constructor"&&(t||!nL.call(e,i))||n.push(i);return n}function Jy(e){return yd(e)?ZA(e,!0):iL(e)}var rL=md(Object,"create");const Ia=rL;function oL(){this.__data__=Ia?Ia(null):{},this.size=0}function sL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var aL="__lodash_hash_undefined__",lL=Object.prototype,uL=lL.hasOwnProperty;function cL(e){var t=this.__data__;if(Ia){var n=t[e];return n===aL?void 0:n}return uL.call(t,e)?t[e]:void 0}var fL=Object.prototype,dL=fL.hasOwnProperty;function pL(e){var t=this.__data__;return Ia?t[e]!==void 0:dL.call(t,e)}var hL="__lodash_hash_undefined__";function gL(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ia&&t===void 0?hL:t,this}function vo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}vo.prototype.clear=oL,vo.prototype.delete=sL,vo.prototype.get=cL,vo.prototype.has=pL,vo.prototype.set=gL;function mL(){this.__data__=[],this.size=0}function Eu(e,t){for(var n=e.length;n--;)if(Su(e[n][0],t))return n;return-1}var vL=Array.prototype,yL=vL.splice;function bL(e){var t=this.__data__,n=Eu(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():yL.call(t,n,1),--this.size,!0}function CL(e){var t=this.__data__,n=Eu(t,e);return n<0?void 0:t[n][1]}function _L(e){return Eu(this.__data__,e)>-1}function wL(e,t){var n=this.__data__,i=Eu(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function fr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}fr.prototype.clear=mL,fr.prototype.delete=bL,fr.prototype.get=CL,fr.prototype.has=_L,fr.prototype.set=wL;var kL=md(ds,"Map");const Zy=kL;function TL(){this.size=0,this.__data__={hash:new vo,map:new(Zy||fr),string:new vo}}function xL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Au(e,t){var n=e.__data__;return xL(t)?n[typeof t=="string"?"string":"hash"]:n.map}function SL(e){var t=Au(this,e).delete(e);return this.size-=t?1:0,t}function EL(e){return Au(this,e).get(e)}function AL(e){return Au(this,e).has(e)}function LL(e,t){var n=Au(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function ps(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ps.prototype.clear=TL,ps.prototype.delete=SL,ps.prototype.get=EL,ps.prototype.has=AL,ps.prototype.set=LL;var OL=QA(Object.getPrototypeOf,Object);const Qy=OL;var IL="[object Object]",NL=Function.prototype,RL=Object.prototype,e0=NL.toString,PL=RL.hasOwnProperty,ML=e0.call(Object);function DL(e){if(!La(e)||Tu(e)!=IL)return!1;var t=Qy(e);if(t===null)return!0;var n=PL.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&e0.call(n)==ML}function FL(){this.__data__=new fr,this.size=0}function BL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function $L(e){return this.__data__.get(e)}function jL(e){return this.__data__.has(e)}var HL=200;function VL(e,t){var n=this.__data__;if(n instanceof fr){var i=n.__data__;if(!Zy||i.length<HL-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ps(i)}return n.set(e,t),this.size=n.size,this}function hs(e){var t=this.__data__=new fr(e);this.size=t.size}hs.prototype.clear=FL,hs.prototype.delete=BL,hs.prototype.get=$L,hs.prototype.has=jL,hs.prototype.set=VL;var t0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,n0=t0&&typeof module=="object"&&module&&!module.nodeType&&module,WL=n0&&n0.exports===t0,i0=WL?ds.Buffer:void 0,r0=i0?i0.allocUnsafe:void 0;function UL(e,t){if(t)return e.slice();var n=e.length,i=r0?r0(n):new e.constructor(n);return e.copy(i),i}var KL=ds.Uint8Array;const o0=KL;function GL(e){var t=new e.constructor(e.byteLength);return new o0(t).set(new o0(e)),t}function zL(e,t){var n=t?GL(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function qL(e){return typeof e.constructor=="function"&&!jy(e)?VE(Qy(e)):{}}function YL(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(n(o[l],l,o)===!1)break}return t}}var XL=YL();const JL=XL;function _d(e,t,n){(n!==void 0&&!Su(e[t],n)||n===void 0&&!(t in e))&&vd(e,t,n)}function ZL(e){return La(e)&&yd(e)}function wd(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function QL(e){return oA(e,Jy(e))}function eO(e,t,n,i,r,o,s){var a=wd(e,n),l=wd(t,n),f=s.get(l);if(f){_d(e,n,f);return}var d=o?o(a,l,n+"",e,t,s):void 0,v=d===void 0;if(v){var m=pd(l),C=!m&&Gy(l),b=!m&&!C&&Xy(l);d=l,m||C||b?pd(a)?d=a:ZL(a)?d=UE(a):C?(v=!1,d=UL(l,!0)):b?(v=!1,d=zL(l,!0)):d=[]:DL(l)||bd(l)?(d=a,bd(a)?d=QL(a):(!mo(a)||hd(a))&&(d=qL(l))):v=!1}v&&(s.set(l,d),r(d,l,i,o,s),s.delete(l)),_d(e,n,d)}function s0(e,t,n,i,r){e!==t&&JL(t,function(o,s){if(r||(r=new hs),mo(o))eO(e,t,s,n,s0,i,r);else{var a=i?i(wd(e,s),o,s+"",e,t,r):void 0;a===void 0&&(a=o),_d(e,s,a)}},Jy)}var tO=cA(function(e,t,n){s0(e,t,n)});const Lu=tO;var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.validateAlphaValue=dr.validateColorStops=dr.validateMinMaxValues=void 0;function nO(e,t){if(e===t)throw new Error("The minimum value cannot be equal to the maximum value.");if(e>t)throw new Error("The minimum value must be less than the maximum value.")}dr.validateMinMaxValues=nO;function iO(e){if(e.length<2)throw new Error("At least two colors must be provided.")}dr.validateColorStops=iO;function rO(e){if(e<0||e>1)throw new Error("The alpha value must be between 0 and 1.")}dr.validateAlphaValue=rO;const oO=dr;function kd(e){const t=e.toString(16);return t.length===1?"0"+t:t}function sO(e){const t=Math.floor(e.r*e.a),n=Math.floor(e.g*e.a),i=Math.floor(e.b*e.a);return`#${kd(t)}${kd(n)}${kd(i)}`}var aO=class{constructor(t,n,i,r=1){oO.validateAlphaValue(r),this.r=t,this.g=n,this.b=i,this.a=r}toRGBString(){return`rgb(${Math.floor(this.r*this.a)},${Math.floor(this.g*this.a)},${Math.floor(this.b*this.a)})`}toRGBAString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(){return sO(this)}};const a0=aO,Td=dr;function lO(e,t){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n)return new a0(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),t);throw new Error(`${e} is not a valid hex value.`)}var uO=class{constructor(t,n,i,r=1){Td.validateMinMaxValues(t,n),Td.validateColorStops(i),Td.validateAlphaValue(r),this.min=t,this.max=n,this.alpha=r,this.colorStops=i.map(o=>lO(o,r))}getColor(t){const n=this.colorStops.length;if(t<this.min)return this.colorStops[0];if(t>this.max)return this.colorStops[n-1];const i=this.max-this.min;let r=(t-this.min)/i;const o=Math.max(Math.ceil(r*(n-1)),1),s=this.colorStops[o-1],a=this.colorStops[o];r=r*(n-1)-(o-1);const l=Math.floor(r*a.r+(1-r)*s.r),f=Math.floor(r*a.g+(1-r)*s.g),d=Math.floor(r*a.b+(1-r)*s.b);return new a0(l,f,d,this.alpha)}},cO=uO;const fO=aa(cO);var dO=Object.defineProperty,pO=(e,t,n)=>t in e?dO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>(pO(e,typeof t!="symbol"?t+"":t,n),n);const Zt=e=>Math.round(e*100)/100;class hn{constructor(t){yn(this,"instance"),yn(this,"alphaValue",0),yn(this,"redValue",0),yn(this,"greenValue",0),yn(this,"blueValue",0),yn(this,"hueValue",0),yn(this,"saturationValue",0),yn(this,"brightnessValue",0),yn(this,"hslSaturationValue",0),yn(this,"lightnessValue",0),yn(this,"pst",0),yn(this,"initAlpha",()=>{const n=this.instance.getAlpha();this.alphaValue=Math.min(1,n)*100}),yn(this,"initLightness",()=>{const{s:n,l:i}=this.instance.toHsl();this.hslSaturationValue=Zt(n),this.lightnessValue=Zt(i)}),yn(this,"initRgb",()=>{const{r:n,g:i,b:r}=this.instance.toRgb();this.redValue=Zt(n),this.greenValue=Zt(i),this.blueValue=Zt(r)}),yn(this,"initHsb",()=>{const{h:n,s:i,v:r}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(n)),this.saturationValue=Zt(i),this.brightnessValue=Zt(r)}),yn(this,"toHexString",()=>this.instance.toHexString()),yn(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=Re(t),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(t){return this.instance.toString(t)}get hex(){return this.instance.toHex()}set hex(t){this.instance=Re(t),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(t){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=Re({h:Zt(t),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=Zt(t)}get hue(){return this.hueValue}set saturation(t){this.instance=Re({h:this.hue,s:Zt(t),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=Zt(t)}get saturation(){return this.saturationValue}set brightness(t){this.instance=Re({h:this.hue,s:this.saturation,v:Zt(t),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=Zt(t)}get brightness(){return this.brightnessValue}set lightness(t){this.instance=Re({h:this.hue,s:this.hslSaturationValue,l:Zt(t),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=Zt(t)}get lightness(){return this.lightnessValue}set red(t){const n=this.instance.toRgb();this.instance=Re({...n,r:Zt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=Zt(t)}get red(){return this.redValue}set green(t){const n=this.instance.toRgb();this.instance=Re({...n,g:Zt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=Zt(t)}get green(){return this.greenValue}set blue(t){const n=this.instance.toRgb();this.instance=Re({...n,b:Zt(t),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=Zt(t)}get blue(){return this.blueValue}set alpha(t){this.instance.setAlpha(t/100),this.alphaValue=t}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}}function l0(e,t,n,i){return`rgba(${[e,t,n,i/100].join(",")})`}const xd=(e,t,n)=>t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e,Sd="color-history",Ed=8,vi=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},hO=Bn({name:"Alpha",props:{color:rt.instanceOf(hn),size:rt.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=Lt(null),i=Lt(null);let r=e.color||new hn;const o=Fn({red:r.red,green:r.green,blue:r.blue,alpha:r.alpha});ci(()=>e.color,v=>{v&&(r=v,Lu(o,{red:v.red,green:v.green,blue:v.blue,alpha:v.alpha}))},{deep:!0});const s=sn(()=>{const v=l0(o.red,o.green,o.blue,0),m=l0(o.red,o.green,o.blue,100);return{background:`linear-gradient(to right, ${v} , ${m})`}}),a=()=>{if(n.value&&i.value){const v=o.alpha/100,m=n.value.getBoundingClientRect(),C=i.value.offsetWidth;return Math.round(v*(m.width-C)+C/2)}return 0},l=sn(()=>({left:a()+"px",top:0})),f=v=>{v.target!==n.value&&d(v)},d=v=>{if(v.stopPropagation(),n.value&&i.value){const m=n.value.getBoundingClientRect(),C=i.value.offsetWidth;let b=v.clientX-m.left;b=Math.max(C/2,b),b=Math.min(b,m.width-C/2);const k=Math.round((b-C/2)/(m.width-C)*100);r.alpha=k,o.alpha=k,t("change",k)}};return Ko(()=>{const v={drag:m=>{d(m)},end:m=>{d(m)}};n.value&&i.value&&yu.triggerDragEvent(n.value,v)}),{barElement:n,cursorElement:i,getCursorStyle:l,getBackgroundStyle:s,onClickSider:f}}}),gO=e=>(zr("data-v-18925ba6"),e=e(),qr(),e),mO=gO(()=>p("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),vO=[mO];function yO(e,t,n,i,r,o){return T(),A("div",{class:Ge(["vc-alpha-slider","transparent",{"small-slider":e.size==="small"}])},[p("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:At(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...s)=>e.onClickSider&&e.onClickSider(...s))},[p("div",{class:Ge(["vc-alpha-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:At(e.getCursorStyle)},vO,6)],4)],2)}const Ad=vi(hO,[["render",yO],["__scopeId","data-v-18925ba6"]]),bO=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],CO=Bn({name:"Palette",emits:["change"],setup(e,{emit:t}){return{palettes:bO,computedBgStyle:n=>n==="transparent"?n:n==="advance"?{}:{background:Re(n).toRgbString()},onColorChange:n=>{t("change",n)}}}}),_O={class:"vc-compact"},wO=["onClick"];function kO(e,t,n,i,r,o){return T(),A("div",_O,[(T(!0),A(Pe,null,et(e.palettes,(s,a)=>(T(),A("div",{key:a,class:"vc-compact__row"},[(T(!0),A(Pe,null,et(s,(l,f)=>(T(),A("div",{key:f,class:"vc-compact__color-cube--wrap",onClick:d=>e.onColorChange(l)},[p("div",{class:Ge(["vc-compact__color_cube",{advance:l==="advance",transparent:l==="transparent"}]),style:At(e.computedBgStyle(l))},null,6)],8,wO))),128))]))),128))])}const u0=vi(CO,[["render",kO],["__scopeId","data-v-b969fd48"]]),TO=Bn({name:"Board",props:{color:rt.instanceOf(hn),round:rt.bool.def(!1),hide:rt.bool.def(!0)},emits:["change"],setup(e,{emit:t}){var n,i,r;const o=Sl(),s={h:((n=e.color)==null?void 0:n.hue)||0,s:1,v:1},a=new hn(s).toHexString(),l=Fn({hueColor:a,saturation:((i=e.color)==null?void 0:i.saturation)||0,brightness:((r=e.color)==null?void 0:r.brightness)||0}),f=Lt(0),d=Lt(0),v=Lt(),m=Lt(),C=sn(()=>({top:f.value+"px",left:d.value+"px"})),b=()=>{if(o){const L=o.vnode.el;d.value=l.saturation*(L==null?void 0:L.clientWidth),f.value=(1-l.brightness)*(L==null?void 0:L.clientHeight)}},k=L=>{L.target!==m.value&&x(L)},x=L=>{if(o){const $=o.vnode.el,V=$==null?void 0:$.getBoundingClientRect();let O=L.clientX-V.left,ge=L.clientY-V.top;O=xd(O,0,V.width),ge=xd(ge,0,V.height);const K=O/V.width,h=xd(-(ge/V.height)+1,0,1);d.value=O,f.value=ge,l.saturation=K,l.brightness=h,t("change",K,h)}};return Ko(()=>{o&&o.vnode.el&&v.value&&(yu.triggerDragEvent(v.value,{drag:L=>{x(L)},end:L=>{x(L)}}),Io(()=>{b()}))}),Nn(()=>e.color,L=>{Lu(l,{hueColor:new hn({h:L.hue,s:1,v:1}).toHexString(),saturation:L.saturation,brightness:L.brightness}),b()},{deep:!0}),{state:l,cursorElement:v,getCursorStyle:C,onClickBoard:k}}}),Ld=e=>(zr("data-v-058e5db2"),e=e(),qr(),e),xO=Ld(()=>p("div",{class:"vc-saturation__white"},null,-1)),SO=Ld(()=>p("div",{class:"vc-saturation__black"},null,-1)),EO=Ld(()=>p("div",null,null,-1)),AO=[EO];function LO(e,t,n,i,r,o){return T(),A("div",{ref:"boardElement",class:Ge(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:At({backgroundColor:e.state.hueColor}),onClick:t[0]||(t[0]=(...s)=>e.onClickBoard&&e.onClickBoard(...s))},[xO,SO,p("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:At(e.getCursorStyle)},AO,4)],6)}const Od=vi(TO,[["render",LO],["__scopeId","data-v-058e5db2"]]),OO=Bn({name:"Hue",props:{color:rt.instanceOf(hn),size:rt.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=Lt(null),i=Lt(null);let r=e.color||new hn;const o=Fn({hue:r.hue||0});ci(()=>e.color,d=>{d&&(r=d,Lu(o,{hue:r.hue}))},{deep:!0});const s=()=>{if(n.value&&i.value){const d=n.value.getBoundingClientRect(),v=i.value.offsetWidth;return o.hue===360?d.width-v/2:o.hue%360*(d.width-v)/360+v/2}return 0},a=sn(()=>({left:s()+"px",top:0})),l=d=>{d.target!==n.value&&f(d)},f=d=>{if(d.stopPropagation(),n.value&&i.value){const v=n.value.getBoundingClientRect(),m=i.value.offsetWidth;let C=d.clientX-v.left;C=Math.min(C,v.width-m/2),C=Math.max(m/2,C);const b=Math.round((C-m/2)/(v.width-m)*360);r.hue=b,o.hue=b,t("change",b)}};return Ko(()=>{const d={drag:v=>{f(v)},end:v=>{f(v)}};n.value&&i.value&&yu.triggerDragEvent(n.value,d)}),{barElement:n,cursorElement:i,getCursorStyle:a,onClickSider:l}}}),IO=e=>(zr("data-v-e1a08576"),e=e(),qr(),e),NO=IO(()=>p("div",{class:"vc-hue-slider__bar-handle"},null,-1)),RO=[NO];function PO(e,t,n,i,r,o){return T(),A("div",{class:Ge(["vc-hue-slider",{"small-slider":e.size==="small"}])},[p("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...s)=>e.onClickSider&&e.onClickSider(...s))},[p("div",{class:Ge(["vc-hue-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:At(e.getCursorStyle)},RO,6)],512)],2)}const Id=vi(OO,[["render",PO],["__scopeId","data-v-e1a08576"]]),MO=Bn({name:"Lightness",props:{color:rt.instanceOf(hn),size:rt.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=Lt(null),i=Lt(null);let r=e.color||new hn;const[o,s,a]=r.HSL,l=Fn({hue:o,saturation:s,lightness:a});ci(()=>e.color,b=>{if(b){r=b;const[k,x,L]=r.HSL;Lu(l,{hue:k,saturation:x,lightness:L})}},{deep:!0});const f=sn(()=>{const b=Re({h:l.hue,s:l.saturation,l:.8}).toPercentageRgbString(),k=Re({h:l.hue,s:l.saturation,l:.6}).toPercentageRgbString(),x=Re({h:l.hue,s:l.saturation,l:.4}).toPercentageRgbString(),L=Re({h:l.hue,s:l.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${b}, ${k}, ${x}, ${L}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${b}, ${k}, ${x}, ${L}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${b}, ${k}, ${x}, ${L}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${b}, ${k}, ${x}, ${L}, rgb(0, 0, 0))`]}}),d=()=>{if(n.value&&i.value){const b=l.lightness,k=n.value.getBoundingClientRect(),x=i.value.offsetWidth;return(1-b)*(k.width-x)+x/2}return 0},v=sn(()=>({left:d()+"px",top:0})),m=b=>{b.target!==n.value&&C(b)},C=b=>{if(b.stopPropagation(),n.value&&i.value){const k=n.value.getBoundingClientRect(),x=i.value.offsetWidth;let L=b.clientX-k.left;L=Math.max(x/2,L),L=Math.min(L,k.width-x/2);const $=1-(L-x/2)/(k.width-x);r.lightness=$,t("change",$)}};return Ko(()=>{const b={drag:k=>{C(k)},end:k=>{C(k)}};n.value&&i.value&&yu.triggerDragEvent(n.value,b)}),{barElement:n,cursorElement:i,getCursorStyle:v,getBackgroundStyle:f,onClickSider:m}}}),DO=e=>(zr("data-v-94a50a9e"),e=e(),qr(),e),FO=DO(()=>p("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),BO=[FO];function $O(e,t,n,i,r,o){return T(),A("div",{class:Ge(["vc-lightness-slider",{"small-slider":e.size==="small"}])},[p("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:At(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...s)=>e.onClickSider&&e.onClickSider(...s))},[p("div",{class:Ge(["vc-lightness-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:At(e.getCursorStyle)},BO,6)],4)],2)}const c0=vi(MO,[["render",$O],["__scopeId","data-v-94a50a9e"]]),jO=Bn({name:"History",props:{colors:rt.arrayOf(String).def(()=>[]),round:rt.bool.def(!1)},emits:["change"],setup(e,{emit:t}){return{onColorSelect:n=>{t("change",n)}}}}),HO={key:0,class:"vc-colorPicker__record"},VO={class:"color-list"},WO=["onClick"];function UO(e,t,n,i,r,o){return e.colors&&e.colors.length>0?(T(),A("div",HO,[p("div",VO,[(T(!0),A(Pe,null,et(e.colors,(s,a)=>(T(),A("div",{key:a,class:Ge(["color-item","transparent",{"color-item__round":e.round}]),onClick:l=>e.onColorSelect(s)},[p("div",{class:"color-item__display",style:At({backgroundColor:s})},null,4)],10,WO))),128))])])):Y("",!0)}const Nd=vi(jO,[["render",UO],["__scopeId","data-v-0f657238"]]),KO=Bn({name:"Display",props:{color:rt.instanceOf(hn),disableAlpha:rt.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var n,i,r,o;const s=Lt("hex"),a=Fn({color:e.color,hex:(n=e.color)==null?void 0:n.hex,alpha:((i=e.color)==null?void 0:i.alpha)+"%",rgba:(r=e.color)==null?void 0:r.RGB,previewBgColor:(o=e.color)==null?void 0:o.toRgbString()}),{isSupported:l,open:f,sRGBHex:d}=ST(),v=sn(()=>({background:a.previewBgColor})),m=()=>{s.value=s.value==="rgba"?"hex":"rgba"},C=ro(k=>{if(!k.target.value)return;let x=parseInt(k.target.value.replace("%",""));x>100&&(k.target.value="100%",x=100),x<0&&(k.target.value="0%",x=0),isNaN(x)&&(k.target.value="100%",x=100),!isNaN(x)&&a.color&&(a.color.alpha=x),t("update:color",a.color),t("change",a.color)},300),b=ro((k,x)=>{if(console.log(k.target.value),!!k.target.value){if(s.value==="hex"){const L=k.target.value.replace("#","");Re(L).isValid()&&a.color&&(a.color.hex=L)}else if(x!==void 0&&a.rgba&&a.color){k.target.value<0&&(k.target.value=0),x===3&&k.target.value>1&&(k.target.value=1),x<3&&k.target.value>255&&(k.target.value=255),a.rgba[x]=Number(k.target.value);const[L,$,V,O]=a.rgba;a.color.hex=Re({r:L,g:$,b:V}).toHex(),a.color.alpha=Math.floor(O*100)}t("update:color",a.color),t("change",a.color)}},300);return Nn(()=>e.color,k=>{k&&(a.color=k,a.alpha=Math.floor(a.color.alpha)+"%",a.hex=a.color.hex,a.rgba=a.color.RGB)},{deep:!0}),Nn(()=>a.color,()=>{a.color&&(a.previewBgColor=a.color.toRgbString())},{deep:!0}),Nn(()=>d.value,()=>{d.value&&(a.color.hex=d.value,t("update:color",a.color),t("change",a.color))}),{state:a,getBgColorStyle:v,inputType:s,onInputTypeChange:m,onAlphaBlur:C,onInputChange:b,isSupported:l,open:f}}}),GO=e=>(zr("data-v-7160be11"),e=e(),qr(),e),zO={class:"vc-display"},qO=GO(()=>p("svg",{role:"img","aria-label":"colorpicker",focusable:"false","data-icon":"colorpicker","aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"gd_design_icon gd_design_icon-colorpicker"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.5314 4.65249C16.6694 3.51448 18.5145 3.51448 19.6525 4.65249C20.7905 5.7905 20.7905 7.63558 19.6525 8.77359L16.3651 12.061L17.8128 13.5087L16.8618 14.4597L15.4141 13.012L7.7735 20.6526C7.59799 20.8281 7.34012 20.8926 7.1027 20.8205L7.10183 20.8203L7.0942 20.8181C7.08596 20.8157 7.07199 20.8118 7.0527 20.8067C7.01409 20.7964 6.95436 20.7813 6.87673 20.7643C6.72103 20.7301 6.49582 20.6883 6.22625 20.6605C5.67988 20.604 4.98878 20.6086 4.332 20.8178C4.07704 20.899 3.79821 20.8213 3.62195 20.62C3.4457 20.4187 3.40556 20.1321 3.51974 19.8901C3.76831 19.3633 3.78212 18.7214 3.70747 18.1587C3.67122 17.8854 3.61663 17.6496 3.57135 17.4832C3.54882 17.4004 3.52889 17.3359 3.51521 17.2937C3.50839 17.2727 3.50314 17.2573 3.49995 17.2481L3.49704 17.2398C3.40634 16.9937 3.46691 16.7169 3.6524 16.5315L11.2611 8.92276L9.68871 7.35038L10.6397 6.39936L12.2121 7.97174L15.5314 4.65249ZM12.2169 9.86903L14.4582 12.0658L7.08953 19.4345C6.90072 19.3953 6.65289 19.3524 6.3645 19.3226C5.99352 19.2843 5.5433 19.2663 5.05859 19.3109C5.11737 18.8242 5.09099 18.3606 5.04074 17.9818C4.99969 17.6724 4.94043 17.4028 4.88733 17.1986L12.2169 9.86903Z",fill:"currentColor"})],-1)),YO=[qO],XO={key:1,class:"vc-current-color2 vc-transparent"},JO={key:2,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},ZO={class:"vc-color-input"},QO=["value"],eI={key:0,class:"vc-alpha-input"},tI=["value"],nI={key:3,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},iI=["value","onInput"];function rI(e,t,n,i,r,o){return T(),A("div",zO,[e.isSupported?(T(),A("div",{key:0,class:"vc-current-color",onClick:t[0]||(t[0]=(...s)=>e.open&&e.open(...s))},YO)):(T(),A("div",XO,[p("div",{class:"color-cube",style:At(e.getBgColorStyle)},null,4)])),e.inputType==="hex"?(T(),A("div",JO,[p("div",ZO,[p("input",{value:e.state.hex,onInput:t[1]||(t[1]=(...s)=>e.onInputChange&&e.onInputChange(...s))},null,40,QO)]),e.disableAlpha?Y("",!0):(T(),A("div",eI,[p("input",{class:"vc-alpha-input__inner",value:parseInt(e.state.alpha),onInput:t[2]||(t[2]=(...s)=>e.onAlphaBlur&&e.onAlphaBlur(...s))},null,40,tI)]))])):e.state.rgba?(T(),A("div",nI,[(T(!0),A(Pe,null,et(e.state.rgba,(s,a)=>(T(),A("div",{class:"vc-rgb-input",key:a},[p("div",null,[p("input",{value:s.toFixed(2),onInput:l=>e.onInputChange(l,a)},null,40,iI)]),p("div",null,z(["R","G","B","A"][a]),1)]))),128))])):Y("",!0),p("div",{class:"vc-input-toggle",onClick:t[3]||(t[3]=(...s)=>e.onInputTypeChange&&e.onInputTypeChange(...s))})])}const Rd=vi(KO,[["render",rI],["__scopeId","data-v-7160be11"]]),oI=Bn({name:"FkColorPicker",components:{Display:Rd,Alpha:Ad,Palette:u0,Board:Od,Hue:Id,Lightness:c0,History:Nd},props:{color:rt.instanceOf(hn),disableHistory:rt.bool.def(!1),roundHistory:rt.bool.def(!1),disableAlpha:rt.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const n=e.color||new hn,i=Fn({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),r=Lt(!1),o=sn(()=>({background:i.rgb})),s=()=>{r.value=!1,t("advanceChange",!1)},a=vf(Sd,[],{}),l=ro(()=>{if(e.disableHistory)return;const k=i.color.toRgbString();if(a.value=a.value.filter(x=>!Re.equals(x,k)),!a.value.includes(k)){for(;a.value.length>Ed;)a.value.pop();a.value.unshift(k)}},500),f=k=>{k==="advance"?(r.value=!0,t("advanceChange",!0)):(i.color.hex=k,t("advanceChange",!1))},d=k=>{i.color.alpha=k},v=k=>{i.color.hue=k},m=(k,x)=>{i.color.saturation=k,i.color.brightness=x},C=k=>{i.color.lightness=k},b=k=>{const x=k.target.value.replace("#","");Re(x).isValid()&&(i.color.hex=x)};return Nn(()=>e.color,k=>{k&&(i.color=k)},{deep:!0}),Nn(()=>i.color,()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),l(),t("update:color",i.color),t("change",i.color)},{deep:!0}),{state:i,advancePanelShow:r,onBack:s,onCompactChange:f,onAlphaChange:d,onHueChange:v,onBoardChange:m,onLightChange:C,onInputChange:b,previewStyle:o,historyColors:a}}}),sI=e=>(zr("data-v-26b9cede"),e=e(),qr(),e),aI={class:"vc-fk-colorPicker"},lI={class:"vc-fk-colorPicker__inner"},uI={class:"vc-fk-colorPicker__header"},cI=sI(()=>p("div",{class:"back"},null,-1)),fI=[cI];function dI(e,t,n,i,r,o){const s=Be("Palette"),a=Be("Board"),l=Be("Hue"),f=Be("Lightness"),d=Be("Alpha"),v=Be("Display"),m=Be("History");return T(),A("div",aI,[p("div",lI,[p("div",uI,[e.advancePanelShow?(T(),A("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...C)=>e.onBack&&e.onBack(...C))},fI)):Y("",!0)]),e.advancePanelShow?Y("",!0):(T(),Ae(s,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(T(),Ae(a,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):Y("",!0),e.advancePanelShow?(T(),Ae(l,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):Y("",!0),e.advancePanelShow?Y("",!0):(T(),Ae(f,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?Y("",!0):(T(),Ae(d,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),ie(v,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?Y("",!0):(T(),Ae(m,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const f0=vi(oI,[["render",dI],["__scopeId","data-v-26b9cede"]]),pI=Bn({name:"ChromeColorPicker",components:{Display:Rd,Alpha:Ad,Board:Od,Hue:Id,History:Nd},props:{color:rt.instanceOf(hn),disableHistory:rt.bool.def(!1),roundHistory:rt.bool.def(!1),disableAlpha:rt.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const n=e.color||new hn,i=Fn({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),r=sn(()=>({background:i.rgb})),o=vf(Sd,[],{}),s=ro(()=>{if(e.disableHistory)return;const v=i.color.toRgbString();if(o.value=o.value.filter(m=>!Re.equals(m,v)),!o.value.includes(v)){for(;o.value.length>Ed;)o.value.pop();o.value.unshift(v)}},500),a=v=>{i.color.alpha=v},l=v=>{i.color.hue=v},f=(v,m)=>{i.color.saturation=v,i.color.brightness=m},d=v=>{v!=="advance"&&(i.color.hex=v)};return Nn(()=>e.color,v=>{v&&(i.color=v)},{deep:!0}),Nn(()=>i.color,()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),s(),t("update:color",i.color),t("change",i.color)},{deep:!0}),{state:i,previewStyle:r,historyColors:o,onAlphaChange:a,onHueChange:l,onBoardChange:f,onCompactChange:d}}}),hI={class:"vc-chrome-colorPicker"},gI={class:"vc-chrome-colorPicker-body"},mI={class:"chrome-controls"},vI={class:"chrome-sliders"};function yI(e,t,n,i,r,o){const s=Be("Board"),a=Be("Hue"),l=Be("Alpha"),f=Be("Display"),d=Be("History");return T(),A("div",hI,[ie(s,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),p("div",gI,[p("div",mI,[p("div",vI,[ie(a,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?Y("",!0):(T(),Ae(l,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),ie(f,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?Y("",!0):(T(),Ae(d,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const d0=vi(pI,[["render",yI],["__scopeId","data-v-33636434"]]),Pd="ColorPickersProvider",bI=(e,t)=>{const n=e.getBoundingClientRect(),i=n.left+n.width/2,r=n.top+n.height/2,o=Math.abs(i-t.clientX),s=Math.abs(r-t.clientY),a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=s/a,f=Math.acos(l);let d=Math.floor(180/(Math.PI/f));return t.clientX>i&&t.clientY>r&&(d=180-d),t.clientX==i&&t.clientY>r&&(d=180),t.clientX>i&&t.clientY==r&&(d=90),t.clientX<i&&t.clientY>r&&(d=180+d),t.clientX<i&&t.clientY==r&&(d=270),t.clientX<i&&t.clientY<r&&(d=360-d),d};let Md=!1;const CI=(e,t)=>{const n=function(r){var o;(o=t.drag)==null||o.call(t,r)},i=function(r){var o;document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",i,!1),document.onselectstart=null,document.ondragstart=null,Md=!1,(o=t.end)==null||o.call(t,r)};e&&e.addEventListener("mousedown",r=>{var o;Md||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",i,!1),Md=!0,(o=t.start)==null||o.call(t,r))})},_I={angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},wI=Bn({name:"Angle",props:_I,emits:["update:angle","change"],setup(e,{emit:t}){const n=Lt(null),i=Lt(0);ci(()=>e.angle,a=>{i.value=a});const r=()=>{let a=Number(i.value);isNaN(a)||(a=a>360||a<0?e.angle:a,i.value=a===360?0:a,t("update:angle",i.value),t("change",i.value))},o=sn(()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${i.value}deg)`})),s=a=>{n.value&&(i.value=bI(n.value,a)%360,r())};return No(()=>{const a={drag:l=>{s(l)},end:l=>{s(l)}};n.value&&CI(n.value,a)}),()=>ie("div",{class:"bee-angle"},[ie("div",{class:"bee-angle__round",ref:n,style:o.value},null)])}});function Ou(e){let t;if(Array.isArray(e))t=[],e.forEach(n=>{t.push(Ou(n))});else if(typeof e=="object"&&e!==null){t={};for(const n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=Ou(e[n]))}else t=e;return t}function kI(e,t=2){const n=new RegExp(`^\\d+(?:\\.\\d{0,${t}})?`,"g");return e.match(n)?e.match(n):""}const TI=Bn({name:"GradientColorPicker",components:{Angle:wI,Display:Rd,Alpha:Ad,Palette:u0,Board:Od,Hue:Id,Lightness:c0,History:Nd},props:{angle:rt.number.def(0),type:rt.oneOf(["linear","radial"]).def("linear"),disableHistory:rt.bool.def(!1),roundHistory:rt.bool.def(!1),disableAlpha:rt.bool.def(!1),pickerType:rt.oneOf(["fk","chrome"]).def("fk"),colors:rt.array.def([]),colorStops:rt.array.def([]),gradientType:rt.oneOf(["both","liner","radial"]).def("both")},emits:["update:startColor","update:endColor","update:angle","gradientChange","advanceChange","angleChange","typeChange"],setup(e,{emit:t}){const n=Fn({angle:e.angle,type:e.gradientType=="both"?e.type:e.gradientType,colors:e.colors,colorStops:e.colorStops,selectIndex:0,movePst:{x:0,y:0},pageX:0,pageY:0,mouseStartPst:{x:0,y:0},startMovePst:0});let i=!1;const r=Mo(Pd),o=Lt(e.pickerType==="chrome"),s=Lt(),a=Lt(),l=Lt(),f=Lt();ci(()=>[e.angle],Ee=>{n.angle=Ee[0]}),ci(()=>e.type,Ee=>{n.type=Ee});const d=sn({get:()=>n.colors[n.selectIndex],set:Ee=>{n.colors[n.selectIndex]=Ee}}),v=sn(()=>{const Ee=Ou(n.colors).sort((W,Q)=>W.pst-Q.pst).map(W=>`${W.toRgbString()} ${kI(String(W.pst)||"",5)}%`);let Ce=`background:linear-gradient(${n.angle}deg, ${Ee.join(",")})`;return n.type==="radial"&&(Ce=`background: radial-gradient(circle,  ${Ee.join(",")})`),Ce}),m=sn(()=>e.gradientType=="both"?["linear","radial"]:[]),C=Ee=>{i&&(n.movePst.x=Ee.pageX-n.mouseStartPst.x,n.movePst.y=Ee.pageY-n.mouseStartPst.y,n.pageX=Ee.pageX,n.pageY=Ee.pageY,b())},b=()=>{if(f.value){const Ee=f.value.getBoundingClientRect().width;let Ce=(n.startMovePst*Ee/100+n.movePst.x)/Ee;Ce>1?Ce=1:Ce<0&&(Ce=0),n.colors[n.selectIndex].pst=Math.round(Ce*100),t("gradientChange",n.colors)}},k=()=>{i=!1,x()},x=()=>{L()},L=()=>{i=!1,n.mouseStartPst={x:0,y:0},n.movePst.x=0,n.movePst.y=0},$=()=>{oo(document.body,"mousemove",C),oo(document.body,"mouseup",k)},V=Ee=>{n.selectIndex!==Ee&&(n.selectIndex=Ee)},O=()=>{n.startMovePst=n.colors[n.selectIndex].pst},ge=(Ee,Ce)=>{$();const W=Ce;V(Ee),i=!0,n.mouseStartPst.x=W.pageX,n.mouseStartPst.y=W.pageY,O()},K=Ee=>{if(f.value){const Ce=f.value.getBoundingClientRect(),W=Ce.left,Q=Ee.pageX-W,fe=Ou(n.colors).sort((qe,De)=>qe.pst-De.pst).map(qe=>qe.toHexString()),de=new fO(0,Ce.width,fe).getColor(Q).toHexString(),ye=100*Q/Ce.width,Oe=new hn(de);Oe.pst=ye,n.colors.push(Oe),n.selectIndex=n.colors.length-1,t("gradientChange",n.colors)}},h=Ee=>{const Ce=Ee.target,W=parseInt(Ce.value.replace("°",""));isNaN(W)||(n.angle=W%360),t("update:angle",n.angle),t("angleChange",n.angle)},M=Ee=>{n.angle=Ee,t("update:angle",n.angle),t("angleChange",n.angle)},E=Ee=>{Ee==="advance"?(o.value=!0,t("advanceChange",!0)):(d.value.hex=Ee,t("advanceChange",!1)),$e()},N=Ee=>{d.value.alpha=Ee,$e()},I=Ee=>{d.value.hue=Ee,$e()},F=(Ee,Ce)=>{d.value.saturation=Ee,d.value.brightness=Ce,$e()},q=Ee=>{d.value.lightness=Ee,$e()},_e=()=>{$e()},$e=()=>{t("gradientChange",n.colors)},Le=()=>{o.value=!1,t("advanceChange",!1)},G=()=>{n.type=n.type==="linear"?"radial":"linear",t("typeChange",n.type)},le=vf(Sd,[],{}),be=ro(()=>{if(e.disableHistory)return;const Ee=d.value.toRgbString();if(le.value=le.value.filter(Ce=>!Re.equals(Ce,Ee)),!le.value.includes(Ee)){for(;le.value.length>Ed;)le.value.pop();le.value.unshift(Ee)}},100);return Nn(()=>d.value,()=>{be()},{deep:!0}),{handlePotBar:K,refColorBar:f,startGradientRef:s,stopGradientRef:a,colorRangeRef:l,state:n,currentColor:d,gradientBg:v,advancePanelShow:o,onDegreeBlur:h,onCompactChange:E,onAlphaChange:N,onHueChange:I,onBoardChange:F,onLightChange:q,historyColors:le,onBack:Le,onDegreeChange:M,onDisplayChange:_e,onTypeChange:G,lang:r==null?void 0:r.lang,sliderPotDown:ge,clickGColorPot:V,getGradientTypes:m}}}),xI=e=>(zr("data-v-816df9b8"),e=e(),qr(),e),SI={class:"vc-gradient-picker"},EI={class:"vc-gradient-picker__header"},AI={key:0,class:"vc-gradient__types"},LI={class:"vc-gradient-picker__body"},OI={class:"vc-color-range",ref:"colorRangeRef"},II={class:"vc-color-range__container",ref:"refColorBar"},NI={class:"vc-gradient__stop__container"},RI=["onMousedown","onClick"],PI=xI(()=>p("span",{class:"vc-gradient__stop--inner"},null,-1)),MI=[PI],DI={class:"vc-picker-degree-input vc-degree-input"},FI={class:"vc-degree-input__control"},BI=["value"],$I={class:"vc-degree-input__panel"},jI={class:"vc-degree-input__disk"};function HI(e,t,n,i,r,o){const s=Be("Angle"),a=Be("Board"),l=Be("Hue"),f=Be("Palette"),d=Be("Lightness"),v=Be("Alpha"),m=Be("Display"),C=Be("History");return T(),A("div",SI,[p("div",EI,[p("div",null,[oe(p("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...b)=>e.onBack&&e.onBack(...b))},null,512),[[Rt,e.pickerType==="fk"&&e.advancePanelShow]])]),e.getGradientTypes.length==2?(T(),A("div",AI,[(T(!0),A(Pe,null,et(e.getGradientTypes,b=>(T(),A("div",{class:Ge(["vc-gradient__type",{active:e.state.type===b}]),key:b,onClick:t[1]||(t[1]=(...k)=>e.onTypeChange&&e.onTypeChange(...k))},z(e.lang?e.lang[b]:b),3))),128))])):Y("",!0)]),p("div",LI,[p("div",OI,[p("div",II,[p("div",{class:"vc-background",style:At(e.gradientBg),onClick:t[2]||(t[2]=(...b)=>e.handlePotBar&&e.handlePotBar(...b))},null,4),p("div",NI,[(T(!0),A(Pe,null,et(e.colors,(b,k)=>(T(),A("div",{class:Ge(["vc-gradient__stop",{"vc-gradient__stop--current":k==e.state.selectIndex}]),key:k,ref_for:!0,ref:"startGradientRef",style:At({left:`calc(${b.pst+"%"} - 8px)`}),onMousedown:x=>e.sliderPotDown(k,x),onClick:x=>e.clickGColorPot(k)},MI,46,RI))),128))])],512)],512),p("div",DI,[p("div",FI,[p("input",{value:e.state.angle,onBlur:t[3]||(t[3]=(...b)=>e.onDegreeBlur&&e.onDegreeBlur(...b))},null,40,BI),Ze("deg ")]),p("div",$I,[p("div",jI,[ie(s,{angle:e.state.angle,"onUpdate:angle":t[4]||(t[4]=b=>e.state.angle=b),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])])]),e.advancePanelShow?(T(),Ae(a,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):Y("",!0),e.advancePanelShow?(T(),Ae(l,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):Y("",!0),e.advancePanelShow?Y("",!0):(T(),Ae(f,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?Y("",!0):(T(),Ae(d,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?Y("",!0):(T(),Ae(v,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),ie(m,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?Y("",!0):(T(),Ae(C,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}const p0=vi(TI,[["render",HI],["__scopeId","data-v-816df9b8"]]),VI=Bn({name:"WrapContainer",props:{theme:rt.oneOf(["white","black"]).def("white"),showTab:rt.bool.def(!1),activeKey:rt.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const n=Fn({activeKey:e.activeKey}),i=Mo(Pd),r=o=>{n.activeKey=o,t("update:activeKey",o),t("change",o)};return Nn(()=>e.activeKey,o=>{n.activeKey=o}),{state:n,onActiveKeyChange:r,lang:i==null?void 0:i.lang}}}),WI={class:"vc-colorpicker--container"},UI={key:0,class:"vc-colorpicker--tabs"},KI={class:"vc-colorpicker--tabs__inner"},GI={class:"vc-btn__content"},zI={class:"vc-btn__content"};function qI(e,t,n,i,r,o){var s,a;return T(),A("div",{class:Ge(["vc-colorpicker",e.theme])},[p("div",WI,[e.showTab?(T(),A("div",UI,[p("div",KI,[p("div",{class:Ge(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="pure"}]),onClick:t[0]||(t[0]=l=>e.onActiveKeyChange("pure"))},[p("button",null,[p("div",GI,z((s=e.lang)==null?void 0:s.pure),1)])],2),p("div",{class:Ge(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="gradient"}]),onClick:t[1]||(t[1]=l=>e.onActiveKeyChange("gradient"))},[p("button",null,[p("div",zI,z((a=e.lang)==null?void 0:a.gradient),1)])],2),p("div",{class:"vc-colorpicker--tabs__bg",style:At({width:"50%",left:`calc(${e.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):Y("",!0),Gh(e.$slots,"default",{},void 0,!0)])],2)}const YI=vi(VI,[["render",qI],["__scopeId","data-v-0492277d"]]),XI={start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},JI={start:"开始",end:"结束",pure:"纯色",gradient:"渐变",linear:"线性",radial:"径向"},ZI={En:XI,"ZH-cn":JI},QI={isWidget:rt.bool.def(!1),pickerType:rt.oneOf(["fk","chrome"]).def("fk"),shape:rt.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:rt.string.def(""),format:{type:String,default:"rgb"},disableAlpha:rt.bool.def(!1),disableHistory:rt.bool.def(!1),roundHistory:rt.bool.def(!1),useType:rt.oneOf(["pure","gradient","both"]).def("pure"),activeKey:rt.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:rt.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:rt.number.def(100),theme:rt.oneOf(["white","black"]).def("white"),gradientData:rt.object.def({}),gradientType:rt.oneOf(["both","liner","radial"]).def("both")},eN=Bn({name:"ColorPicker",components:{FkColorPicker:f0,ChromeColorPicker:d0,GradientColorPicker:p0,WrapContainer:YI},inheritAttrs:!1,props:QI,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange","update:gradientData","gradientDataChange"],setup(e,{emit:t}){eg(Pd,{lang:sn(()=>ZI[e.lang||"ZH-cn"])});const n=Fn({pureColor:e.pureColor||"",activeKey:e.useType==="gradient"?"gradient":e.activeKey,isAdvanceMode:!1}),i=new hn(n.pureColor),r=Fn({colors:[],angle:0,type:"linear",gradientColor:e.gradientColor});!e.gradientColor&&e.gradientData&&e.gradientData.gradientColor?r.gradientColor=e.gradientData.gradientColor||"linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)":e.gradientColor||(r.gradientColor="linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)");const o=Lt(i),s=Lt(!1),a=Lt(null),l=Lt(null);let f=null;const d=sn(()=>({background:n.activeKey!=="gradient"?Re(n.pureColor).toRgbString():r.gradientColor})),v=sn(()=>n.activeKey==="gradient"?p0.name:e.pickerType==="fk"?f0.name:d0.name),m=h=>{n.isAdvanceMode=h},C=sn(()=>{const h={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return n.activeKey==="gradient"?{...h,angle:r.angle,type:r.type,colors:r.colors,gradientType:e.gradientType,onAngleChange:M=>{r.angle=M,L()},onTypeChange:M=>{r.type=M,L()},onGradientChange:M=>{r.colors=M,L()},onAdvanceChange:m}:{...h,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:o.value,onChange:O,onAdvanceChange:m}}),b=()=>{s.value=!0,f?f.update():V()},k=()=>{s.value=!1},x=()=>{var h,M;try{const[E]=ET(r.gradientColor);E&&E.type.includes("gradient")&&E.colorStops.length>=2&&(E.colorStops.forEach((N,I)=>{var F;const q=Number((F=N.length)==null?void 0:F.value)||0,[_e,$e,Le,G]=N.value;r.colors[I]=new hn({r:Number(_e),g:Number($e),b:Number(Le),a:Number(G)}),r.colors[I].pst=q}),E.type==="linear-gradient"&&((h=E.orientation)==null?void 0:h.type)==="angular"&&(r.angle=Number((M=E.orientation)==null?void 0:M.value)||0),r.type=E.type.split("-")[0])}catch(E){console.log(`[Parse Color]: ${E}`)}},L=ro(()=>{const h=$();try{r.gradientColor=AT(h),t("update:gradientColor",r.gradientColor),t("gradientColorChange",r.gradientColor);const M=h[0];M.gradientColor=r.gradientColor,t("gradientDataChange",M),t("update:gradientData",M)}catch(M){console.log(M)}},e.debounce),$=()=>{const h=[],M=r.colors.map(E=>({type:"rgba",value:E.RGB.map(N=>N.toString()),length:{value:E.pst+"",type:"%"}}));return r.type==="linear"?h.push({type:"linear-gradient",orientation:{type:"angular",value:r.angle+""},colorStops:M}):r.type==="radial"&&h.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:M}),h},V=()=>{a.value&&l.value&&(f=iv(a.value,l.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},O=h=>{o.value=h,n.pureColor=h.toString(e.format),ge()},ge=ro(()=>{t("update:pureColor",n.pureColor),t("pureColorChange",n.pureColor)},e.debounce);vT(l,()=>{k()});const K=h=>{n.activeKey=h,t("update:activeKey",h),t("activeKeyChange",h)};return Ko(()=>{x()}),Nn(()=>e.gradientColor,h=>{h!=r.gradientColor&&(r.gradientColor=h)}),Nn(()=>r.gradientColor,()=>{x()}),Nn(()=>e.activeKey,h=>{n.activeKey=h}),Nn(()=>e.useType,h=>{n.activeKey!=="gradient"&&h==="gradient"?n.activeKey="gradient":n.activeKey="pure"}),Nn(()=>e.pureColor,h=>{Re.equals(h,n.pureColor)||(n.pureColor=h,o.value=new hn(h))},{deep:!0}),{colorCubeRef:a,pickerRef:l,showPicker:s,colorInstance:o,getBgColorStyle:d,onColorChange:O,onShowPicker:b,onActiveKeyChange:K,getComponentName:v,getBindArgs:C,state:n}}});function tN(e,t,n,i,r,o){const s=Be("WrapContainer");return T(),A(Pe,null,[e.isWidget?(T(),Ae(s,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=a=>e.state.activeKey=a),"show-tab":e.useType==="both",onChange:e.onActiveKeyChange,style:At({zIndex:e.zIndex}),theme:e.theme},{default:Mt(()=>[(T(),Ae(Uh(e.getComponentName),xl({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style","theme"])):Y("",!0),e.isWidget?Y("",!0):(T(),A(Pe,{key:1},[p("div",{class:Ge(["vc-color-wrap transparent",{round:e.shape==="circle"}]),ref:"colorCubeRef"},[p("div",{class:"current-color",style:At(e.getBgColorStyle),onClick:t[1]||(t[1]=(...a)=>e.onShowPicker&&e.onShowPicker(...a))},null,4)],2),(T(),Ae(L_,{to:e.pickerContainer},[oe(p("div",{ref:"pickerRef",style:At({zIndex:e.zIndex})},[e.showPicker?(T(),Ae(s,{key:0,"show-tab":e.useType==="both"&&!e.state.isAdvanceMode,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=a=>e.state.activeKey=a),onChange:e.onActiveKeyChange,theme:e.theme},{default:Mt(()=>[(T(),Ae(Uh(e.getComponentName),xl({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange","theme"])):Y("",!0)],4),[[Rt,e.showPicker]])],8,["to"]))],64))],64)}const nN={name:"PhystonPrompt",components:{HighlightPrompt:sT,VueNumberInput:Uk,IconSvg:Gt,ColorPicker:vi(eN,[["render",tN],["__scopeId","data-v-c1ec9a22"]])},mixins:[Tn,Kk,Gk,Qk,eT],props:{name:{type:String,required:!0},neg:{type:Boolean,default:!1},textarea:{type:Object,required:!0},steps:{type:Object,required:!0},canOneTranslate:{type:Boolean,default:!1},autoTranslate:{type:Boolean,default:!1},autoTranslateToEnglish:{type:Boolean,default:!1},autoTranslateToLocal:{type:Boolean,default:!1},autoRemoveSpace:{type:Boolean,default:!1},autoRemoveLastComma:{type:Boolean,default:!1},autoKeepWeightZero:{type:Boolean,default:!1},autoKeepWeightOne:{type:Boolean,default:!1},autoBreakBeforeWrap:{type:Boolean,default:!1},autoBreakAfterWrap:{type:Boolean,default:!1},autoRemoveLoraBeforeComma:{type:Boolean,default:!1},autoRemoveLoraAfterComma:{type:Boolean,default:!1},useNovelAiWeightSymbol:{type:Boolean,default:!1},autoRemoveBeforeLineComma:{type:Boolean,default:!1},hideDefaultInput:{type:Boolean,default:!1},autoLoadWebuiPrompt:{type:Boolean,default:!0},hidePanel:{type:Boolean,default:!1},enableTooltip:{type:Boolean,default:!0},historyKey:{type:String,default:""},favoriteKey:{type:String,default:""},extraNetworks:{type:Array,default:()=>[]},loras:{type:Array,default:()=>[]},lycos:{type:Array,default:()=>[]},embeddings:{type:Array,default:()=>[]},version:{type:String,default:""},latestVersion:{type:String,default:""},isLatestVersion:{type:Boolean,default:!0},theme:{type:String,default:"dark"},groupTags:{type:Array,default:()=>[]},extraNetworksWidth:{type:Number,default:100},extraNetworksHeight:{type:Number,default:120},hideGroupTags:{type:Boolean,default:!1},groupTagsColor:{type:Object,default:()=>({})},groupTagsColorKeyCache:{type:Object,default:()=>({})},blacklist:{type:Object,default:()=>({})},cancelBlacklistConfirm:{type:Boolean,default:!1},hotkey:{type:Object,default:()=>({})}},emits:["update:languageCode","update:autoTranslate","update:autoTranslateToEnglish","update:autoTranslateToLocal","update:autoRemoveSpace","update:autoRemoveLastComma","update:autoKeepWeightZero","update:autoKeepWeightOne","update:hideDefaultInput","update:hidePanel","update:enableTooltip","update:translateApi","click:showDeleteKey","click:translateApi","click:promptFormat","click:blacklist","click:hotkey","click:selectTheme","click:switchTheme","click:showAbout","click:showEditKey","click:selectLanguage","click:showHistory","click:showFavorite","click:showLorainfo","click:showAddKey","refreshFavorites","click:showChatgpt","update:hideGroupTags","update:groupTagsColor","update:blacklist","showExtraNetworks","hideExtraNetworks","refreshExtraNetworks","update:extraNetworksWidth","update:extraNetworksHeight","update:autoLoadWebuiPrompt","click:addNewNodeGroup","click:deleteNodeGroup","click:showLlmPrompt"],data(){return{prompt:"",counterText:"0/75",tags:[],sortable:null,droping:!1,loading:{},editing:{},isEditing:!1,editTag:!1}},computed:{isEnglish(){return this.languageCode==="en_US"},translateApiItem(){return pe.getTranslateApiItem(this.translateApis,this.translateApi)}},watch:{loras:{handler(){this.tags.forEach(e=>{this._setTagClass(e)})},immediate:!1},lycos:{handler(){this.tags.forEach(e=>{this._setTagClass(e)})},immediate:!1},embeddings:{handler(){this.tags.forEach(e=>{this._setTagClass(e)})},immediate:!1}},mounted(){this.$appMode&&(this.counterText=""),this.$nextTick(()=>{this.initSortable();let e=[1e3,3e3,5e3,1e4,2e4,3e4],t=!1;e.forEach(n=>{t||setTimeout(()=>{t||typeof addAutocompleteToArea=="function"&&typeof TAC_CFG=="object"&&TAC_CFG&&TAC_CFG.activeIn&&(t=!0,addAutocompleteToArea(this.$refs.promptTagAppend))},n)}),this.init()})},methods:{init(){this.tags=[],this.onTextareaChange();let e=this.textarea.value;setInterval(()=>{if(this.autoLoadWebuiPrompt){let t=this.textarea.value;if(e===t||document.activeElement===this.textarea)return;e=t,this.onTextareaChange(!0)}},500)},onTextareaChange(e){this.onTextareaChangeTimeId&&clearTimeout(this.onTextareaChangeTimeId),this.onTextareaChangeTimeId=setTimeout(()=>{this._onTextareaChange(e)},100)},_onTextareaChange(e){const t=this.textarea.parentElement.getElementsByClassName("autocompleteParent");if(t.length){if(t[0].style.display!=="none")return}else{const a=this.textarea.parentElement.getElementsByClassName("autocompleteResults");if(a.length>0&&a[0].style.display!=="none")return}let n=this.textarea.value.trim();if(n===this.prompt.trim())return;let i=pe.splitTags(n,this.autoBreakBeforeWrap,this.autoBreakAfterWrap),r=[];this.tags.forEach((a,l)=>{a.disabled&&r.push({tag:a,index:l})}),r.forEach(({tag:a,index:l})=>{i.splice(l,0,a.value)});let o=[],s=this.tags;this.tags=[];for(let a in i){let l=i[a];if(l===`
`)this._appendTag(`
`,`
`,!1,-1,"wrap");else{let f=!1;for(let C of s)if(C.value===l){f=C;break}const d=f?f.localValue:"",v=f?f.disabled:!1,m=this._appendTag(l,d,v,-1,"text");!f&&m!==-1&&o.push(m)}}if(this.autoTranslateToLocal&&e){let a=!(this.tagCompleteFile&&this.onlyCsvOnAuto);a=!1,this.translates(o,!0,a).finally(()=>{this.updateTags()})}else this.updateTags()},_setTextareaFocus(){if(typeof get_uiCurrentTabContent!="function"||typeof activePromptTextarea!="object")return;const e=get_uiCurrentTabContent();if(!e)return;let t=e.id.replace("tab_","");t&&(activePromptTextarea[t]=this.textarea)},copy(e){this.$copyText(e).then(()=>{this.$toastr.success(this.getLang("success"))}).catch(()=>{this.$toastr.error(this.getLang("failed"))})},genPrompt(e=null,t=!1){e=e||this.tags;let n=[],i=[];if(t)i=e;else for(let o in e)e[o].disabled||i.push(e[o]);let r=i.length;return i.forEach((o,s)=>{let a="";if(typeof o.type=="string"&&o.type==="wrap")a=`
`;else{let l=pe.replaceTag(o.value);l!==o.value&&(o.value=l,this._setTag(o));let f=pe.replaceTag(o.localValue);if(f!==o.localValue&&(o.localValue=f),(o.weightNum>0||o.weightNum<0)&&(o.isLora&&(o.weightClipNum>0||o.weightClipNum<0)?(o.weightNum=Number(parseFloat(o.weightNum).toFixed(6)),o.weightClipNum=Number(parseFloat(o.weightClipNum).toFixed(6)),o.value=this.replaceOrAddNumbers(o.value,o.weightNum,o.weightClipNum),o.localValue!==""&&(o.localValue=this.replaceOrAddNumbers(o.localValue,o.weightNum,o.weightClipNum))):(o.weightNum=Number(parseFloat(o.weightNum).toFixed(6)),o.value=o.value.replace(pe.weightNumRegex,"$1:"+o.weightNum),o.localValue!==""&&(o.localValue=o.localValue.replace(pe.weightNumRegex,"$1:"+o.weightNum)))),o.disabled&&!t)return;let d=","+(this.autoRemoveSpace?"":" "),v=d,m=null,C=!1,b=!1,k=!1,x=!1;if(s+1<r&&(m=i[s+1],typeof m.type=="string"&&m.type==="wrap"?C=!0:m.value==="BREAK"?b=!0:m.isLora?k=!0:m.isLyco&&(x=!0)),C)if(this.autoRemoveBeforeLineComma)d="";else{const L=[" BREAK"," ADDCOL"," ADDROW"," ADDCOMM"," ADDBASE"];for(const $ of L)o.value.endsWith($)&&(d="")}else b?d=" ":(k||x)&&this.autoRemoveLoraBeforeComma&&(d=this.autoRemoveSpace?"":" ");o.value==="BREAK"&&(C?d="":d=" "),this.autoRemoveLastComma&&s+1===r&&(d=""),d===v&&(o.isLora||o.isLyco)&&this.autoRemoveLoraAfterComma&&(d=this.autoRemoveSpace?"":" "),a=o.value+d}a&&n.push(a)}),n.length<=0?"":n.join("")},replaceOrAddNumbers(e,t,n){const i=/:(\d+(\.\d+)?|-\d+(\.\d+)?)((?::(\d+(\.\d+)?|-\d+(\.\d+)?))?)/,r=e.match(i);if(r){let[o,s,,,,a]=r;a!==void 0?e=e.replace(o,`:${t}:${n}`):e=e.replace(o,`:${t}:${n}`)}else e+=`:${t}:${n}`;return e},updatePrompt(){let e=[],t=this.tags.length;for(let n=0;n<t;n++)if(this.tags[n].value==="BREAK"){if(this.autoBreakBeforeWrap&&n-1>=0){let r=this.tags[n-1];typeof r.type=="string"&&r.type==="wrap"||e.push(n)}if(this.autoBreakAfterWrap&&n+1<t){let r=this.tags[n+1];typeof r.type=="string"&&r.type==="wrap"||e.push(n+1)}}for(let n=0;n<e.length;n++){let i=e[n]+n;this._appendTag(`
`,`
`,!1,i,"wrap")}if(e.length){this.updateTags();return}this.prompt=this.genPrompt(),this.textarea.value=this.prompt,pe.hideCompleteResults(this.textarea),typeof updateInput=="function"?updateInput(this.textarea):this.textarea.dispatchEvent(new Event("input"))},updateTags(){this.updatePrompt();const e=this.steps.querySelector('input[type="number"]').value;this.$appMode||this.gradioAPI.tokenCounter(this.textarea.value,e).then(t=>{const{token_count:n,max_length:i}=t;this.counterText=`${n}/${i}`}),this.tags.length&&this.gradioAPI.getLatestHistory(this.historyKey).then(t=>{t&&t.prompt===this.prompt?this.gradioAPI.setHistory(this.historyKey,t.id,this.tags,this.prompt,t.name).then(n=>{}).catch(n=>{}):this.gradioAPI.pushHistory(this.historyKey,this.tags,this.prompt).then(n=>{}).catch(n=>{})}).catch(t=>{}),this.$nextTick(()=>{for(let t=0;t<this.$refs.promptTagsList.children.length;t++){let n=this.$refs.promptTagsList.children[t];if(!n.classList.contains("prompt-tag"))continue;let i=n.getAttribute("data-id"),r=this.$refs.promptTagWrap.find(o=>o.getAttribute("data-id")===i);r&&n.parentNode.insertBefore(r,n.nextElementSibling)}})},onResize(){this.tags.forEach(e=>{this._setTagHeight(e)})},initSortable(){this.sortable=nt.create(this.$refs.promptTagsList,{animation:150,handle:".prompt-tag-value",draggable:".prompt-tag",onEnd:e=>{if(this.dropTags.length){let n=e.item,i=n.getAttribute("data-id"),r=this._getDropTagsEle(),o=r.findIndex(l=>l.getAttribute("data-id")===i),s=r.slice(0,o),a=r.slice(o+1).reverse();s.forEach(l=>{pe.insertBefore(l,n)}),a.forEach(l=>{pe.insertAfter(l,n)})}this._dropOver(),this.droping=!1;let t=[];for(let n=0;n<this.$refs.promptTagsList.children.length;n++){let i=this.$refs.promptTagsList.children[n];if(!i.classList.contains("prompt-tag"))continue;let r=i.getAttribute("data-id");t.push(r)}this.tags=this.tags.sort((n,i)=>t.indexOf(n.id)-t.indexOf(i.id)),this.$forceUpdate(),this.updateTags()},onChoose:e=>{if(this.dropTags.length){let n=e.item.getAttribute("data-id");this._getDropTagsEle().forEach(r=>{r.getAttribute("data-id")!==n&&(r.style.display="block",r.style.transition="transform 0.2s",r.style.transform="scale(0)",setTimeout(()=>{r.style.transition="",r.style.transform="",r.style.display="none"},300))})}this.editing={},this.isEditing=!1,this.droping=!0},onUnchoose:e=>{if(this.droping=null,this.dropTags.length){let n=e.item.getAttribute("data-id");this._getDropTagsEle().forEach(r=>{r.getAttribute("data-id")!==n&&(r.style.display="")})}}})},useHistory(e){this.tags=[],e.tags.forEach(t=>{this._appendTag(t.value,t.localValue,t.disabled,-1,t.type||"text")}),this.updateTags()},useFavorite(e){this.useHistory(e)},useChatgpt(e){let t=pe.splitTags(e,this.autoBreakBeforeWrap,this.autoBreakAfterWrap);this.tags=[],t.forEach(n=>{this._appendTag(n,"",!1,-1,"text")}),this.updateTags()},onPromptMainClick(){this.autoLoadWebuiPrompt&&this.onTextareaChange(!0),this._setTextareaFocus(),this.showExtendId=""},translates(e,t=!1,n=!0){return new Promise((i,r)=>{if(this.languageCode==="en_US"||this.languageCode==="en_GB"){i();return}let o=[],s=(C,b)=>{C.forEach(k=>{a(k,b)})},a=(C,b)=>{this.canOneTranslate?(this.loading[C.id+"_local"]=b,this.loading[C.id+"_en"]=b):C.toLocal?this.loading[C.id+"_local"]=b:this.loading[C.id+"_en"]=b},l=(C,b)=>{C.toLocal?C.localValue=b:(C.localValue=C.value,C.value=b),this._setTagById(C.id,C.value,C.localValue)},f=C=>C.isLora&&C.loraExists?this.getExtraNetworkFullName(C.loraName,"lora"):C.isLyco&&C.lycoExists?this.getExtraNetworkFullName(C.lycoName,"lycoris"):C.isEmbedding?this.getExtraNetworkFullName(C.value,"textual inversion"):C.value;e.forEach(C=>{var x,L,$,V;let b=this.tags[C],k=f(b);if(k!==b.value){b.localValue=k;return}if(pe.canTranslate(b.value)){if(b.isLora){if((x=this.blacklist.translate)!=null&&x.includes(b.loraName.toLowerCase()))return}else if(b.isLyco){if((L=this.blacklist.translate)!=null&&L.includes(b.lycoName.toLowerCase()))return}else if(b.isEmbedding){if(($=this.blacklist.translate)!=null&&$.includes(b.embeddingName.toLowerCase()))return}else if((V=this.blacklist.translate)!=null&&V.includes(b.originalValue.toLowerCase()))return;if(b.isEnglish=pe.isEnglishByLangCode(b.value,this.languageCode),b.isEnglish===-1)t?b.toLocal=!0:b.toLocal=!1;else if(b.isEnglish===0)if(t)if(b.localValue==="")b.localValue=b.value,b.toLocal=!1;else{const O=b.value;b.value=b.localValue,b.localValue=O}else b.toLocal=!1;else b.toLocal=!0;a(b,!0),o.push(b)}});const d=C=>{if(C.length<=0){s(C,!1),i();return}let b={};C.forEach((x,L)=>{let $=x.toLocal?"en_US":this.languageCode,V=x.toLocal?this.languageCode:"en_US",O=$+"."+V;b[O]||(b[O]={fromLang:$,toLang:V,tags:[]}),b[O].tags.push(x)});const k=()=>{let x=b[Object.keys(b)[0]];if(!x){i();return}let L=x.tags.map($=>f($));this.gradioAPI.translates(L,x.fromLang,x.toLang,this.translateApi,this.translateApiConfig).then($=>{$.success?($.translated_text.forEach((O,ge)=>{O=O.replace(/\.$/,"").trim(),pe.isEnglish(O)&&O!==O.toUpperCase()&&(O=O.toLowerCase());let K=x.tags[ge];O!==""&&l(K,O),a(K,!1)}),delete b[Object.keys(b)[0]],k()):(s(C,!1),this.$toastr.error($.message),r($.message))}).catch($=>{s(C,!1),this.$toastr.error($.message),r($.message)})};k()};let v=C=>{console.log("translateByCSV",C.map(k=>k.value),{useNetwork:n});let b=[];C.forEach(k=>{const x=pe.splitTag(k.value);x.value!==k.value&&(k.value=x.value,k.splits=x),k.toLocal?b.push(this.translateToLocalByCSV(k.value,void 0,void 0,n)):b.push(this.translateToEnByCSV(k.value))}),Promise.all(b).then(k=>{let x=[];k.forEach((L,$)=>{let V=C[$];V.splits&&(V.value=V.splits.left+V.value+V.splits.right),L===""?x.push(V):(V.splits&&(L=V.splits.left+L+V.splits.right),a(V,!1),l(V,L))}),n?d(x):(s(x,!1),i())}).catch(k=>{s(C,!1),this.$toastr.error(k),r(k)})},m=C=>{let b=[];C.forEach(k=>{const x=pe.splitTag(k.value);x.value!==k.value&&(k.value=x.value,k.splits=x),k.toLocal?b.push(this.translateToLocalByGroupTags(k.value,n)):b.push(this.translateToEnByGroupTags(k.value,n))}),Promise.allSettled(b).then(k=>{let x=[],L=[];if(k.forEach(($,V)=>{var ge;let O=C[V];O.splits&&(O.value=O.splits.left+O.value+O.splits.right),$.status!=="fulfilled"&&x.push($.reason),!((ge=$.value)!=null&&ge.length)||$.status!=="fulfilled"?L.push(O):(O.splits&&($.value=O.splits.left+$.value+O.splits.right),a(O,!1),l(O,$.value))}),this.tagCompleteFile)v(L);else{if(x.length){s(C,!1),this.$toastr.error(x[0]),r(x[0]);return}n?d(L):(s(L,!1),i())}}).catch(k=>{s(C,!1),this.$toastr.error(k),r(k)})};this.groupTagsTranslate?m(o):this.tagCompleteFile?v(o):n?d(o):(s(o,!1),i())})},changeEditTag(e){this.editTag=e}}},iN=["name"],rN={class:"prompt-header"},oN={class:"prompt-header-title"},sN={class:"prompt-header-extend"},aN={class:"extend-content"},lN={class:"extend-btn-group"},uN={key:0,class:"gradio-checkbox hover-scale-120"},cN=["checked"],fN={class:"gradio-checkbox hover-scale-120"},dN=["checked"],pN={class:"gradio-checkbox hover-scale-120"},hN=["checked"],gN={class:"gradio-checkbox hover-scale-120"},mN=["checked"],vN={class:"gradio-checkbox"},yN={value:"disabled"},bN={value:"last"},CN=["label"],_N=["value"],wN={class:"prompt-header-extend"},kN={class:"extend-content"},TN={class:"extend-btn-group"},xN={key:0,class:"prompt-header-extend"},SN={class:"extend-content"},EN={class:"extend-btn-group"},AN={class:"prompt-header-extend"},LN={class:"extend-content"},ON={class:"extend-btn-group"},IN={key:1,class:"prompt-header-extend"},NN={class:"extend-content"},RN={class:"extend-btn-group"},PN={key:2,class:"prompt-header-extend"},MN={class:"extend-content",style:{display:"flex"}},DN={class:"extend-btn-group"},FN={class:"extend-btn-group",style:{"margin-left":"5px"}},BN={class:"prompt-header-extend prompt-append"},$N={class:"extend-content"},jN={class:"gradio-checkbox hover-scale-120"},HN={style:{display:"flex","align-items":"center"}},VN={class:"gradio-checkbox hover-scale-120"},WN=["checked"],UN={class:"gradio-checkbox hover-scale-120"},KN={key:0},GN=["checked"],zN={key:1},qN=["checked"],YN=["placeholder"],XN=["onClick"],JN={class:"arrow-right"},ZN=["onMouseleave","onMouseenter","onClick"],QN={key:0,class:"tags-name"},eR={key:1,class:"tags-name"},tR={class:"tags-detail"},nR={class:"tags-list"},iR={key:0,class:"item-wrap"},rR={key:1,class:"tags-item"},oR={class:"item-tag-value"},sR={class:"item-tag-local-value"},aR={class:"prompt-tags-list",ref:"promptTagsList"},lR=["index","data-id"],uR=["onMouseenter","onMousemove","onMouseleave"],cR={class:"prompt-tag-edit"},fR=["onClick","onDblclick","onContextmenu","innerHTML"],dR=["placeholder","value","onBlur","onKeydown","onChange"],pR=["onClick"],hR=["onClick"],gR=["onClick"],mR=["onClick"],vR=["onClick"],yR=["onClick"],bR=["onClick"],CR=["onClick"],_R=["onClick"],wR=["onClick"],kR=["onClick"],TR={class:"prompt-local-language"},xR=["onClick"],SR={class:"local-language"},ER=["index","data-id"],AR={class:"btns-title"},LR={class:"group-tabs"},OR={class:"group-header",ref:"groupTabsHeader"},IR={key:0,style:{display:"flex","align-items":"center",padding:"5px 0 5px 0"}},NR=["onClick","data-name"],RR={class:"group-body"},PR={key:0,class:"sub-group-header"},MR={key:0,style:{display:"flex","align-items":"center",padding:"5px 0 5px 0"}},DR=["onClick","data-name"],FR=["onClick"],BR={key:1,class:"sub-group-body"},$R={key:0,class:"group-tags"},jR=["onClick"],HR=["onClick","onMouseenter"],VR=["src"],WR={class:"extra-network-name"},UR={key:0,class:"extra-network-loading"},KR={key:1,class:"group-tags"},GR=["onClick"],zR={style:{display:"flex","align-items":"center","background-color":"rgb(179 179 179 / 21%)"}},qR={style:{width:"20px",height:"20px","margin-right":"5px","margin-left":"5px"}},YR=p("div",null,[p("div",{class:"tag-local"},"在此新增Tag"),p("div",{class:"tag-en"},"Add New Tag")],-1),XR={style:{display:"flex","flex-direction":"row-reverse"}},JR={key:0,style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-around","min-height":"100%","padding-right":"2px","padding-left":"2px"}},ZR=["onClick"],QR={class:"tag-en"},e3={key:0,class:"tags-footer"},t3={class:"tags-size"},n3=p("div",{class:"size-title"}," 一件更新所有Lora封面(需要时间加载可刷新界面-后台可看进度) ",-1),i3={class:"size-title"},r3={class:"tags-size-item"},o3=["value"],s3={class:"size-title"},a3={class:"tags-size-item"},l3=["value"],u3={class:"size-title"},c3={key:1,class:"tags-footer"},f3={class:"tags-color"},d3={class:"tags-color-picker hover-scale-120",unaffected:"true"},p3=["onClick"],h3=["onClick"],g3={class:"tags-copyright"};function m3(e,t,n,i,r,o){const s=Be("icon-svg"),a=Be("vue-number-input"),l=Be("ColorPicker"),f=Be("highlight-prompt"),d=Ro("tooltip"),v=Ro("animate");return T(),A("div",{class:"physton-prompt",name:n.name},[p("div",{class:Ge(["prompt-main",n.hidePanel?"fold":""]),onClick:t[69]||(t[69]=(...m)=>o.onPromptMainClick&&o.onPromptMainClick(...m))},[p("div",rN,[oe((T(),A("div",{class:"prompt-unfold",onClick:t[0]||(t[0]=(...m)=>e.onUnfoldClick&&e.onUnfoldClick(...m))},[ie(s,{class:"hover-scale-120",name:"unfold"})])),[[d,e.getLang(n.hidePanel?"show_panel":"hide_panel")]]),p("div",oN,z(n.neg?e.getLang("negative_prompt"):e.getLang("prompt")),1),oe(p("div",{class:"prompt-header-counter"}," ("+z(r.counterText)+") ",513),[[Rt,r.counterText]]),p("div",sN,[p("div",aN,[p("div",lN,[oe((T(),A("div",{class:"extend-btn-item",onClick:t[1]||(t[1]=m=>e.$emit("click:selectLanguage",m))},[ie(s,{class:"hover-scale-120",name:"i18n"})])),[[d,"Language: "+e.langName]]),p("div",{class:Ge(["extend-btn-item",n.isLatestVersion?"":"red-dot"])},[oe(ie(s,{class:"hover-scale-120",name:"setting"},null,512),[[d,e.getLang("setting_desc")]]),oe((T(),A("div",{class:"setting-box",onMouseenter:t[15]||(t[15]=(...m)=>e.onSettingBoxMouseEnter&&e.onSettingBoxMouseEnter(...m))},[o.translateApiItem.name&&!o.isEnglish?oe((T(),A("div",{key:0,class:"extend-btn-item",onClick:t[2]||(t[2]=m=>e.$emit("click:translateApi",m))},[ie(s,{class:"hover-scale-120",name:"api"})])),[[d,e.getLang("translate_api")+": "+o.translateApiItem.name]]):Y("",!0),oe((T(),A("div",{class:"extend-btn-item",onClick:t[3]||(t[3]=m=>e.$emit("click:promptFormat",m))},[ie(s,{class:"hover-scale-120",name:"format"})])),[[d,e.getLang("prompt_format")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[4]||(t[4]=m=>e.$emit("click:blacklist",m))},[ie(s,{class:"hover-scale-120",name:"blacklist"})])),[[d,e.getLang("keywords_blacklist")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[5]||(t[5]=m=>e.$emit("click:hotkey",m))},[ie(s,{class:"hover-scale-120",name:"hotkey"})])),[[d,e.getLang("hotkey_setting")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[6]||(t[6]=m=>e.$emit("click:selectTheme",m))},[ie(s,{class:"hover-scale-120",name:"theme"})])),[[d,e.getLang("theme_extension")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[7]||(t[7]=m=>e.$emit("click:switchTheme",m))},[ie(s,{class:"hover-scale-120",name:n.theme==="dark"?"sun":"moon"},null,8,["name"])])),[[d,e.getLang(n.theme==="dark"?"switch_to_light_theme":"switch_to_dark_theme")]]),oe((T(),A("div",{class:Ge(["extend-btn-item",n.isLatestVersion?"":"red-dot"]),onClick:t[8]||(t[8]=m=>e.$emit("click:showAbout",m))},[ie(s,{class:"hover-scale-120",name:"about"})],2)),[[d,e.getLang("about_desc")]]),o.isEnglish?Y("",!0):(T(),A(Pe,{key:1},[n.canOneTranslate?(T(),A("div",uN,[oe((T(),A("label",null,[p("input",{type:"checkbox",name:"auto_translate",value:"1",checked:n.autoTranslate,onChange:t[9]||(t[9]=m=>e.$emit("update:autoTranslate",m.target.checked))},null,40,cN),ie(s,{name:"translate"})])),[[d,e.getLang("auto_translate")]])])):(T(),A(Pe,{key:1},[p("div",fN,[oe((T(),A("label",null,[p("input",{type:"checkbox",name:"auto_translate_to_local_language",value:"1",checked:n.autoTranslateToLocal,onChange:t[10]||(t[10]=m=>e.$emit("update:autoTranslateToLocal",m.target.checked))},null,40,dN),ie(s,{name:"translate"})])),[[d,e.getLang("auto_translate_to_local_language")]])]),p("div",pN,[oe((T(),A("label",null,[p("input",{type:"checkbox",name:"auto_translate_to_english",value:"1",checked:n.autoTranslateToEnglish,onChange:t[11]||(t[11]=m=>e.$emit("update:autoTranslateToEnglish",m.target.checked))},null,40,hN),ie(s,{name:"english"})])),[[d,e.getLang("auto_translate_to_english")]])])],64))],64)),p("div",gN,[oe((T(),A("label",null,[p("input",{type:"checkbox",name:"enable_tooltip",value:"1",checked:n.enableTooltip,onChange:t[12]||(t[12]=m=>e.$emit("update:enableTooltip",m.target.checked))},null,40,mN),ie(s,{name:"tooltip"})])),[[d,e.getLang("whether_to_enable_tooltip")]])]),p("div",vN,[oe((T(),A("label",null,[oe(p("select",{"onUpdate:modelValue":t[13]||(t[13]=m=>e.autoInputPrompt=m),onChange:t[14]||(t[14]=(...m)=>e.onAutoInputPromptChange&&e.onAutoInputPromptChange(...m))},[p("option",yN,z(e.getLang("auto_input_prompt"))+": "+z(e.getLang("disabled")),1),p("option",bN,z(e.getLang("last_input_prompt")),1),(T(!0),A(Pe,null,et(e.getCurrentTypeFavorites(),m=>(T(),A("optgroup",{key:m.key,label:e.getLang("favorite")+" / "+e.getLang(m.name)},[(T(!0),A(Pe,null,et(m.list,(C,b)=>(T(),A("option",{value:C.id,key:b},z(C.name||C.prompt.substring(0,40)),9,_N))),128))],8,CN))),128))],544),[[Fo,e.autoInputPrompt]])])),[[d,e.getLang("auto_input_prompt")]])])],32)),[[v,"fadeIn"]])],2)])])]),p("div",wN,[p("div",kN,[p("div",TN,[oe((T(),A("div",{class:"extend-btn-item",ref:"historyButton",onClick:t[16]||(t[16]=m=>e.$emit("click:showHistory",m))},[ie(s,{class:"hover-scale-120",name:"history"})])),[[d,e.getLang("history")]]),oe((T(),A("div",{class:"extend-btn-item",ref:"favoriteButton",onClick:t[17]||(t[17]=m=>e.$emit("click:showFavorite",m))},[ie(s,{class:"hover-scale-120",name:"favorite"})])),[[d,e.getLang("favorite")]])])])]),o.isEnglish?Y("",!0):(T(),A("div",xN,[p("div",SN,[p("div",EN,[n.canOneTranslate?oe((T(),A("div",{key:0,class:"extend-btn-item",onClick:t[18]||(t[18]=(...m)=>e.onTranslatesToLocalClick&&e.onTranslatesToLocalClick(...m))},[r.loading.all_local?Y("",!0):(T(),Ae(s,{key:0,class:"hover-scale-120",name:"translate"})),r.loading.all_local?(T(),Ae(s,{key:1,class:"hover-scale-120",name:"loading"})):Y("",!0)])),[[d,e.getLang("one_translate_all_keywords")]]):(T(),A(Pe,{key:1},[oe((T(),A("div",{class:"extend-btn-item",onClick:t[19]||(t[19]=(...m)=>e.onTranslatesToLocalClick&&e.onTranslatesToLocalClick(...m))},[r.loading.all_local?Y("",!0):(T(),Ae(s,{key:0,class:"hover-scale-120",name:"translate"})),r.loading.all_local?(T(),Ae(s,{key:1,class:"hover-scale-120",name:"loading"})):Y("",!0)])),[[d,e.getLang("translate_keywords_to_local_language")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[20]||(t[20]=(...m)=>e.onTranslatesToEnglishClick&&e.onTranslatesToEnglishClick(...m))},[r.loading.all_en?Y("",!0):(T(),Ae(s,{key:0,class:"hover-scale-120",name:"english"})),r.loading.all_en?(T(),Ae(s,{key:1,class:"hover-scale-120",name:"loading"})):Y("",!0)])),[[d,e.getLang("translate_all_keywords_to_english")]])],64))])])])),p("div",AN,[p("div",LN,[p("div",ON,[oe((T(),A("div",{class:"extend-btn-item",onClick:t[21]||(t[21]=(...m)=>e.onCopyAllTagsClick&&e.onCopyAllTagsClick(...m))},[ie(s,{class:"hover-scale-120",name:"copy"})])),[[d,e.getLang("copy_keywords_to_clipboard")]]),oe((T(),A("div",{class:"extend-btn-item",onClick:t[22]||(t[22]=(...m)=>e.onDeleteAllTagsClick&&e.onDeleteAllTagsClick(...m))},[ie(s,{class:"hover-scale-120",name:"remove"})])),[[d,e.getLang("delete_all_keywords")]])])])]),n.autoLoadWebuiPrompt?Y("",!0):(T(),A("div",IN,[p("div",NN,[p("div",RN,[oe((T(),A("div",{class:"extend-btn-item",onClick:t[23]||(t[23]=(...m)=>e.onClickLoadWebuiPrompt&&e.onClickLoadWebuiPrompt(...m))},[ie(s,{class:"hover-scale-120",name:"load2"})])),[[d,e.getLang("load_webui_prompt")]])])])])),n.neg?Y("",!0):(T(),A("div",PN,[p("div",MN,[p("div",DN,[oe((T(),A("div",{class:"extend-btn-item",onClick:t[24]||(t[24]=m=>e.$emit("click:showChatgpt",m))},[ie(s,{class:"hover-scale-120",name:"chatgpt"})])),[[d,e.getLang("use_chatgpt_gen_prompts")]])]),p("div",FN,[oe((T(),A("div",{class:"extend-btn-item",onClick:t[25]||(t[25]=m=>e.$emit("click:showLlmPrompt",{}))},[ie(s,{class:"hover-scale-120",style:{width:"15px",height:"15px",fill:"var(--pp-ph-phe-ec-extendBtnGroup-color)"},name:"ai"})])),[[d,"使用LLM本地大模型续写提示词"]])])])])),p("div",BN,[p("div",$N,[p("div",jN,[oe((T(),A("label",HN,[p("input",{type:"checkbox",name:"open_edit_model",value:"0",onChange:t[26]||(t[26]=m=>o.changeEditTag(m.target.checked))},null,32),ie(s,{style:{width:"16px",height:"16px","margin-left":"2px","margin-right":"2px",fill:"var(--pp-ph-iconSvgLoad-color)"},name:"edit"})])),[[d,"开启修改Tag模式"]])]),p("div",VN,[oe((T(),A("label",null,[p("input",{type:"checkbox",name:"auto_load_webui_prompt",value:"1",checked:n.autoLoadWebuiPrompt,onChange:t[27]||(t[27]=m=>e.$emit("update:autoLoadWebuiPrompt",m.target.checked))},null,40,WN),ie(s,{name:"load"})])),[[d,e.getLang("auto_load_webui_prompt")]])]),p("div",UN,[n.hideDefaultInput?oe((T(),A("label",KN,[p("input",{type:"checkbox",name:"hide_default_input",value:"1",checked:!n.hideDefaultInput,onChange:t[28]||(t[28]=m=>e.$emit("update:hideDefaultInput",!m.target.checked))},null,40,GN),ie(s,{name:"input"})])),[[d,e.getLang("show_default_input_box")]]):oe((T(),A("label",zN,[p("input",{type:"checkbox",name:"hide_default_input",value:"1",checked:!n.hideDefaultInput,onChange:t[29]||(t[29]=m=>e.$emit("update:hideDefaultInput",!m.target.checked))},null,40,qN),ie(s,{name:"input"})])),[[d,e.getLang("hide_default_input_box")]])]),oe(p("textarea",{type:"text",class:"scroll-hide svelte-4xt1ch input-tag-append",ref:"promptTagAppend",placeholder:e.getLang("please_enter_new_keyword"),onFocus:t[30]||(t[30]=(...m)=>e.onAppendTagFocus&&e.onAppendTagFocus(...m)),onBlur:t[31]||(t[31]=(...m)=>e.onAppendTagBlur&&e.onAppendTagBlur(...m)),onKeyup:t[32]||(t[32]=(...m)=>e.onAppendTagKeyUp&&e.onAppendTagKeyUp(...m)),onKeydown:t[33]||(t[33]=(...m)=>e.onAppendTagKeyDown&&e.onAppendTagKeyDown(...m))},null,40,YN),[[d,e.getLang("enter_to_add")]]),oe(p("div",{class:"prompt-append-list",ref:"promptAppendList",style:At(e.appendListStyle)},[(T(!0),A(Pe,null,et(e.appendList,(m,C)=>(T(),A("div",{key:m.type,class:Ge(["prompt-append-group",e.appendListSelected===C?"selected":""])},[p("div",{class:"append-group-name",onClick:b=>e.onAppendGroupClick(C,null,b)},[m.icon==="wrap"?(T(),Ae(s,{key:0,class:"name-icon",name:"wrap"})):m.icon==="history"?(T(),Ae(s,{key:1,class:"name-icon",name:"history"})):m.icon==="favorite"?(T(),Ae(s,{key:2,class:"name-icon",name:"favorite"})):Y("",!0),Ze(" "+z(e.appendListItemName(m))+" ",1),oe(p("span",JN,null,512),[[Rt,m.children.length>0]])],8,XN),ie(Bt,{name:"fade"},{default:Mt(()=>[oe(p("div",{class:"append-group-list",ref_for:!0,ref:"promptAppendListChildren"},[(T(!0),A(Pe,null,et(m.children,(b,k)=>(T(),A("div",{key:k,ref_for:!0,ref:"promptAppendListChild",class:Ge(["append-item",e.appendListChildSelected===k?"selected":""]),onMouseleave:x=>e.onAppendListChildMouseLeave(C,k,x),onMouseenter:x=>e.onAppendListChildMouseEnter(C,k,x),onClick:x=>e.onAppendGroupClick(C,k,x)},[m.type==="favorite"||m.type==="history"?(T(),A(Pe,{key:0},[b.name?(T(),A("div",QN,z(b.name),1)):(T(),A("div",eR,z(b.prompt),1))],64)):Y("",!0)],42,ZN))),128))],512),[[Rt,m.children.length>0]])]),_:2},1024),ie(Bt,{name:"fade"},{default:Mt(()=>[oe(p("div",tR,[p("div",nR,[(T(!0),A(Pe,null,et(e.appendListChildItemTags,(b,k)=>(T(),A(Pe,{key:k},[b.type&&b.type==="wrap"?(T(),A("div",iR)):(T(),A("div",rR,[p("div",oR,z(b.value),1),p("div",sR,z(b.localValue),1)]))],64))),128))])],512),[[Rt,e.appendListSelected!==null&&e.appendListChildSelected!==null&&e.appendListSelected===C&&(m.type==="favorite"||m.type==="history")]])]),_:2},1024)],2))),128))],4),[[Rt,e.showAppendList]])])])]),p("div",{class:Ge(["prompt-tags",r.droping?"droping":"",e.dropIsSelecting||e.dropIsEnd&&e.dropTags.length?"selecting":""]),ref:"promptTags",onMousedown:t[58]||(t[58]=(...m)=>e.onDropMouseDown&&e.onDropMouseDown(...m)),onMousemove:t[59]||(t[59]=(...m)=>e.onDropMouseMove&&e.onDropMouseMove(...m)),onMouseup:t[60]||(t[60]=(...m)=>e.onDropMouseUp&&e.onDropMouseUp(...m))},[p("div",aR,[(T(!0),A(Pe,null,et(r.tags,(m,C)=>(T(),A("div",{key:m.id,index:C,class:Ge(["prompt-tag",m.disabled?"disabled":"",m.type==="wrap"?"wrap-tag":""]),ref_for:!0,ref:"promptTag-"+m.id,"data-id":m.id},[p("div",{class:"prompt-tag-main",onMouseenter:b=>e.onTagMouseEnter(m.id),onMousemove:We(b=>e.onTagMouseMove(m.id),["stop"]),onMouseleave:We(b=>e.onTagMouseLeave(m.id),["stop"])},[p("div",cR,[m.type==="wrap"?oe((T(),A("div",{key:0,class:"prompt-tag-value",ref_for:!0,ref:"promptTagValue-"+m.id,style:{width:"100%"}},[ie(s,{name:"wrap"})])),[[d,e.getLang("line_break_character")+"<br/>"+e.getLang("drop_to_order")]]):(T(),A(Pe,{key:1},[oe(p("div",{class:Ge(m.classes),style:At(e.getTagColorStyle(m)),ref_for:!0,ref:"promptTagValue-"+m.id,onClick:b=>e.onTagClick(m.id,b),onDblclick:b=>e.onTagDblclick(m.id),onContextmenu:We(b=>e.onTagRightClick(m.id,b),["right","prevent"]),innerHTML:e.renderTag(m.id)},null,46,fR),[[Rt,!r.editing[m.id]],[d,m.isLora||m.isLyco?"":e.getLang("click_to_edit")+"<br/>"+e.getLang("dblclick_to_disable")+"<br/>"+e.getLang("drop_to_order")]]),oe(p("textarea",{type:"text",class:"scroll-hide svelte-4xt1ch input-tag-edit",ref_for:!0,ref:"promptTagEdit-"+m.id,placeholder:e.getLang("enter_to_save"),value:m.value,onMousedown:t[34]||(t[34]=We(()=>{},["stop"])),onMousemove:t[35]||(t[35]=We(()=>{},["stop"])),onMouseup:t[36]||(t[36]=We(()=>{},["stop"])),onBlur:b=>e.onTagInputBlur(m.id),onKeydown:b=>e.onTagInputKeyDown(m.id,b),onChange:b=>e.onTagInputChange(m.id,b)},null,40,dR),[[Rt,r.editing[m.id]]])],64)),p("div",{class:"btn-tag-delete",ref_for:!0,ref:"promptTagDelete-"+m.id,onClick:b=>e.onDeleteTagClick(m.id),onMousedown:t[37]||(t[37]=We(()=>{},["stop"])),onMousemove:t[38]||(t[38]=We(()=>{},["stop"])),onMouseup:t[39]||(t[39]=We(()=>{},["stop"]))},[ie(s,{name:"close"})],40,pR)]),oe((T(),A("div",{class:"btn-tag-extend",style:At({display:(m.type==="text"||!m.type)&&e.showExtendId===m.id&&!this.editing[m.id]?"flex":"none",top:m.isLora?"-47px":"var(--pp-pt-dsb-ptl-pt-ptm-btnTagExtend-top)"}),onClick:t[40]||(t[40]=We(()=>{},["stop"])),onMousedown:t[41]||(t[41]=We(()=>{},["stop"])),onMousemove:t[42]||(t[42]=We(()=>{},["stop"])),onMouseup:t[43]||(t[43]=We(()=>{},["stop"]))},[ie(a,{class:"input-number",name:"input-number","model-value":m.weightNum,center:"",controls:"",min:-100,step:.1,size:"small",islora:m.isLora,ismodel:!0,"onUpdate:modelValue":b=>e.onTagWeightNumChange(m.id,b)},null,8,["model-value","islora","onUpdate:modelValue"]),m.isLora?(T(),Ae(a,{key:0,class:"input-number",name:"input-number","model-value":m.weightClipNum,center:"",controls:"",min:-100,step:.1,size:"small",islora:m.isLora,ismodel:!1,"onUpdate:modelValue":b=>e.onTagLoraClipWeightNumChange(m.id,b)},null,8,["model-value","islora","onUpdate:modelValue"])):Y("",!0),m.isLora?Y("",!0):oe((T(),A("button",{key:1,type:"button",name:"weight-parentheses-inc",onClick:b=>e.onIncWeightClick(m.id,1)},[ie(s,{name:n.useNovelAiWeightSymbol?"weight-braces-inc":"weight-parentheses-inc"},null,8,["name"])],8,hR)),[[d,e.getLang("increase_weight_add_parentheses")]]),m.isLora?Y("",!0):oe((T(),A("button",{key:2,type:"button",name:"weight-parentheses-dec",onClick:b=>e.onIncWeightClick(m.id,-1)},[ie(s,{name:n.useNovelAiWeightSymbol?"weight-braces-dec":"weight-parentheses-dec"},null,8,["name"])],8,gR)),[[d,e.getLang("increase_weight_subtract_parentheses")]]),m.isLora?Y("",!0):oe((T(),A("button",{key:3,type:"button",name:"weight-brackets-inc",onClick:b=>e.onDecWeightClick(m.id,1)},[ie(s,{name:"weight-brackets-inc"})],8,mR)),[[d,e.getLang("decrease_weight_add_brackets")]]),m.isLora?Y("",!0):oe((T(),A("button",{key:4,type:"button",name:"weight-brackets-dec",onClick:b=>e.onDecWeightClick(m.id,-1)},[ie(s,{name:"weight-brackets-dec"})],8,vR)),[[d,e.getLang("decrease_weight_subtract_brackets")]]),oe((T(),A("button",{type:"button",name:"wrap",onClick:b=>e.onWrapTagClick(m.id)},[ie(s,{name:"wrap"})],8,yR)),[[d,e.getLang("line_break_character")]]),m.isLora?Y("",!0):oe((T(),A("button",{key:5,type:"button",name:"translate",onClick:b=>e.onTranslateToEnglishClick(m.id)},[r.loading[m.id+"_en"]?Y("",!0):(T(),Ae(s,{key:0,name:"english"})),r.loading[m.id+"_en"]?(T(),Ae(s,{key:1,name:"loading"})):Y("",!0)],8,bR)),[[d,e.getLang("translate_keyword_to_english")],[Rt,!o.isEnglish]]),oe((T(),A("button",{type:"button",name:"copy",onClick:b=>o.copy(m.value)},[ie(s,{name:"copy"})],8,CR)),[[d,e.getLang("copy_to_clipboard")]]),oe((T(),A("button",{type:"button",name:"favorite",onClick:b=>e.onFavoriteTagClick(m.id)},[m.isFavorite?(T(),Ae(s,{key:0,name:"favorite-yes"})):Y("",!0),m.isFavorite?Y("",!0):(T(),Ae(s,{key:1,name:"favorite-no"}))],8,_R)),[[d,e.getLang(m.isFavorite?"remove_from_favorite":"add_to_favorite")]]),oe((T(),A("button",{type:"button",name:"blacklist",onClick:b=>e.onBlacklistClick(m.id)},[ie(s,{name:"blacklist"})],8,wR)),[[d,e.getLang("add_blacklist")]]),oe((T(),A("button",{type:"button",name:"enable",onClick:b=>e.onDisabledTagClick(m.id)},[m.disabled?Y("",!0):(T(),Ae(s,{key:0,name:"disabled"})),m.disabled?(T(),Ae(s,{key:1,name:"enable"})):Y("",!0)],8,kR)),[[d,e.getLang(m.disabled?"enable_keyword":"disable_keyword")]])],36)),[[v,"fadeIn"]])],40,uR),oe(p("div",TR,[oe((T(),A("div",{class:"translate-to-local hover-scale-120",onClick:b=>e.onTranslateToLocalClick(m.id),onMousedown:t[44]||(t[44]=We(()=>{},["stop"])),onMousemove:t[45]||(t[45]=We(()=>{},["stop"])),onMouseup:t[46]||(t[46]=We(()=>{},["stop"]))},[r.loading[m.id+"_local"]?Y("",!0):(T(),Ae(s,{key:0,name:"translate"})),r.loading[m.id+"_local"]?(T(),Ae(s,{key:1,name:"loading"})):Y("",!0)],40,xR)),[[d,e.getLang("translate_keyword_to_local_language")]]),p("div",SR,z(m.localValue),1)],512),[[Rt,!o.isEnglish&&(m.type==="text"||!m.type)]])],10,lR))),128)),(T(!0),A(Pe,null,et(r.tags,(m,C)=>(T(),A("div",{key:m.id,index:C,class:Ge(["prompt-wrap",m.type==="wrap"?"wrap-tag":""]),"data-id":m.id,ref_for:!0,ref:"promptTagWrap",onMousedown:t[47]||(t[47]=We(()=>{},["stop"])),onMousemove:t[48]||(t[48]=We(()=>{},["stop"])),onMouseup:t[49]||(t[49]=We(()=>{},["stop"]))},null,42,ER))),128))],512),p("div",{class:"drop-select-bg",ref:"dropSelectBg",style:At({display:e.dropIsStart?"block":"none"})},null,4),p("div",{class:"drop-select-box",ref:"dropSelectBox",style:At({display:e.dropIsSelecting?"block":"none",top:e.dropArea.top+"px",left:e.dropArea.left+"px",width:e.dropArea.width+"px",height:e.dropArea.height+"px"})},null,4),p("div",{class:"drop-select-btns",ref:"dropSelectBtns",style:At({display:e.dropIsEnd&&e.dropTags.length?"flex":"none",top:e.dropEndY-32+"px",left:e.dropEndX+"px"}),onMousedown:t[55]||(t[55]=We(()=>{},["stop"])),onMousemove:t[56]||(t[56]=We(()=>{},["stop"])),onMouseup:t[57]||(t[57]=We(()=>{},["stop"]))},[p("div",AR,z(e.getLang("batch_operation")),1),oe((T(),A("button",{type:"button",onClick:t[50]||(t[50]=(...m)=>e.onDropCopy&&e.onDropCopy(...m))},[ie(s,{name:"copy"})])),[[d,e.getLang("copy_to_clipboard")]]),oe((T(),A("button",{type:"button",onClick:t[51]||(t[51]=(...m)=>e.onDropFavorite&&e.onDropFavorite(...m))},[ie(s,{name:"favorite-no"})])),[[d,e.getLang("add_to_favorite")]]),oe((T(),A("button",{type:"button",onClick:t[52]||(t[52]=(...m)=>e.onDropDisable&&e.onDropDisable(...m))},[ie(s,{name:"disabled"})])),[[d,e.getLang("disable_keyword")]]),oe((T(),A("button",{type:"button",onClick:t[53]||(t[53]=(...m)=>e.onDropEnable&&e.onDropEnable(...m))},[ie(s,{name:"enable"})])),[[d,e.getLang("enable_keyword")]]),p("button",{type:"button",onClick:t[54]||(t[54]=(...m)=>e.onDropDelete&&e.onDropDelete(...m))},[ie(s,{name:"remove"})])],36)],34),e.groupTagsProcessed.length?oe((T(),A("div",{key:0,class:Ge(["show-group-tags",n.hideGroupTags?"hided":""]),onClick:t[61]||(t[61]=(...m)=>e.onClickHideGroupTags&&e.onClickHideGroupTags(...m))},[ie(s,{class:"hover-scale-120",name:"unfold"})],2)),[[d,e.getLang(n.hideGroupTags?"show_group_tags":"hide_group_tags")]]):Y("",!0),ie(Bt,{name:"fade"},{default:Mt(()=>[oe(p("div",LR,[p("div",OR,[(T(!0),A(Pe,null,et(e.groupTagsProcessed,(m,C)=>(T(),A("div",{key:C,style:{display:"flex","flex-direction":"column","align-items":"center"}},[r.editTag&&m.type!=="favorite"&&m.type!=="extraNetworks"?(T(),A("div",IR,[oe(ie(s,{style:{width:"15px",height:"15px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)",cursor:"pointer"},onClick:b=>e.$emit("click:addNewNodeGroup",{model:2,key:m.name}),name:"edit"},null,8,["onClick"]),[[d,"编辑主栏"]]),oe(ie(s,{style:{width:"15px",height:"15px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)",cursor:"pointer","margin-left":"3px"},onClick:b=>e.$emit("click:deleteNodeGroup",{key:m.name,model:1}),name:"remove"},null,8,["onClick"]),[[d,"删除主栏"]])])):Y("",!0),p("div",{class:Ge(["group-tab",m.tabKey==e.groupTagsActive?"active":""]),onClick:b=>e.activeGroupTab(C),"data-name":m.name},z(m.name),11,NR)]))),128)),p("div",{class:"group-tab",style:{display:"flex","align-items":"center"},onClick:t[62]||(t[62]=m=>e.$emit("click:addNewNodeGroup",{model:0}))},[oe(ie(s,{style:{width:"15px",height:"15px","margin-right":"10px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)"},name:"add"},null,512),[[d,"点击新增一栏"]]),Ze(" 新增一栏 ")])],512),p("div",RR,[(T(!0),A(Pe,null,et(e.groupTagsProcessed,(m,C)=>(T(),A("div",{key:C,class:Ge(["group-main",m.tabKey==e.groupTagsActive?"active":""])},[m.tabKey==e.groupTagsActive?(T(),A("div",PR,[(T(!0),A(Pe,null,et(m.groups,(b,k)=>(T(),A("div",{key:k,style:{display:"flex","flex-direction":"column","align-items":"center"}},[r.editTag&&m.type!=="favorite"&&m.type!=="extraNetworks"?(T(),A("div",MR,[oe(ie(s,{style:{width:"15px",height:"15px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)",cursor:"pointer"},onClick:x=>e.$emit("click:addNewNodeGroup",{model:3,key:m.name,group:b.name}),name:"edit"},null,8,["onClick"]),[[d,"编辑子主栏"]]),oe(ie(s,{style:{width:"15px",height:"15px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)",cursor:"pointer","margin-left":"3px"},onClick:x=>e.$emit("click:deleteNodeGroup",{key:m.name,group:b.name,model:2}),name:"remove"},null,8,["onClick"]),[[d,"删除子主栏"]])])):Y("",!0),p("div",{class:Ge([b.type&&b.type==="wrap"?"sub-group-tag-wrap":"sub-group-tab",b.tabKey==e.subGroupTagsActive?"active":""]),onClick:x=>e.activeSubGroupTab(C,k),"data-name":b.name},z(b.name),11,DR)]))),128)),p("div",{class:"sub-group-tab",style:{display:"flex","align-items":"center"},onClick:b=>e.$emit("click:addNewNodeGroup",{model:1,key:m.name})},[oe(ie(s,{style:{width:"15px",height:"15px","margin-right":"10px",fill:"var(--pp-pt-gt-gb-gm-sgh-subGroupTab-color)"},name:"add"},null,512),[[d,"点击新增一栏"]]),Ze(" 新增一栏 ")],8,FR)])):Y("",!0),m.tabKey==e.groupTagsActive?(T(),A("div",BR,[(T(!0),A(Pe,null,et(m.groups,(b,k)=>(T(),A("div",{key:k,class:Ge(["sub-group-main",b.tabKey==e.subGroupTagsActive?"active":""])},[ie(Bt,{name:"fade"},{default:Mt(()=>[b.tabKey==e.subGroupTagsActive&&b.type==="extraNetworks"?(T(),A("div",$R,[(T(!0),A(Pe,null,et(b.datas,x=>(T(),A("div",{class:"group-extra-network",key:x.name},[x.model_type=="loras"?(T(),A("div",{key:0,title:"查看Lora信息",class:"lora-infomation",onClick:L=>e.$emit("click:showLorainfo",x)},[ie(s,{style:{width:"20px",height:"20px"},class:"hover-scale-120",name:"about"})],8,jR)):Y("",!0),p("div",{onClick:L=>e.onClickGroupTagExtraNetwork(x,m,b),onMouseenter:L=>e.onGroupExtraNetworkMouseEnter(L,x.name),onMousemove:t[63]||(t[63]=(...L)=>e.onGroupExtraNetworkMouseMove&&e.onGroupExtraNetworkMouseMove(...L)),onMouseleave:t[64]||(t[64]=(...L)=>e.onGroupExtraNetworkMouseLeave&&e.onGroupExtraNetworkMouseLeave(...L)),style:At(e.getGroupTagExtraNetworkStyle(x))},[p("img",{class:"extra-network-preview",src:x.preview||"/weilin/web_ui/img/card-no-preview.png"},null,8,VR),p("div",WR,z(x.local_info!=null?typeof x.local_info.name>"u"||x.local_info.name.length<=0?x.name:x.local_info.name:x.name),1),x.loading?(T(),A("div",UR,[ie(s,{name:"loading"})])):Y("",!0)],44,HR)]))),128))])):Y("",!0),b.tabKey==e.subGroupTagsActive&&b.type!="extraNetworks"?(T(),A("div",KR,[m.type!=="favorite"&&m.type!=="extraNetworks"?(T(),A("div",{key:0,onClick:x=>e.$emit("click:showAddKey",{key:m.name,group:b.name}),class:"tag-item"},[p("div",zR,[p("div",qR,[oe(ie(s,{style:{width:"20px",height:"20px",fill:`var(\r
                                  --pp-pt-gt-gb-gm-sgh-subGroupTab-color\r
                                )`},name:"add"},null,512),[[d,"点击新增"]])]),YR])],8,GR)):Y("",!0),(T(!0),A(Pe,null,et(b.tags,(x,L)=>(T(),A("div",{key:L},[p("div",XR,[r.editTag?(T(),A("div",JR,[oe(ie(s,{style:{width:"15px",height:"15px",fill:`var(\r
                                  --pp-pt-gt-gb-gm-sgh-subGroupTab-color\r
                                )`,cursor:"pointer"},onClick:$=>e.$emit("click:showEditKey",{key:m.name,group:b.name,cn:x,en:L}),name:"edit"},null,8,["onClick"]),[[d,"修改Tag"]]),oe(ie(s,{style:{width:"15px",height:"15px",fill:`var(\r
                                  --pp-pt-gt-gb-gm-sgh-subGroupTab-color\r
                                )`,cursor:"pointer"},onClick:$=>e.$emit("click:showDeleteKey",{key:m.name,group:b.name,cn:x,en:L}),name:"remove"},null,8,["onClick"]),[[d,"删除Tag"]])])):Y("",!0),oe((T(),A("div",{class:"tag-item",ref_for:!0,ref:"groupTagItem",onClick:$=>e.onClickGroupTag(x,L,m,b)},[x&&x!=L?(T(),A(Pe,{key:0},[p("div",{class:"tag-local",style:At(e.getGroupTagStyle(m.name,b.name,L))},z(x),5),p("div",QR,z(L),1)],64)):(T(),A("div",{key:1,class:"tag-local",style:At(e.getGroupTagStyle(m.name,b.name,L))},z(L),5))],8,ZR)),[[d,e.getGroupTagTooltip(x,L)]])])]))),128))])):Y("",!0)]),_:2},1024),m.type==="extraNetworks"?(T(),A("div",e3,[p("div",t3,[p("div",{class:"tags-size-item",onClick:t[65]||(t[65]=(...x)=>e.onClickGroupExtraNetworkRefreshLoadAllImage&&e.onClickGroupExtraNetworkRefreshLoadAllImage(...x))},[e.extraNetworksRefreshing?(T(),Ae(s,{key:0,name:"loading"})):Y("",!0),e.extraNetworksRefreshing?Y("",!0):(T(),Ae(s,{key:1,class:"hover-scale-120",name:"refresh"})),n3]),p("div",{class:"tags-size-item",onClick:t[66]||(t[66]=(...x)=>e.onClickGroupExtraNetworkRefresh&&e.onClickGroupExtraNetworkRefresh(...x))},[e.extraNetworksRefreshing?(T(),Ae(s,{key:0,name:"loading"})):Y("",!0),e.extraNetworksRefreshing?Y("",!0):(T(),Ae(s,{key:1,class:"hover-scale-120",name:"refresh"})),p("div",i3,z(this.getLang("refresh")),1)]),p("div",r3,[p("input",{class:"size-number",type:"number",min:"10",max:"1000",step:"1",value:n.extraNetworksWidth,onChange:t[67]||(t[67]=x=>e.$emit("update:extraNetworksWidth",x.target.value))},null,40,o3),p("div",s3,z(this.getLang("width")),1)]),p("div",a3,[p("input",{class:"size-number",type:"number",min:"10",max:"1000",step:"1",value:n.extraNetworksHeight,onChange:t[68]||(t[68]=x=>e.$emit("update:extraNetworksHeight",x.target.value))},null,40,l3),p("div",u3,z(this.getLang("height")),1)])])])):Y("",!0),m.type!=="favorite"&&m.type!=="extraNetworks"?(T(),A("div",c3,[p("div",f3,[p("div",null,z(e.getLang("tags_color"))+":",1),oe((T(),A("div",d3,[ie(l,{theme:n.theme=="dark"?"black":"white",pureColor:n.groupTagsColor[e.getTagsColorKey(m.name,b.name)],"onUpdate:pureColor":x=>n.groupTagsColor[e.getTagsColorKey(m.name,b.name)]=x,onPureColorChange:x=>e.onTagsColorChange(e.getTagsColorKey(m.name,b.name))},null,8,["theme","pureColor","onUpdate:pureColor","onPureColorChange"])])),[[d,n.groupTagsColor[e.getTagsColorKey(m.name,b.name)]]]),oe((T(),A("div",{class:"tags-color-reset hover-scale-120",onClick:x=>e.onClickResetTagsColor(e.getTagsColorKey(m.name,b.name))},[ie(s,{name:"reset"})],8,p3)),[[d,e.getLang("reset_default_color")]]),oe((T(),A("div",{class:"tags-color-clear hover-scale-120",onClick:x=>e.onClickClearTagsColor(e.getTagsColorKey(m.name,b.name))},[ie(s,{name:"clear"})],8,h3)),[[d,e.getLang("clear_color")]])]),p("div",g3,z(e.getLang("tags-copyright")),1)])):Y("",!0)],2))),128))])):Y("",!0)],2))),128))])],512),[[Rt,!n.hideGroupTags&&e.groupTagsProcessed.length]])]),_:1})],2),ie(f,{ref:"highlightPrompt",textarea:n.textarea,"hide-default-input":n.hideDefaultInput},null,8,["textarea","hide-default-input"])],8,iN)}const v3=Dt(nN,[["render",m3]]),y3={name:"TranslateSetting",components:{IconSvg:Gt},mixins:[Tn],props:{},data(){return{testText:"",translateSuccess:!1,errorMessage:"",translatedText:"",loading:!1,isOpen:!1,configs:[],apiKey:"",tagCompleteFiles:[],tagCompleteFilesLoading:!1,tagCompleteFileKey:"",tagCompleteResults:[],onlyCsvOnAutoValue:!1,groupTagsTranslateValue:!0,mbart50Loading:!1,mbart50Success:!1,mbart50Message:""}},computed:{apiItem(){return pe.getTranslateApiItem(this.translateApis,this.apiKey)},supportApi(){if(!this.translateApis||this.translateApis.length<=0)return[];let e=JSON.parse(JSON.stringify(this.translateApis));return e.forEach(t=>{t.children.forEach(n=>{n.disabled=!n.support[this.languageCode]})}),e}},mounted(){this.translateSuccess=!1,this.errorMessage="",this.translatedText="",this.loading=!1},emits:["update:translateApi","forceUpdate:translateApi","update:tagCompleteFile","update:onlyCsvOnAuto","update:groupTagsTranslate"],watch:{apiKey:{handler:function(e,t){this.translateSuccess=!1,this.errorMessage="",this.translatedText="",this.loading=!1,this.configs=[],this.gradioAPI.getData("translate_api."+this.apiKey).then(n=>{const i=this.apiItem;if(i&&i.config){for(const r of this.apiItem.config)n?r.value=n[r.key]||r.default:r.value=r.default||"",this.configs.push(r);console.log(this.configs)}})},immediate:!1}},methods:{open(e){this.testText=`Hi, this extension is developed by Physton. Welcome to use it!
If you have any suggestions or opinions, please feel free to raise an issue or PR on Github.
If you find this extension helpful, please give me a star on Github!

Developed by: Physton
Github: {{name}}`,this.testText=pe.replaceGlobals(this.testText),this.apiKey=e,this.isOpen=!0,this.errorMessage="",this.translatedText="",this.loading=!1,this.tagCompleteFileKey=this.tagCompleteFile,this.onlyCsvOnAutoValue=this.onlyCsvOnAuto,this.groupTagsTranslateValue=this.groupTagsTranslate,this.mbart50Success=!1,this.mbart50Message="",this.refreshCSVs()},getItemName(e){let t=e.name;return t=t.replace("[Free] ","["+this.getLang("free")+"] "),t=t.replace("[ApiKey] ","["+this.getLang("apply_for_free")+"] "),t},onChangeConfigValue(e){e.type==="input"&&e.value===""&&e.default&&(e.value=e.default)},refreshCSVs(){this.tagCompleteFilesLoading||(this.tagCompleteFilesLoading=!0,this.tagCompleteFiles=[],this.gradioAPI.getCSVs().then(e=>{if(this.tagCompleteFilesLoading=!1,!(!e||e.length<=0)){this.tagCompleteFiles.push({key:"",name:this.getLang("not_enable")});for(const t of e)this.tagCompleteFiles.push({key:t.key,name:t.key})}}).catch(e=>{this.tagCompleteFilesLoading=!1}))},onTestClick(){if(this.loading)return;this.translateSuccess=!1,this.errorMessage="",this.translatedText="",this.loading=!0;let e={};for(const t of this.configs)e[t.key]=t.value;this.translate(this.testText,"en_US",this.languageCode,this.apiKey,e).then(t=>{t.success?(this.translatedText=t.translated_text,this.translateSuccess=!0):this.errorMessage=t.message,this.loading=!1}).catch(t=>{this.errorMessage=t.message,this.loading=!1})},translate(e,t,n,i=null,r=null){return new Promise(async(o,s)=>{i=i||this.translateApi,r=r||this.translateApiConfig||{},this.gradioAPI.translate(e,t,n,i,r).then(a=>{a.success?o(a):s(a)}).catch(a=>{s(a)})})},onSaveClick(){this.isOpen=!1;let e={};for(const t of this.configs)e[t.key]=t.value;this.$emit("update:translateApi",this.apiKey),this.$emit("update:tagCompleteFile",this.tagCompleteFileKey),this.$emit("update:onlyCsvOnAuto",this.onlyCsvOnAutoValue),this.$emit("update:groupTagsTranslate",this.groupTagsTranslateValue),this.gradioAPI.setData("translate_api."+this.apiKey,e).then(t=>{this.apiKey===this.translateApi&&this.$emit("forceUpdate:translateApi")})},onCloseClick(){this.isOpen=!1},onTagCompleteTestClick(){this.tagCompleteResults=[],["1girl","Robot dog"].forEach(t=>{let n=this.getLang("translate_result");this.translateToLocalByCSV(t,this.tagCompleteFileKey,!0).then(i=>{this.tagCompleteResults.push(n.replace("{0}",t).replace("{1}",i))}).catch(i=>{this.$toastr.error(i)})})},onMbart50Initialize(){this.mbart50Loading=!0,this.mbart50Success=!1,this.mbart50Message="",this.gradioAPI.mbart50Initialize().then(e=>{this.mbart50Loading=!1,e.success?(this.mbart50Success=!0,this.mbart50Message=this.getLang("initialize_finished")):this.mbart50Message=this.getLang("initialize_failed")+": "+e.message}).catch(e=>{this.mbart50Loading=!1,this.mbart50Message=e.message})}}},b3={class:"setting-line"},C3={class:"line-title"},_3={class:"line-content"},w3=["label"],k3=["value","disabled"],T3={key:0,class:"setting-line"},x3=p("div",{class:"line-title"},null,-1),S3={class:"line-content"},E3={class:"common-red"},A3={key:1,class:"setting-line"},L3=p("div",{class:"line-title"},null,-1),O3={class:"line-content"},I3={class:"help-item"},N3=["href"],R3={class:"line-title"},P3={class:"line-content"},M3=["onUpdate:modelValue","onChange"],D3=["onUpdate:modelValue"],F3=["value"],B3=["innerHTML"],$3={key:2,class:"setting-line"},j3={class:"line-title"},H3={class:"line-content"},V3=["innerHTML"],W3=["innerHTML"],U3={key:3,class:"setting-line"},K3=p("div",{class:"line-title"},null,-1),G3={class:"line-content"},z3={class:"setting-line"},q3={class:"line-title"},Y3={class:"line-content"},X3={class:"setting-line"},J3=p("div",{class:"line-title"},null,-1),Z3={class:"line-content"},Q3={class:"setting-line"},eP=p("div",{class:"line-title"},null,-1),tP={class:"line-content"},nP={key:0,class:"translate-error"},iP={class:"setting-line"},rP={class:"line-title"},oP={class:"line-content"},sP=["innerHTML"],aP={class:"onlyCsvOnAuto"},lP={class:"setting-line"},uP=p("div",{class:"line-title"},"TagComplete",-1),cP={class:"line-content"},fP={class:"help-list"},dP={class:"help-item"},pP=["href"],hP=["innerHTML"],gP=["innerHTML"],mP={class:"line-row"},vP=["value"],yP={class:"setting-line"},bP=p("div",{class:"line-title"},null,-1),CP={class:"line-content"},_P={ref:"tagCompleteResults"},wP={class:"setting-btns"};function kP(e,t,n,i,r,o){const s=Be("icon-svg"),a=Ro("tooltip");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-translate-setting",onClick:t[16]||(t[16]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))},[p("div",{class:"translate-setting-main",onClick:t[15]||(t[15]=We(()=>{},["stop"]))},[p("div",{class:"translate-setting-close",onClick:t[0]||(t[0]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))},[ie(s,{name:"close"})]),p("div",{class:"translate-setting-content",onClick:t[14]||(t[14]=We(()=>{},["stop"]))},[p("div",b3,[p("div",C3,z(e.getLang("translate_api")),1),p("div",_3,[oe(p("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.apiKey=l)},[(T(!0),A(Pe,null,et(o.supportApi,l=>(T(),A("optgroup",{key:l.type,label:e.getLang(l.type)},[(T(!0),A(Pe,null,et(l.children,f=>(T(),A("option",{key:f.key,value:f.key,disabled:f.disabled},z(o.getItemName(f)),9,k3))),128))],8,w3))),128))],512),[[Fo,r.apiKey]])])]),o.apiItem&&o.apiItem.type=="translators"?(T(),A("div",T3,[x3,p("div",S3,[p("span",E3,"*"+z(e.getLang("not_api_key_desc")),1)])])):Y("",!0),o.apiItem.help?(T(),A("div",A3,[L3,p("div",O3,[(T(!0),A(Pe,null,et(o.apiItem.help,(l,f)=>(T(),A("div",{class:"help-list",key:f},[p("div",I3,[Ze("[?] "),p("a",{href:l.url,target:"_blank"},z(l.title),9,N3)])]))),128))])])):Y("",!0),(T(!0),A(Pe,null,et(r.configs,(l,f)=>(T(),A("div",{class:"setting-line",key:f},[p("div",R3,z(l.title),1),p("div",P3,[l.type=="input"?oe((T(),A("input",{key:0,type:"text","onUpdate:modelValue":d=>l.value=d,onChange:d=>o.onChangeConfigValue(l)},null,40,M3)),[[_t,l.value]]):Y("",!0),l.type=="select"?oe((T(),A("select",{key:1,"onUpdate:modelValue":d=>l.value=d},[(T(!0),A(Pe,null,et(l.options,(d,v)=>(T(),A("option",{key:v,value:d},z(d),9,F3))),128))],8,D3)),[[Fo,l.value]]):Y("",!0),l.desc?(T(),A("div",{key:2,innerHTML:l.desc},null,8,B3)):Y("",!0)])]))),128)),o.apiItem.key==="mbart50"?(T(),A("div",$3,[p("div",j3,z(e.getLang("initialize")),1),p("div",H3,[p("div",{class:"hover-scale-120 test-btn",onClick:t[2]||(t[2]=(...l)=>o.onMbart50Initialize&&o.onMbart50Initialize(...l))},[r.mbart50Loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("initialize")),1)],64))]),p("p",{class:"common-red",innerHTML:e.getLang("download_model_desc")},null,8,V3),p("p",{class:"common-red",innerHTML:e.getLang("download_model_desc2")},null,8,W3)])])):Y("",!0),o.apiItem.key==="mbart50"&&r.mbart50Message?(T(),A("div",U3,[K3,p("div",G3,[p("div",{class:Ge([r.mbart50Success?"":"common-red"])},z(r.mbart50Message),3)])])):Y("",!0),p("div",z3,[p("div",q3,z(e.getLang("translate_test")),1),p("div",Y3,[oe(p("textarea",{class:"test-input","onUpdate:modelValue":t[3]||(t[3]=l=>r.testText=l)},null,512),[[_t,r.testText]])])]),p("div",X3,[J3,p("div",Z3,[p("div",{class:"hover-scale-120 test-btn",onClick:t[4]||(t[4]=(...l)=>o.onTestClick&&o.onTestClick(...l))},[r.loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("test")),1)],64))])])]),p("div",Q3,[eP,p("div",tP,[!r.translateSuccess&&r.errorMessage?(T(),A("div",nP,z(r.errorMessage),1)):Y("",!0),r.translatedText?oe((T(),A("textarea",{key:1,class:"test-input","onUpdate:modelValue":t[5]||(t[5]=l=>r.translatedText=l)},null,512)),[[_t,r.translatedText]]):Y("",!0)])]),p("div",iP,[p("div",rP,z(e.getLang("Keyword_group")),1),p("div",oP,[p("div",{innerHTML:e.getLang("enhance_translation_use_Keyword_group_desc")},null,8,sP),p("label",aP,[oe(p("input",{class:"hover-scale-120",type:"checkbox",value:"1","onUpdate:modelValue":t[6]||(t[6]=l=>r.groupTagsTranslateValue=l)},null,512),[[Xc,r.groupTagsTranslateValue]]),p("span",null,z(e.getLang("enhance_translation_use_keyword_group")),1)])])]),p("div",lP,[uP,p("div",cP,[p("div",fP,[p("div",dP,[Ze("[?] "),p("a",{href:e.globals.docs+"/TranslationApiConfiguration.html#tagcomplete-translation-enhancement",target:"_blank"},"[Wiki] TagComplete Translation enhancement",8,pP)])]),p("div",{innerHTML:e.getLang("tagcomplete_translate_desc")},null,8,hP),p("div",{class:"common-red",innerHTML:e.getLang("tagcomplete_translate_desc2")},null,8,gP),Ze("`` "),p("div",mP,[oe(p("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>r.tagCompleteFileKey=l),onChange:t[8]||(t[8]=l=>r.tagCompleteResults=[])},[(T(!0),A(Pe,null,et(r.tagCompleteFiles,(l,f)=>(T(),A("option",{key:f,value:l.key},z(l.name),9,vP))),128))],544),[[Fo,r.tagCompleteFileKey]]),oe((T(),A("div",{class:"refresh-btn hover-scale-120",onClick:t[9]||(t[9]=(...l)=>o.refreshCSVs&&o.refreshCSVs(...l))},[r.tagCompleteFilesLoading?(T(),Ae(s,{key:0,name:"loading"})):(T(),Ae(s,{key:1,name:"refresh"}))])),[[a,e.getLang("refresh")]])]),p("label",{class:"onlyCsvOnAuto",style:At({display:r.tagCompleteFileKey?"flex":"none"})},[oe(p("input",{class:"hover-scale-120",type:"checkbox",value:"1","onUpdate:modelValue":t[10]||(t[10]=l=>r.onlyCsvOnAutoValue=l)},null,512),[[Xc,r.onlyCsvOnAutoValue]]),p("span",null,z(e.getLang("only_csv_on_auto")),1)],4)])]),oe(p("div",yP,[bP,p("div",CP,[p("div",{class:"hover-scale-120 test-btn",onClick:t[11]||(t[11]=(...l)=>o.onTagCompleteTestClick&&o.onTagCompleteTestClick(...l))},z(e.getLang("test")),1),oe(p("div",_P,[(T(!0),A(Pe,null,et(r.tagCompleteResults,l=>(T(),A("p",{key:l},z(l),1))),128))],512),[[Rt,r.tagCompleteResults.length>0]])])],512),[[Rt,r.tagCompleteFileKey]]),p("div",wP,[p("div",{class:"translate-save hover-scale-120",onClick:t[12]||(t[12]=(...l)=>o.onSaveClick&&o.onSaveClick(...l))},z(e.getLang("save")),1),p("div",{class:"translate-close hover-scale-120",onClick:t[13]||(t[13]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))},z(e.getLang("close")),1)])])])])):Y("",!0)]),_:1})}const TP=Dt(y3,[["render",kP]]),xP={name:"SelectLanguage",components:{IconSvg:Gt},mixins:[Tn],props:{},data(){return{isOpen:!1}},computed:{},mounted(){},methods:{open(){this.isOpen=!0,this.$nextTick(()=>{this.scrollToSelectedItem()})},close(){this.isOpen=!1},onLanguageClick(e){this.$emit("update:languageCode",e.code),this.close()},scrollToSelectedItem(){const e=this.$refs.items;for(let t=0;t<e.length;t++)if(e[t].classList.contains("selected")){e[t].scrollIntoView({behavior:"smooth",block:"center"});break}}}},SP=["onClick"];function EP(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-select-language",onClick:t[3]||(t[3]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"language-main",onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[p("div",{class:"language-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"language-list",onClick:t[1]||(t[1]=We(()=>{},["stop"]))},[(T(!0),A(Pe,null,et(e.languages,a=>(T(),A("div",{key:a.code,class:Ge(["language-item",a.code==e.languageCode?"selected":""]),ref_for:!0,ref:"items",onClick:l=>o.onLanguageClick(a)},z(a.code)+" - "+z(a.name),11,SP))),128))])])])):Y("",!0)]),_:1})}const AP=Dt(xP,[["render",EP]]),LP={components:{IconSvg:Gt},props:{},mixins:[Tn],data(){return{favoriteKey:"",favorites:[{name:"txt2img",type:"prompt",key:"txt2img",list:[]},{name:"txt2img",type:"negative_prompt",key:"txt2img_neg",list:[]},{name:"img2img",type:"prompt",key:"img2img",list:[]},{name:"img2img",type:"negative_prompt",key:"img2img_neg",list:[]}],isShow:!1,loading:!1,emptyMsg:"",mouseEnter:!1,currentItem:{}}},emits:["use"],mounted(){this.favorites.forEach(e=>{this.getFavorites(e.key)})},methods:{formatTime(e){return pe.formatTime(e*1e3,!1)},getFavorites(e){if(!e)return;let t=this.favorites.find(n=>n.key===e);t&&(this.loading=!0,this.gradioAPI.getFavorites(e).then(n=>{n&&n.length>0&&(n.reverse(),n.forEach(i=>{i.is_favorite=!0}),t.list=n),window.phystonPromptfavorites=this.favorites,this.emptyMsg=this.getLang("no_favorite"),this.loading=!1}).catch(n=>{this.emptyMsg=this.getLang("get_favorite_error"),this.loading=!1}))},show(e,t){if(!(!e||!t)){if(this.favoriteKey=e,this.isShow){this.isShow=!1;return}this.mouseEnter=!1,this.loading=!0,this.isShow=!0,this.$refs.favorite.style.top=t.pageY+2+"px",this.$refs.favorite.style.left=t.pageX+2+"px",this.getFavorites(this.favoriteKey),this.$nextTick(()=>{let n=this.$refs.favorite.getBoundingClientRect();n.right>window.innerWidth&&(this.$refs.favorite.style.left=window.innerWidth-n.width-2+"px")}),setTimeout(()=>{this.mouseEnter||this.hide()},3e3)}},hide(){this.mouseEnter=!1,this.isShow=!1},onMouseEnter(){this.mouseEnter=!0},onMouseLeave(e){e.relatedTarget&&this.hide()},onTabClick(e){this.favoriteKey=e,this.getFavorites(this.favoriteKey)},onFavoriteClick(e){let t=this.favorites.find(i=>i.key===this.favoriteKey);if(!t)return;let n=t.list[e];n.is_favorite?this.gradioAPI.unFavorite(this.favoriteKey,n.id).then(i=>{i&&(n.is_favorite=!1,window.phystonPromptfavorites=this.favorites)}):this.gradioAPI.doFavorite(this.favoriteKey,n.id).then(i=>{i&&(n.is_favorite=!0,window.phystonPromptfavorites=this.favorites)})},onCopyClick(e){let t=this.favorites.find(i=>i.key===this.favoriteKey);if(!t)return;let n=t.list[e];this.$copyText(n.prompt).then(()=>{this.$toastr.success("success!")}).catch(()=>{this.$toastr.error("error!")})},onNameKeyDown(e,t){t.keyCode===13&&t.target.blur()},onNameChange(e,t){let n=this.favorites.find(o=>o.key===this.favoriteKey);if(!n)return;let i=n.list[e];const r=t.target.value;this.gradioAPI.setFavoriteName(this.favoriteKey,i.id,r).then(o=>{o?(i.name=r,window.phystonPromptfavorites=this.favorites):t.target.value=i.name}).catch(o=>{t.target.value=i.name})},onItemMouseEnter(e){let t=this.favorites.find(n=>n.key===this.favoriteKey);t&&(this.currentItem=t.list[e],this.$nextTick(()=>{let n=this.$refs.favoriteDetail.getBoundingClientRect();n.right>window.innerWidth&&(this.$refs.favoriteDetail.style.left=0-n.width-2+"px")}))},onItemMouseLeave(e){this.currentItem={}},onUseClick(e){let t=this.favorites.find(n=>n.key===this.favoriteKey);t&&(this.hide(),this.$emit("use",t.list[e]))},onMoveUpClick(e){let t=this.favorites.find(i=>i.key===this.favoriteKey);if(!t)return;let n=t.list[e];e!==0&&this.gradioAPI.moveDownFavorite(this.favoriteKey,n.id).then(i=>{i&&(t.list.splice(e,1),t.list.splice(e-1,0,n),window.phystonPromptfavorites=this.favorites)})},onMoveDownClick(e){let t=this.favorites.find(i=>i.key===this.favoriteKey);if(!t)return;let n=t.list[e];e!==t.list.length-1&&this.gradioAPI.moveUpFavorite(this.favoriteKey,n.id).then(i=>{i&&(t.list.splice(e,1),t.list.splice(e+1,0,n),window.phystonPromptfavorites=this.favorites)})}}},OP={class:"popup-tabs"},IP=["onClick"],NP={class:"tab-name"},RP={class:"tab-type"},PP={class:"tab-count"},MP={class:"popup-detail",ref:"favoriteDetail"},DP={class:"popup-item-tags"},FP={key:0,class:"item-wrap"},BP={key:1,class:"item-tag"},$P={class:"item-tag-value"},jP={class:"item-tag-local-value"},HP={class:"content-list"},VP=["onMouseenter","onMouseleave"],WP={class:"item-header"},UP={class:"item-header-left"},KP={class:"item-header-index"},GP={class:"item-header-time"},zP={class:"item-header-name"},qP=["value","onKeydown","onChange","placeholder"],YP={class:"item-header-right"},XP=["onClick"],JP=["onClick"],ZP=["onClick"],QP=["onClick"],e4=["onClick"],t4=["onClick"],n4={class:"item-prompt"},i4={class:"content-empty"},r4={key:1};function o4(e,t,n,i,r,o){const s=Be("icon-svg"),a=Ro("tooltip");return T(),Ae(Bt,{name:"fade"},{default:Mt(()=>[oe(p("div",{class:"physton-prompt-favorite",ref:"favorite",onMouseenter:t[0]||(t[0]=(...l)=>o.onMouseEnter&&o.onMouseEnter(...l)),onMouseleave:t[1]||(t[1]=(...l)=>o.onMouseLeave&&o.onMouseLeave(...l)),onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[p("div",OP,[(T(!0),A(Pe,null,et(r.favorites,l=>(T(),A("div",{key:l.key,class:Ge(["popup-tab",l.key===r.favoriteKey?"active":""]),onClick:f=>o.onTabClick(l.key)},[p("div",NP,z(e.getLang(l.name)),1),p("div",RP,z(e.getLang(l.type)),1),p("div",PP,z(l.list.length),1)],10,IP))),128))]),oe(p("div",MP,[p("div",DP,[(T(!0),A(Pe,null,et(r.currentItem.tags,(l,f)=>(T(),A(Pe,{key:f},[l.type&&l.type==="wrap"?(T(),A("div",FP)):(T(),A("div",BP,[p("div",$P,z(l.value),1),p("div",jP,z(l.localValue),1)]))],64))),128))])],512),[[Rt,r.currentItem&&r.currentItem.tags]]),(T(!0),A(Pe,null,et(r.favorites,l=>(T(),A("div",{key:l.key,class:Ge(["popup-tab-content",l.key===r.favoriteKey?"active":""])},[oe(p("div",HP,[(T(!0),A(Pe,null,et(l.list,(f,d)=>(T(),A("div",{class:"content-item",key:f.id,onMouseenter:v=>o.onItemMouseEnter(d),onMouseleave:v=>o.onItemMouseLeave(d)},[p("div",WP,[p("div",UP,[p("div",KP,z(l.list.length-d),1),p("div",GP,z(o.formatTime(f.time)),1),p("div",zP,[p("input",{class:"header-name-input",value:f.name,onKeydown:v=>o.onNameKeyDown(d,v),onChange:v=>o.onNameChange(d,v),placeholder:e.getLang("unset_name")},null,40,qP)])]),p("div",YP,[oe((T(),A("div",{class:"header-btn-favorite hover-scale-140",onClick:v=>o.onFavoriteClick(d)},[ie(s,{name:"favorite-yes"})],8,XP)),[[Rt,f.is_favorite],[a,e.getLang("remove_from_favorite")]]),oe((T(),A("div",{class:"header-btn-favorite hover-scale-140",onClick:v=>o.onFavoriteClick(d)},[ie(s,{name:"favorite-no"})],8,JP)),[[Rt,!f.is_favorite],[a,e.getLang("add_to_favorite")]]),oe((T(),A("div",{class:"header-btn-copy hover-scale-140",onClick:v=>o.onCopyClick(d)},[ie(s,{name:"copy"})],8,ZP)),[[a,e.getLang("copy_to_clipboard")]]),oe((T(),A("div",{class:"header-btn-use hover-scale-140",onClick:v=>o.onUseClick(d)},[ie(s,{name:"use"})],8,QP)),[[a,e.getLang("use")]]),oe((T(),A("div",{class:"header-btn-move-up hover-scale-140",onClick:v=>o.onMoveUpClick(d)},[ie(s,{name:"move-up"})],8,e4)),[[a,e.getLang("move_up")]]),oe((T(),A("div",{class:"header-btn-move-down hover-scale-140",onClick:v=>o.onMoveDownClick(d)},[ie(s,{name:"move-down"})],8,t4)),[[a,e.getLang("move_down")]])])]),p("div",n4,z(f.prompt),1)],40,VP))),128))],512),[[Rt,l.list.length>0]]),oe(p("div",i4,[r.loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A("span",r4,z(r.emptyMsg),1))],512),[[Rt,l.list.length===0]])],2))),128))],544),[[Rt,r.isShow]])]),_:1})}const s4=Dt(LP,[["render",o4]]),a4={components:{IconSvg:Gt},props:{},mixins:[Tn],data(){return{historyKey:"",histories:[{name:"txt2img",type:"prompt",key:"txt2img",list:[]},{name:"txt2img",type:"negative_prompt",key:"txt2img_neg",list:[]},{name:"img2img",type:"prompt",key:"img2img",list:[]},{name:"img2img",type:"negative_prompt",key:"img2img_neg",list:[]}],isShow:!1,loading:!1,emptyMsg:"",mouseEnter:!1,currentItem:{}}},emits:["use","refreshFavorites"],mounted(){},methods:{formatTime(e){return pe.formatTime(e*1e3,!1)},getHistories(e){if(!e)return;let t=this.histories.find(n=>n.key===e);t&&(this.loading=!0,this.gradioAPI.getHistories(e).then(n=>{n&&n.length>0&&(n.reverse(),t.list=n),this.emptyMsg=this.getLang("no_history"),this.loading=!1}).catch(n=>{this.emptyMsg=this.getLang("get_history_error"),this.loading=!1}))},show(e,t){if(!(!e||!t)){if(this.historyKey=e,this.isShow){this.isShow=!1;return}this.mouseEnter=!1,this.loading=!0,this.isShow=!0,this.$refs.history.style.top=t.pageY+2+"px",this.$refs.history.style.left=t.pageX+2+"px",this.getHistories(this.historyKey),this.$nextTick(()=>{let n=this.$refs.history.getBoundingClientRect();n.right>window.innerWidth&&(this.$refs.history.style.left=window.innerWidth-n.width-2+"px")}),setTimeout(()=>{this.mouseEnter||this.hide()},3e3)}},hide(){this.mouseEnter=!1,this.isShow=!1},onMouseEnter(){this.mouseEnter=!0},onMouseLeave(e){e.relatedTarget&&this.hide()},onTabClick(e){this.historyKey=e,this.getHistories(this.historyKey)},onDeleteClick(e){let t=this.histories.find(i=>i.key===this.historyKey);if(!t)return;let n=t.list[e];this.gradioAPI.deleteHistory(this.historyKey,n.id).then(i=>{i&&t.list.splice(e,1)})},onFavoriteClick(e){let t=this.histories.find(i=>i.key===this.historyKey);if(!t)return;let n=t.list[e];n.is_favorite?this.gradioAPI.unFavorite(this.historyKey,n.id).then(i=>{i&&(n.is_favorite=!1,this.$emit("refreshFavorites",this.historyKey))}):this.gradioAPI.doFavorite(this.historyKey,n.id).then(i=>{i&&(n.is_favorite=!0,this.$emit("refreshFavorites",this.historyKey))})},onCopyClick(e){let t=this.histories.find(i=>i.key===this.historyKey);if(!t)return;let n=t.list[e];this.$copyText(n.prompt).then(()=>{this.$toastr.success("success!")}).catch(()=>{this.$toastr.error("error!")})},onNameKeyDown(e,t){t.keyCode===13&&t.target.blur()},onNameChange(e,t){let n=this.histories.find(o=>o.key===this.historyKey);if(!n)return;let i=n.list[e];const r=t.target.value;this.gradioAPI.setHistoryName(this.historyKey,i.id,r).then(o=>{o?(i.name=r,this.$emit("refreshFavorites",this.historyKey)):t.target.value=i.name}).catch(o=>{t.target.value=i.name})},onItemMouseEnter(e){let t=this.histories.find(n=>n.key===this.historyKey);t&&(this.currentItem=t.list[e],this.$nextTick(()=>{let n=this.$refs.historyDetail.getBoundingClientRect();n.right>window.innerWidth&&(this.$refs.historyDetail.style.left=0-n.width-2+"px")}))},onItemMouseLeave(e){this.currentItem={}},onUseClick(e){let t=this.histories.find(n=>n.key===this.historyKey);t&&(this.hide(),this.$emit("use",t.list[e]))},onDeleteAllHistoryClick(){let e=this.histories.find(t=>t.key===this.historyKey);e&&confirm(this.getLang("delete_all_history_confirm"))&&this.gradioAPI.deleteHistories(this.historyKey).then(t=>{e.list=[]}).catch(t=>{})}}},l4={class:"popup-tabs"},u4=["onClick"],c4={class:"tab-name"},f4={class:"tab-type"},d4={class:"tab-count"},p4={class:"popup-detail",ref:"historyDetail"},h4={class:"popup-item-tags"},g4={key:0,class:"item-wrap"},m4={key:1,class:"item-tag"},v4={class:"item-tag-value"},y4={class:"item-tag-local-value"},b4={class:"content-list"},C4=["onMouseenter","onMouseleave"],_4={class:"item-header"},w4={class:"item-header-left"},k4={class:"item-header-index"},T4={class:"item-header-time"},x4={class:"item-header-name"},S4=["value","onKeydown","onChange","placeholder"],E4={class:"item-header-right"},A4=["onClick"],L4=["onClick"],O4=["onClick"],I4=["onClick"],N4=["onClick"],R4={class:"item-prompt"},P4={class:"content-empty"},M4={key:1};function D4(e,t,n,i,r,o){const s=Be("icon-svg"),a=Ro("tooltip");return T(),Ae(Bt,{name:"fade"},{default:Mt(()=>[oe(p("div",{class:"physton-prompt-history",ref:"history",onMouseenter:t[1]||(t[1]=(...l)=>o.onMouseEnter&&o.onMouseEnter(...l)),onMouseleave:t[2]||(t[2]=(...l)=>o.onMouseLeave&&o.onMouseLeave(...l)),onClick:t[3]||(t[3]=We(()=>{},["stop"]))},[p("div",l4,[(T(!0),A(Pe,null,et(r.histories,l=>(T(),A("div",{key:l.key,class:Ge(["popup-tab",l.key===r.historyKey?"active":""]),onClick:f=>o.onTabClick(l.key)},[p("div",c4,z(e.getLang(l.name)),1),p("div",f4,z(e.getLang(l.type)),1),p("div",d4,z(l.list.length),1)],10,u4))),128))]),oe(p("div",p4,[p("div",h4,[(T(!0),A(Pe,null,et(r.currentItem.tags,(l,f)=>(T(),A(Pe,{key:f},[l.type&&l.type==="wrap"?(T(),A("div",g4)):(T(),A("div",m4,[p("div",v4,z(l.value),1),p("div",y4,z(l.localValue),1)]))],64))),128))])],512),[[Rt,r.currentItem&&r.currentItem.tags]]),(T(!0),A(Pe,null,et(r.histories,l=>(T(),A("div",{key:l.key,class:Ge(["popup-tab-content",l.key===r.historyKey?"active":""])},[oe(p("div",b4,[p("div",{class:"clear-btn",onClick:t[0]||(t[0]=(...f)=>o.onDeleteAllHistoryClick&&o.onDeleteAllHistoryClick(...f))},[ie(s,{name:"remove"}),Ze(" "+z(e.getLang("delete_all_history")),1)]),(T(!0),A(Pe,null,et(l.list,(f,d)=>(T(),A("div",{class:"content-item",key:f.id,onMouseenter:v=>o.onItemMouseEnter(d),onMouseleave:v=>o.onItemMouseLeave(d)},[p("div",_4,[p("div",w4,[p("div",k4,z(l.list.length-d),1),p("div",T4,z(o.formatTime(f.time)),1),p("div",x4,[p("input",{class:"header-name-input",value:f.name,onKeydown:v=>o.onNameKeyDown(d,v),onChange:v=>o.onNameChange(d,v),placeholder:e.getLang("unset_name")},null,40,S4)])]),p("div",E4,[p("div",{class:"header-btn-favorite hover-scale-140",onClick:v=>o.onDeleteClick(d)},[ie(s,{name:"remove"})],8,A4),oe((T(),A("div",{class:"header-btn-favorite hover-scale-140",onClick:v=>o.onFavoriteClick(d)},[ie(s,{name:"favorite-yes"})],8,L4)),[[Rt,f.is_favorite],[a,e.getLang("remove_from_favorite")]]),oe((T(),A("div",{class:"header-btn-favorite hover-scale-140",onClick:v=>o.onFavoriteClick(d)},[ie(s,{name:"favorite-no"})],8,O4)),[[Rt,!f.is_favorite],[a,e.getLang("add_to_favorite")]]),oe((T(),A("div",{class:"header-btn-copy hover-scale-140",onClick:v=>o.onCopyClick(d)},[ie(s,{name:"copy"})],8,I4)),[[a,e.getLang("copy_to_clipboard")]]),oe((T(),A("div",{class:"header-btn-use hover-scale-140",onClick:v=>o.onUseClick(d)},[ie(s,{name:"use"})],8,N4)),[[a,e.getLang("use")]])])]),p("div",R4,z(f.prompt),1)],40,C4))),128))],512),[[Rt,l.list.length>0]]),oe(p("div",P4,[r.loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A("span",M4,z(r.emptyMsg),1))],512),[[Rt,l.list.length===0]])],2))),128))],544),[[Rt,r.isShow]])]),_:1})}const F4=Dt(a4,[["render",D4]]),B4={name:"ExtensionCss",components:{IconSvg:Gt},mixins:[Tn],props:{},data(){return{isOpen:!1,list:[]}},computed:{},mounted(){},methods:{init(){this.refresh(!0)},refresh(e=!1){this.gradioAPI.getExtensionCssList().then(t=>{let n=[];for(let i=0;i<t.length;i++)t[i].manifest=JSON.parse(t[i].manifest),t[i].manifest&&typeof t[i].manifest=="object"&&t[i].manifest.name&&(t[i].selected=t[i].selected||!1,t[i].id="physton-prompt-extension-"+t[i].dir,n.push(t[i]));n.forEach(i=>{i.sort=i.manifest.type+"."+i.dir}),n.sort((i,r)=>i.sort>r.sort?1:-1),this.list=n,e&&this.list.forEach(i=>{i.selected&&pe.loadCSS(i.style,i.id,!0,!1)})})},getName(e){if(!e)return"";let t=e.manifest.name;return e.manifest.i18n&&e.manifest.i18n[this.languageCode]&&(t=e.manifest.i18n[this.languageCode]),t},onChangeSelect(e){let t=this.list.find(n=>n.id===e);t&&(t.selected=!t.selected,t.selected?pe.loadCSS(t.style,t.id,!0,!1):pe.removeCSS(t.id),this.gradioAPI.setData(t.dataName,t.selected))},open(){this.isOpen=!0,this.refresh(!1)},close(){this.isOpen=!1}}},$4={class:"extension-table"},j4=["checked","onChange"],H4={class:"extension-name"},V4={class:"extension-type"},W4={class:"extension-dir"},U4={class:"extension-author"};function K4(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"slideRight"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-extension-css",onClick:t[3]||(t[3]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"extension-main",onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[p("div",{class:"extension-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"extension-list",onClick:t[1]||(t[1]=We(()=>{},["stop"]))},[p("table",$4,[(T(!0),A(Pe,null,et(r.list,(a,l)=>(T(),A("tr",{key:a.dir,class:"extension-item",ref_for:!0,ref:"items"},[p("td",null,[p("input",{class:"extension-checkbox",type:"checkbox",name:"extension-item",checked:a.selected,onChange:f=>o.onChangeSelect(a.id)},null,40,j4)]),p("td",H4,z(o.getName(a)),1),p("td",V4,z(e.getLang(a.manifest.type)),1),p("td",W4,z(a.dir),1),p("td",U4,[a.manifest.author?(T(),A(Pe,{key:0},[Ze("By: "+z(a.manifest.author),1)],64)):Y("",!0)])]))),128))])])])])):Y("",!0)]),_:1})}const G4=Dt(B4,[["render",K4]]),z4={name:"PromptFormat",components:{IconSvg:Gt},mixins:[Tn],props:{autoRemoveSpace:{type:Boolean,default:!1},autoRemoveLastComma:{type:Boolean,default:!1},autoKeepWeightZero:{type:Boolean,default:!1},autoKeepWeightOne:{type:Boolean,default:!1},autoBreakBeforeWrap:{type:Boolean,default:!1},autoBreakAfterWrap:{type:Boolean,default:!1},autoRemoveLoraBeforeComma:{type:Boolean,default:!1},autoRemoveLoraAfterComma:{type:Boolean,default:!1},useNovelAiWeightSymbol:{type:Boolean,default:!1},autoRemoveBeforeLineComma:{type:Boolean,default:!1}},data(){return{isOpen:!1}},emits:["update:autoRemoveSpace","update:autoRemoveLastComma","update:autoKeepWeightZero","update:autoKeepWeightOne","update:autoBreakBeforeWrap","update:autoBreakAfterWrap","update:autoRemoveLoraBeforeComma","update:autoRemoveLoraAfterComma","update:useNovelAiWeightSymbol","update:autoRemoveBeforeLineComma"],computed:{},mounted(){},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1}}},q4={class:"format-item"},Y4=["checked"],X4=["innerHTML"],J4={class:"format-item"},Z4=["checked"],Q4=["innerHTML"],eM={class:"format-item"},tM=["checked"],nM=["innerHTML"],iM={class:"format-item"},rM=["checked"],oM=["innerHTML"],sM={class:"format-item"},aM=["checked"],lM=["innerHTML"],uM={class:"format-item"},cM=["checked"],fM=["innerHTML"],dM={class:"format-item"},pM=["checked"],hM=["innerHTML"],gM={class:"format-item"},mM=["checked"],vM=["innerHTML"],yM={class:"format-item"},bM=["checked"],CM=["innerHTML"];function _M(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-format",onClick:t[12]||(t[12]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"format-main",onClick:t[11]||(t[11]=We(()=>{},["stop"]))},[p("div",{class:"format-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"format-list",onClick:t[10]||(t[10]=We(()=>{},["stop"]))},[p("div",q4,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoRemoveSpace,onChange:t[1]||(t[1]=a=>e.$emit("update:autoRemoveSpace",a.target.checked))},null,40,Y4),p("div",{class:"format-desc",innerHTML:e.getLang("is_remove_space")},null,8,X4)]),p("div",J4,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoRemoveLastComma,onChange:t[2]||(t[2]=a=>e.$emit("update:autoRemoveLastComma",a.target.checked))},null,40,Z4),p("div",{class:"format-desc",innerHTML:e.getLang("is_remove_last_comma")},null,8,Q4)]),p("div",eM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoKeepWeightZero,onChange:t[3]||(t[3]=a=>e.$emit("update:autoKeepWeightZero",a.target.checked))},null,40,tM),p("div",{class:"format-desc",innerHTML:e.getLang("is_keep_weight_zero")},null,8,nM)]),p("div",iM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoBreakBeforeWrap,onChange:t[4]||(t[4]=a=>e.$emit("update:autoBreakBeforeWrap",a.target.checked))},null,40,rM),p("div",{class:"format-desc",innerHTML:e.getLang("is_break_before_wrap")},null,8,oM)]),p("div",sM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoBreakAfterWrap,onChange:t[5]||(t[5]=a=>e.$emit("update:autoBreakAfterWrap",a.target.checked))},null,40,aM),p("div",{class:"format-desc",innerHTML:e.getLang("is_break_after_wrap")},null,8,lM)]),p("div",uM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoRemoveLoraBeforeComma,onChange:t[6]||(t[6]=a=>e.$emit("update:autoRemoveLoraBeforeComma",a.target.checked))},null,40,cM),p("div",{class:"format-desc",innerHTML:e.getLang("is_remove_lora_before_comma")},null,8,fM)]),p("div",dM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoRemoveLoraAfterComma,onChange:t[7]||(t[7]=a=>e.$emit("update:autoRemoveLoraAfterComma",a.target.checked))},null,40,pM),p("div",{class:"format-desc",innerHTML:e.getLang("is_remove_lora_after_comma")},null,8,hM)]),p("div",gM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.useNovelAiWeightSymbol,onChange:t[8]||(t[8]=a=>e.$emit("update:useNovelAiWeightSymbol",a.target.checked))},null,40,mM),p("div",{class:"format-desc",innerHTML:e.getLang("is_use_novel_ai_weight_symbol")},null,8,vM)]),p("div",yM,[p("input",{class:"format-checkbox",type:"checkbox",checked:n.autoRemoveBeforeLineComma,onChange:t[9]||(t[9]=a=>e.$emit("update:autoRemoveBeforeLineComma",a.target.checked))},null,40,bM),p("div",{class:"format-desc",innerHTML:e.getLang("is_remove_before_line_comma")},null,8,CM)])])])])):Y("",!0)]),_:1})}const wM=Dt(z4,[["render",_M]]),kM={name:"Blacklist",components:{IconSvg:Gt},mixins:[Tn],props:{},data(){return{isOpen:!1,data:{prompt:[],negative_prompt:[],lora:[],lycoris:[],embedding:[],translate:[]},cancelBlacklistConfirm:!1,textarea:{prompt:"",negative_prompt:"",lora:"",lycoris:"",embedding:"",translate:""}}},emits:["update:blacklist"],computed:{},mounted(){},methods:{open(){this.isOpen=!0,this.data={prompt:[],negative_prompt:[],lora:[],lycoris:[],embedding:[],translate:[]},this.textarea={prompt:"",negative_prompt:"",lora:"",lycoris:"",embedding:"",translate:""},this.gradioAPI.getDatas(["blacklist","cancelBlacklistConfirm"]).then(e=>{e.blacklist&&(this.data.prompt=e.blacklist.prompt||[],this.data.negative_prompt=e.blacklist.negative_prompt||[],this.data.lora=e.blacklist.lora||[],this.data.lycoris=e.blacklist.lycoris||[],this.data.embedding=e.blacklist.embedding||[],this.data.translate=e.blacklist.translate||[]),e.cancelBlacklistConfirm&&(this.cancelBlacklistConfirm=e.cancelBlacklistConfirm),this.textarea.prompt=this.data.prompt.join(`
`),this.textarea.negative_prompt=this.data.negative_prompt.join(`
`),this.textarea.lora=this.data.lora.join(`
`),this.textarea.lycoris=this.data.lycoris.join(`
`),this.textarea.embedding=this.data.embedding.join(`
`),this.textarea.translate=this.data.translate.join(`
`)})},close(){this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){this.data.prompt=this.textarea.prompt.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.data.negative_prompt=this.textarea.negative_prompt.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.data.lora=this.textarea.lora.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.data.lycoris=this.textarea.lycoris.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.data.embedding=this.textarea.embedding.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.data.translate=this.textarea.translate.split(/\s*\n\s*/).filter(e=>e==null?void 0:e.trim().length),this.gradioAPI.setData("blacklist",this.data),this.gradioAPI.setData("cancelBlacklistConfirm",this.cancelBlacklistConfirm),this.close(),this.$emit("update:blacklist",this.data,this.cancelBlacklistConfirm)}}},TM={class:"blacklist-desc"},xM={class:"blacklist-group"},SM={class:"group-title"},EM=["placeholder"],AM={class:"blacklist-group"},LM={class:"group-title"},OM=["placeholder"],IM=p("div",{class:"blacklist-wrap"},null,-1),NM={class:"blacklist-group"},RM={class:"group-title"},PM=["placeholder"],MM={class:"blacklist-group"},DM={class:"group-title"},FM=["placeholder"],BM={class:"blacklist-group"},$M={class:"group-title"},jM=["placeholder"],HM=p("div",{class:"blacklist-wrap"},null,-1),VM={class:"blacklist-group"},WM={class:"group-title"},UM=p("div",{class:"blacklist-wrap"},null,-1),KM={class:"blacklist-desc"},GM={class:"blacklist-group"},zM={class:"group-title"},qM=["placeholder"],YM=p("div",{class:"blacklist-wrap"},null,-1),XM={class:"setting-btns"};function JM(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-blacklist",onClick:t[12]||(t[12]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"blacklist-main",onClick:t[11]||(t[11]=We(()=>{},["stop"]))},[p("div",{class:"blacklist-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"blacklist-body",onClick:t[10]||(t[10]=We(()=>{},["stop"]))},[p("div",TM,"1. "+z(e.getLang("blacklist_desc")),1),p("div",xM,[p("div",SM,z(e.getLang("prompt_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[1]||(t[1]=a=>r.textarea.prompt=a)},null,8,EM),[[_t,r.textarea.prompt]])]),p("div",AM,[p("div",LM,z(e.getLang("negative_prompt_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[2]||(t[2]=a=>r.textarea.negative_prompt=a)},null,8,OM),[[_t,r.textarea.negative_prompt]])]),IM,p("div",NM,[p("div",RM,z(e.getLang("lora_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[3]||(t[3]=a=>r.textarea.lora=a)},null,8,PM),[[_t,r.textarea.lora]])]),p("div",MM,[p("div",DM,z(e.getLang("lycoris_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[4]||(t[4]=a=>r.textarea.lycoris=a)},null,8,FM),[[_t,r.textarea.lycoris]])]),p("div",BM,[p("div",$M,z(e.getLang("embedding_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[5]||(t[5]=a=>r.textarea.embedding=a)},null,8,jM),[[_t,r.textarea.embedding]])]),HM,p("div",VM,[p("div",WM,[p("label",null,[oe(p("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>r.cancelBlacklistConfirm=a)},null,512),[[Xc,r.cancelBlacklistConfirm]]),Ze(" "+z(e.getLang("cancel_confirm_add_blacklist")),1)])])]),UM,p("div",KM,"2. "+z(e.getLang("translate_blacklist_desc")),1),p("div",GM,[p("div",zM,z(e.getLang("disable_translate_prompt_blacklist_list"))+":",1),oe(p("textarea",{class:"group-content",placeholder:e.getLang("one_keyword_per_line"),"onUpdate:modelValue":t[7]||(t[7]=a=>r.textarea.translate=a)},null,8,qM),[[_t,r.textarea.translate]])]),YM,p("div",XM,[p("div",{class:"blacklist-save hover-scale-120",onClick:t[8]||(t[8]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))},z(e.getLang("save")),1),p("div",{class:"blacklist-close hover-scale-120",onClick:t[9]||(t[9]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},z(e.getLang("close")),1)])])])])):Y("",!0)]),_:1})}const ZM=Dt(kM,[["render",JM]]),QM={name:"PackagesState",components:{IconSvg:Gt},mixins:[Tn],props:{python:{type:String,default:"./python"},packagesState:{type:Array,default:()=>[]}},data(){return{todayNotShow:!1,isOpen:!1,loading:!1,showResult:!1,result:`1112323
sfsdfsdf
2222
3333
1112323
sfsdfsdf
2222
3333
1112323
sfsdfsdf
2222
3333`}},emits:[],computed:{},watch:{packagesState:{handler(){this.isAllInstalled()||this.open()},deep:!0}},mounted(){},methods:{isInstalled(e){for(let t of this.packagesState)if(t.name===e)return t.state;return!1},isAllInstalled(){for(let e of this.packagesState)if(!e.state)return!1;return!0},getCommand(e){return`${this.python} -m pip install ${e.package}`},onInstallClick(){if(this.loading)return;this.loading=!0,this.showResult=!0,this.result="";let e=[];this.packagesState.forEach(i=>{i.state||e.push(i)});const t=(i=!1)=>{this.loading=!1,i&&(this.result+=`
complete!`,setTimeout(this.close,2e3)),this.scrollToBottom()},n=()=>{let i=e.shift();if(!i)return t(!0);this.gradioAPI.installPackage(i.name,i.package).then(r=>{this.result+=`${r.message}
`,r.state?(this.scrollToBottom(),n()):t(!1)}).catch(r=>{console.log(r),this.result+=`${i.name} install failed
${r.message}
`,t(!1)})};n()},scrollToBottom(){this.$nextTick(()=>{this.$refs.result.scrollTop=this.$refs.result.scrollHeight})},onTodayNotShowChange(){this.todayNotShow=!this.todayNotShow,this.gradioAPI.setData("packagesStateTodayNotShow",new Date().toLocaleDateString())},open(){this.gradioAPI.getData("packagesStateTodayNotShow").then(e=>{e&&e===new Date().toLocaleDateString()?this.close():(this.result="",this.loading=!1,this.showResult=!1,this.isOpen=!0)}).catch(e=>{})},close(){this.isOpen=!1}}},e5={key:0,class:"physton-packages-state"},t5={class:"today-now-show"},n5=["value"],i5={class:"state-body-name"},r5=["innerHTML"],o5={class:"package-list"},s5={class:"package-name"},a5={class:"package-command"},l5={key:0,class:"install-result"};function u5(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",e5,[p("div",{class:"state-main",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[p("div",{class:"state-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"state-body",onClick:t[4]||(t[4]=We(()=>{},["stop"]))},[p("div",t5,[p("label",null,[p("input",{type:"checkbox",value:r.todayNotShow,onChange:t[1]||(t[1]=(...a)=>o.onTodayNotShowChange&&o.onTodayNotShowChange(...a))},null,40,n5),Ze(" "+z(e.getLang("today_not_show")),1)])]),p("div",i5,z(e.globals.shortName),1),p("div",{class:"state-body-language",onClick:t[2]||(t[2]=a=>e.$emit("click:selectLanguage",a))},[ie(s,{name:"i18n"}),p("div",null,"Language: "+z(e.langName),1)]),p("div",{class:"state-body-desc",innerHTML:e.getLang("packages_desc")},null,8,r5),p("div",o5,[(T(!0),A(Pe,null,et(n.packagesState,a=>(T(),A("div",{key:a.name,class:"package-item"},[p("div",s5,z(a.name),1),p("div",{class:Ge(["package-state",a.state?"installed":"not_install"])},z(e.getLang(a.state?"installed":"not_install")),3),p("div",a5,z(o.getCommand(a)),1)]))),128))]),p("div",{class:"btn-packages-install hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onInstallClick&&o.onInstallClick(...a))},[r.loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("install")),1)],64))]),r.showResult?(T(),A("div",l5,[Ze(z(e.getLang("packages_installing"))+" ",1),r.result?(T(),A("div",{key:0,class:"result-content",ref:"result"},z(r.result),513)):Y("",!0)])):Y("",!0)])])])):Y("",!0)]),_:1})}const c5=Dt(QM,[["render",u5]]),f5={name:"ChatgptPrompt",components:{IconSvg:Gt},mixins:[Tn],props:{},data(){return{isOpen:!1,api:{},configs:[],chatPreset:"",hidePanels:{api:!0},imageDesc:"",promptResult:"",saveConfigIng:!1,genIng:!1}},emits:["use"],computed:{},mounted(){},methods:{open(){this.isOpen=!0,this.saveConfigIng=!1,this.genIng=!1,this.gradioAPI.getDatas(["chatgpt_prompts_preset","chatgpt_key","translate_api.openai"]).then(e=>{e.chatgpt_prompts_preset!==null?this.chatPreset=e.chatgpt_prompts_preset:this.chatPreset=this.getLang("chatgpt_prompts_preset"),this.configs=[];let t={},n=pe.getTranslateApiItem(this.translateApis,"openai");if(n=JSON.parse(JSON.stringify(n)),e.chatgpt_key&&typeof e.chatgpt_key=="object")for(const i of n.config)t[i.key]=e.chatgpt_key[i.key]||i.default||"";else for(const i of n.config)t[i.key]=i.default||"";t.api_key||(this.hidePanels.api=!1);for(const i of n.config)i.value=t[i.key],this.configs.push(i)})},close(){this.isOpen=!1},onUnfoldClick(e){this.hidePanels[e]=!this.hidePanels[e]},onSaveConfigClick(){if(this.saveConfigIng)return;this.saveConfigIng=!0;let e={};this.configs.forEach(t=>{e[t.key]=t.value}),this.gradioAPI.setData("chatgpt_key",e).then(t=>{this.$toastr.success(this.getLang("success")),this.saveConfigIng=!1}).catch(t=>{this.$toastr.error(t.message||t),this.saveConfigIng=!1})},onPresetChange(e){this.chatPreset=e.target.value,this._saveChatPreset()},onRestoreClick(){this.chatPreset=this.getLang("chatgpt_prompts_preset"),this._saveChatPreset()},_saveChatPreset(){this.gradioAPI.setData("chatgpt_prompts_preset",this.chatPreset)},onGenClick(){if(this.genIng)return;if(!this.imageDesc)return this.$refs.imageDesc.focus();if(this.imageDesc=this.imageDesc.trim(),!this.imageDesc)return this.$refs.imageDesc.focus();this.genIng=!0;let e=[{role:"user",content:this.chatPreset},{role:"user",content:this.imageDesc}],t={};this.configs.forEach(n=>{t[n.key]=n.value}),this.gradioAPI.genOpenAI(e,t).then(n=>{n.success?this.promptResult=n.result:this.$toastr.error(n.message||"error"),this.genIng=!1}).catch(n=>{this.$toastr.error(n.message||n),this.genIng=!1})},onUseClick(){this.$emit("use",this.promptResult),this.close()}}},d5={class:"panel-header"},p5={class:"panel-title"},h5={class:"panel-content"},g5={class:"line-title"},m5={class:"line-content"},v5=["onUpdate:modelValue"],y5=["onUpdate:modelValue"],b5=["value"],C5=["innerHTML"],_5={class:"body-line"},w5=p("div",{class:"line-title"},null,-1),k5={class:"line-content text-right"},T5={class:"panel-header"},x5={class:"panel-title"},S5={class:"panel-content"},E5={class:"body-line"},A5={class:"line-title"},L5={class:"line-subtitle"},O5={class:"line-content"},I5=["value"],N5={class:"body-line"},R5=p("div",{class:"line-title"},null,-1),P5={class:"line-content text-right"},M5={class:"body-line"},D5={class:"line-title"},F5={class:"line-subtitle"},B5={class:"line-content"},$5=["placeholder"],j5={class:"body-line"},H5=p("div",{class:"line-title"},null,-1),V5={class:"line-content text-right"},W5={class:"panel-header"},U5={class:"panel-title"},K5={class:"panel-content"},G5={class:"body-line"},z5={class:"line-title"},q5={class:"line-content"},Y5={key:0,class:"body-line"},X5=p("div",{class:"line-title"},null,-1),J5={class:"line-content text-right"};function Z5(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-chatgpt-prompt",onClick:t[13]||(t[13]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"chatgpt-main",onClick:t[12]||(t[12]=We(()=>{},["stop"]))},[p("div",{class:"chatgpt-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"chatgpt-body",onClick:t[11]||(t[11]=We(()=>{},["stop"]))},[p("div",{class:Ge(["body-panel",r.hidePanels.api?"fold":""])},[p("div",d5,[p("div",{class:"panel-unfold",onClick:t[1]||(t[1]=a=>o.onUnfoldClick("api"))},[ie(s,{class:"hover-scale-120",name:"unfold"})]),p("div",p5,z(e.getLang("api_config")),1)]),p("div",h5,[(T(!0),A(Pe,null,et(r.configs,(a,l)=>(T(),A("div",{class:"body-line",key:l},[p("div",g5,z(a.title),1),p("div",m5,[a.type=="input"?oe((T(),A("input",{key:0,type:"text","onUpdate:modelValue":f=>a.value=f},null,8,v5)),[[_t,a.value]]):Y("",!0),a.type=="select"?oe((T(),A("select",{key:1,"onUpdate:modelValue":f=>a.value=f},[(T(!0),A(Pe,null,et(a.options,(f,d)=>(T(),A("option",{value:f,key:d},z(f),9,b5))),128))],8,y5)),[[Fo,a.value]]):Y("",!0),a.desc?(T(),A("div",{key:2,innerHTML:a.desc},null,8,C5)):Y("",!0)])]))),128)),p("div",_5,[w5,p("div",k5,[p("div",{class:"common-btn hover-scale-120",onClick:t[2]||(t[2]=(...a)=>o.onSaveConfigClick&&o.onSaveConfigClick(...a))},[r.saveConfigIng?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("save")),1)],64))])])])])],2),p("div",{class:Ge(["body-panel",r.hidePanels.send?"fold":""])},[p("div",T5,[p("div",{class:"panel-unfold",onClick:t[3]||(t[3]=a=>o.onUnfoldClick("send"))},[ie(s,{class:"hover-scale-120",name:"unfold"})]),p("div",x5,z(e.getLang("image_desc")),1)]),p("div",S5,[p("div",E5,[p("div",A5,[Ze(z(e.getLang("preset"))+" ",1),p("div",L5,z(e.getLang("ai_one")),1)]),p("div",O5,[p("textarea",{value:r.chatPreset,onChange:t[4]||(t[4]=(...a)=>o.onPresetChange&&o.onPresetChange(...a)),style:{height:"100px"}},null,40,I5)])]),p("div",N5,[R5,p("div",P5,[p("a",{href:"javascript:",onClick:t[5]||(t[5]=(...a)=>o.onRestoreClick&&o.onRestoreClick(...a))},z(e.getLang("restore_to_default")),1)])]),p("div",M5,[p("div",D5,[Ze(z(e.getLang("image_desc"))+" ",1),p("div",F5,z(e.getLang("ai_two")),1)]),p("div",B5,[oe(p("textarea",{style:{height:"100px"},ref:"imageDesc","onUpdate:modelValue":t[6]||(t[6]=a=>r.imageDesc=a),placeholder:e.getLang("input_image_desc")},null,8,$5),[[_t,r.imageDesc]])])]),p("div",j5,[H5,p("div",V5,[p("div",{class:"common-btn hover-scale-120",onClick:t[7]||(t[7]=(...a)=>o.onGenClick&&o.onGenClick(...a))},[r.genIng?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("generate")),1)],64))])])])])],2),p("div",{class:Ge(["body-panel",r.hidePanels.result?"fold":""])},[p("div",W5,[p("div",{class:"panel-unfold",onClick:t[8]||(t[8]=a=>o.onUnfoldClick("result"))},[ie(s,{class:"hover-scale-120",name:"unfold"})]),p("div",U5,z(e.getLang("generate_result")),1)]),p("div",K5,[p("div",G5,[p("div",z5,z(e.getLang("generate_result")),1),p("div",q5,[oe(p("textarea",{style:{height:"100px"},"onUpdate:modelValue":t[9]||(t[9]=a=>r.promptResult=a)},null,512),[[_t,r.promptResult]])])]),r.promptResult?(T(),A("div",Y5,[X5,p("div",J5,[p("div",{class:"common-btn hover-scale-120",onClick:t[10]||(t[10]=(...a)=>o.onUseClick&&o.onUseClick(...a))},z(e.getLang("use")),1)])])):Y("",!0)])],2)])])])):Y("",!0)]),_:1})}const Q5=Dt(f5,[["render",Z5]]),eD={name:"popmessage",props:{type:{type:String,default:"success"},str:{type:String,default:"登陆成功"}},setup(){const e={warn:{color:"#E6A23C",backgroundColor:"rgb(253, 246, 236)",borderColor:"rgb(250, 236, 216)"},error:{color:"#F56C6C",backgroundColor:"rgb(254, 240, 240)",borderColor:"rgb(253, 226, 226)"},success:{color:"#67C23A",backgroundColor:"rgb(240, 249, 235)",borderColor:"rgb(225, 243, 216)"}},t=Lt(!1);return No(()=>{t.value=!0}),{style:e,visible:t}}},tD={class:"text"};function nD(e,t,n,i,r,o){return oe((T(),A("div",{class:"pop-message",style:At(i.style[n.type])},[p("i",{class:Ge(["icon",[i.style[n.type].icon]])},null,2),p("span",tD,z(n.str),1)],4)),[[Rt,i.visible]])}const iD=Dt(eD,[["render",nD]]),Dd=document.createElement("div");document.body.appendChild(Dd);let Fd=null;const ct=({str:e,type:t})=>{const n=ie(iD,{str:e,type:t});Qg(n,Dd),Fd&&clearTimeout(Fd),Fd=setTimeout(()=>{Qg(null,Dd)},2e3)},rD={name:"LlmPackagesState",components:{IconSvg:Gt},mixins:[Tn],data(){return{packagesState:[],python:"./python",todayNotShow:!1,isOpen:!1,loading:!1,showResult:!1,result:`1112323
sfsdfsdf
2222
3333
1112323
sfsdfsdf
2222
3333
1112323
sfsdfsdf
2222
3333`}},emits:[],computed:{},mounted(){},methods:{isInstalled(e){for(let t of this.packagesState)if(t.name===e)return t.state;return!1},isAllInstalled(){for(let e of this.packagesState)if(!e.state)return!1;return!0},getCommand(e){return`${this.python} -m pip install ${e.package}`},onInstallClick(){if(this.loading)return;this.loading=!0,this.showResult=!0,this.result="";let e=[];this.packagesState.forEach(i=>{i.state||e.push(i)});const t=(i=!1)=>{this.loading=!1,i&&(this.result+=`
complete!`,setTimeout(this.close,2e3)),this.scrollToBottom()},n=()=>{let i=e.shift();if(!i)return t(!0);this.gradioAPI.installLLMPackage(i.name,i.package).then(r=>{this.result+=`${r.message}
`,r.state?(this.scrollToBottom(),n()):t(!1)}).catch(r=>{console.log(r),this.result+=`${i.name} install failed
${r.message}
`,t(!1)})};n()},scrollToBottom(){this.$nextTick(()=>{this.$refs.result.scrollTop=this.$refs.result.scrollHeight})},open(){this.result="",this.loading=!0,this.showResult=!1,this.isOpen=!0,this.gradioAPI.getLLMInstallConfig().then(e=>{this.packagesState=e.packages_state,this.python=e.python,this.loading=!1}).catch(e=>{ct({type:"warn",str:"获取LLM环境信息失败，请重试"}),this.loading=!1,this.close()})},close(){this.isOpen=!1}}},oD={key:1},sD={class:"state-body-name"},aD=p("div",{class:"state-body-desc"}," 当前LLM本地大模型加载包检测情况，如果未安装则无法使用，安装过程会有点缓慢请耐心等待。 ",-1),lD={class:"package-list"},uD={class:"package-name"},cD={class:"package-command"},fD={key:0,class:"install-result"};function dD(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-packages-state",onClick:t[4]||(t[4]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"state-main",onClick:t[3]||(t[3]=We(()=>{},["stop"]))},[p("div",{class:"state-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"state-body",onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"400px",height:"400px","box-sizing":"border-box"},name:"loading"})):(T(),A("div",oD,[p("div",sD,z(e.globals.shortName),1),aD,p("div",lD,[(T(!0),A(Pe,null,et(r.packagesState,a=>(T(),A("div",{key:a.name,class:"package-item"},[p("div",uD,z(a.name),1),p("div",{class:Ge(["package-state",a.state?"installed":"not_install"])},z(e.getLang(a.state?"installed":"not_install")),3),p("div",cD,z(o.getCommand(a)),1)]))),128))]),p("div",{class:"btn-packages-install hover-scale-120",onClick:t[1]||(t[1]=(...a)=>o.onInstallClick&&o.onInstallClick(...a))},[r.loading?(T(),Ae(s,{key:0,name:"loading"})):(T(),A(Pe,{key:1},[Ze(z(e.getLang("install")),1)],64))]),r.showResult?(T(),A("div",fD,[Ze(z(e.getLang("packages_installing"))+" ",1),r.result?(T(),A("div",{key:0,class:"result-content",ref:"result"},z(r.result),513)):Y("",!0)])):Y("",!0)]))])])])):Y("",!0)]),_:1})}const pD=Dt(rD,[["render",dD]]),hD={name:"EditLLMSetting",components:{IconSvg:Gt},data(){return{isOpen:!1,loading:!1,jsonData:{llmName:"获取中。。。。",n_gpu_layers:-1,preset:"获取中。。。。",temperature:1.2}}},methods:{open(){this.loading=!0,this.jsonData={llmName:"获取中。。。。",n_gpu_layers:-1,preset:"获取中。。。。",temperature:1.2},this.isOpen=!0,this.gradioAPI.getLLMSettingConfig().then(e=>{this.jsonData=e.data,this.$nextTick(function(){this.loading=!1})}).catch(e=>{ct({type:"warn",str:"获取LLM信息失败请重试"}),this.loading=!1,this.close()})},close(){this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){this.loading=!0,this.gradioAPI.setLLMSettingConfig(this.jsonData).then(e=>{ct({type:"success",str:"修改成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"修改失败 Add Fail"}),this.loading=!1})}}},gD={key:0,class:"physton-prompt-hotkey"},mD={key:1,class:"hotkey-list"},vD=p("div",{style:{"font-size":"20px",color:"#fff","margin-bottom":"15px",width:"150px"}},"修改LLM设置",-1),yD={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},bD=p("div",{style:{color:"#fff","margin-right":"10px",width:"150px"}},"模型名【不要带文件名后缀】",-1),CD={style:{display:"flex","align-items":"center"}},_D=p("div",{style:{color:"#fff","margin-right":"10px",width:"150px"}},"在gpu运行的层数【0~？,-1是所有层在gpu上运行】",-1),wD={style:{display:"flex","align-items":"center"}},kD=p("div",{style:{color:"#fff","margin-right":"10px",width:"150px"}},"temperature【想象力】",-1),TD={style:{display:"flex","align-items":"center"}},xD=p("div",{style:{color:"#fff","margin-right":"10px",width:"150px"}},"preset【系统指令预设】",-1),SD={key:2,class:"setting-btns"};function ED(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",gD,[p("div",{class:"hotkey-main",onClick:t[8]||(t[8]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[7]||(t[7]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",mD,[vD,p("div",yD,[bD,oe(p("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.jsonData.llmName=a)},null,512),[[_t,r.jsonData.llmName]])]),p("div",CD,[_D,oe(p("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.jsonData.n_gpu_layers=a)},null,512),[[_t,r.jsonData.n_gpu_layers]])]),p("div",wD,[kD,oe(p("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>r.jsonData.temperature=a)},null,512),[[_t,r.jsonData.temperature]])]),p("div",TD,[xD,oe(p("textarea",{rows:"6","onUpdate:modelValue":t[4]||(t[4]=a=>r.jsonData.preset=a),style:{width:"300px"}},null,512),[[_t,r.jsonData.preset]])])])),r.loading?Y("",!0):(T(),A("div",SD,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[5]||(t[5]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))}," 修改 "),p("div",{class:"hotkey-close hover-scale-120",onClick:t[6]||(t[6]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const AD={name:"LlmPrompt",components:{IconSvg:Gt,LlmPackagesState:pD,EditLLMSetting:Dt(hD,[["render",ED]])},mixins:[Tn],props:{},data(){return{isOpen:!1,imageDesc:"",promptResult:"",loading:!1}},emits:["use"],computed:{},mounted(){},methods:{open(){this.imageDesc="",this.promptResult="",this.isOpen=!0},close(){this.isOpen=!1},onCheckOrInstallLLM(){this.$refs.llmPackagesState.open()},openLLMSetting(){this.$refs.editLLMSetting.open()},testLLM(){this.gradioAPI.testLLMTran().then(e=>{e.status!=200?ct({type:"warn",str:e.data.info}):ct({type:"success",str:e.data.info})}).catch(e=>{ct({type:"warn",str:e})})},imageLLMReps(){this.loading=!0,this.promptResult="",this.gradioAPI.imageLLMReps(this.imageDesc).then(e=>{e.status!=200?ct({type:"warn",str:e.data.info}):this.promptResult=e.data.info,this.loading=!1}).catch(e=>{ct({type:"warn",str:e}),this.loading=!1})},sendToGreat(){const e=new CustomEvent("weilinPromptInnerSendToGreat",{detail:{text:this.promptResult}});document.dispatchEvent(e)},sendToNeg(){const e=new CustomEvent("weilinPromptInnerSendToNeg",{detail:{text:this.promptResult}});document.dispatchEvent(e)},copyTP(){navigator.clipboard.writeText(this.promptResult).then(e=>{ct({type:"success",str:"复制成功 Copy Success"})},e=>{ct({type:"warn",str:"复制失败 Copy Fail"})})}}},LD={key:0,class:"physton-chatgpt-prompt"},OD={style:{display:"flex","align-items":"center"}},ID={class:"line-content"},ND={class:"line-content",style:{"margin-left":"10px"}},RD={class:"line-content",style:{"margin-left":"10px"}},PD={style:{}},MD={style:{display:"flex","align-items":"center","justify-content":"flex-start","margin-top":"10px","margin-bottom":"10px"}},DD=p("p",null,"输入你想要续写的语句",-1),FD={style:{display:"flex","align-items":"center","justify-content":"flex-start","margin-top":"10px","margin-bottom":"10px"}},BD=p("p",null,"续写语句输出",-1),$D={style:{position:"relative",display:"flex","align-items":"center","justify-content":"center"}};function jD(e,t,n,i,r,o){const s=Be("icon-svg"),a=Be("LlmPackagesState"),l=Be("EditLLMSetting");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",LD,[p("div",{class:"chatgpt-main",onClick:t[11]||(t[11]=We(()=>{},["stop"]))},[p("div",{class:"chatgpt-close",onClick:t[0]||(t[0]=(...f)=>o.close&&o.close(...f))},[ie(s,{name:"close"})]),p("div",{class:"chatgpt-body",onClick:t[10]||(t[10]=We(()=>{},["stop"]))},[p("div",OD,[p("div",ID,[p("div",{class:"llm-btn",onClick:t[1]||(t[1]=(...f)=>o.onCheckOrInstallLLM&&o.onCheckOrInstallLLM(...f))}," 检测/安装-LLM环境 ")]),p("div",ND,[p("div",{class:"llm-btn",onClick:t[2]||(t[2]=(...f)=>o.openLLMSetting&&o.openLLMSetting(...f))}," 修改LLM设置 ")]),p("div",RD,[p("div",{class:"llm-btn",onClick:t[3]||(t[3]=(...f)=>o.testLLM&&o.testLLM(...f))}," 测试LLM加载是否成功 ")])]),p("div",PD,[p("div",null,[p("div",MD,[DD,p("div",{class:"llm-btn",onClick:t[4]||(t[4]=(...f)=>o.imageLLMReps&&o.imageLLMReps(...f)),style:{"margin-left":"10px"}}," 一键续写 ")]),oe(p("textarea",{"onUpdate:modelValue":t[5]||(t[5]=f=>r.imageDesc=f),class:"llm-content",placeholder:"请输入需要续写的句子",rows:"10",style:{width:"100%"}},null,512),[[_t,r.imageDesc]])]),p("div",null,[p("div",FD,[BD,p("div",{class:"llm-btn",onClick:t[6]||(t[6]=(...f)=>o.sendToGreat&&o.sendToGreat(...f)),style:{"margin-left":"10px"}}," 发送至正向提示词 "),p("div",{class:"llm-btn",onClick:t[7]||(t[7]=(...f)=>o.sendToNeg&&o.sendToNeg(...f)),style:{"margin-left":"10px"}}," 发送至反向提示词 "),p("div",{class:"llm-btn",onClick:t[8]||(t[8]=(...f)=>o.copyTP&&o.copyTP(...f)),style:{"margin-left":"10px"}}," 一键复制 ")]),p("div",$D,[r.loading?(T(),Ae(s,{key:0,style:{position:"absolute",width:"50px",height:"50px","z-index":"2","box-sizing":"border-box"},name:"loading"})):Y("",!0),oe(p("textarea",{"onUpdate:modelValue":t[9]||(t[9]=f=>r.promptResult=f),class:"llm-content",placeholder:"续写语句输出",readonly:"",rows:"10",style:{width:"100%"}},null,512),[[_t,r.promptResult]])])])])])]),ie(a,{ref:"llmPackagesState","language-code":e.languageCode,"onUpdate:languageCode":t[12]||(t[12]=f=>e.languageCode=f),languages:e.languages},null,8,["language-code","languages"]),ie(l,{ref:"editLLMSetting"},null,512)])):Y("",!0)]),_:1})}const HD=Dt(AD,[["render",jD]]),VD={name:"About",components:{IconSvg:Gt},mixins:[Tn],data(){return{version:"",latestVersion:"",isLatestVersion:!0,isOpen:!1,loading:!1,versions:[],icons:[]}},emits:["use"],computed:{},mounted(){this.icons=[{title:"GitHub stars",url:this.globals.github+"/stargazers",image:"https://img.shields.io/github/stars/"+this.globals.name+"?style=flat-square"},{title:"GitHub forks",url:this.globals.github+"/network/members",image:"https://img.shields.io/github/forks/"+this.globals.name+"?style=flat-square"},{title:"GitHub issues",url:this.globals.github+"/issues",image:"https://img.shields.io/github/issues/"+this.globals.name+"?style=flat-square"},{title:"GitHub issues closed",url:this.globals.github+"/issues?q=is%3Aissue+is%3Aclosed",image:"https://img.shields.io/github/issues-closed/"+this.globals.name+"?style=flat-square"},{title:"GitHub license",url:this.globals.github+"/blob/master/LICENSE.md",image:"https://img.shields.io/github/license/"+this.globals.name+"?style=flat-square"},{title:"GitHub commits",url:this.globals.github+"/commits/main",image:"https://img.shields.io/github/last-commit/"+this.globals.name+"?style=flat-square"}]},methods:{open(){this.isOpen=!0,this.version="",this.latestVersion="",this.isLatestVersion=!0,this.versions=[],this.loading=!0,this.gradioAPI.getVersion().then(e=>{this.version=e.version,this.latestVersion=e.latest_version,this.isLatestVersion=e.version===e.latest_version}),this.gradioAPI.getRemoteVersions().then(e=>{this.loading=!1;let t=[];e.forEach((n,i)=>{n.is_update_readme||(n.date=pe.formatTime(n.date),t.push(n))}),this.versions=t}).catch(e=>{this.loading=!1})},close(){this.isOpen=!1},commitUrl(e){return this.globals.github+"/commit/"+e},formatVersion(e){return e?e.slice(0,7):this.getLang("unknown_version")},message(e){return e=pe.escapeHtml(e),e=e.replace(/Former-commit-id: [a-z0-9]{40}/g,""),e=e.trim(),e=e.replace(`
`,"<br/>"),e=e.replace(/#(\d+)/g,'<a href="'+this.globals.github+'/issues/$1" target="_blank">#$1</a>'),e}}},WD={class:"body-title"},UD=["href"],KD=["href"],GD=["src","alt"],zD={key:0},qD=["href"],YD={key:0,class:"has-new-version"},XD=["href"],JD=p("a",{href:"https://github.com/Physton/sd-webui-prompt-all-in-one-app",target:"_blank"},"sd-webui-prompt-all-in-one-app",-1),ZD={class:"version-list"},QD={class:"item-header"},e6={class:"version-sha"},t6=["href"],n6={class:"version-date"},i6=["innerHTML"];function r6(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-about-prompt",onClick:t[3]||(t[3]=(...a)=>o.close&&o.close(...a))},[p("div",{class:"about-main",onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[p("div",{class:"about-close",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))},[ie(s,{name:"close"})]),p("div",{class:"about-body",onClick:t[1]||(t[1]=We(()=>{},["stop"]))},[p("p",WD,[p("a",{href:e.globals.github,target:"_blank"},z(e.globals.name),9,UD)]),p("p",null,[(T(!0),A(Pe,null,et(r.icons,a=>(T(),A("a",{key:a.title,href:a.url,target:"_blank"},[p("img",{src:a.image,alt:a.title},null,8,GD)],8,KD))),128))]),r.loading?Y("",!0):(T(),A("p",zD,[p("span",null,[Ze(z(e.getLang("version"))+": ",1),p("a",{href:o.commitUrl(r.version),target:"_blank"},z(o.formatVersion(r.version)),9,qD)]),!r.isLatestVersion&&r.latestVersion?(T(),A("span",YD,[Ze("    ("+z(e.getLang("has_new_version"))+": ",1),p("a",{href:o.commitUrl(r.latestVersion),target:"_blank"},z(o.formatVersion(r.latestVersion)),9,XD),Ze(")")])):Y("",!0)])),p("p",null,[Ze(z(e.getLang("wiki_desc"))+" ",1),JD]),p("div",ZD,[r.loading?(T(),Ae(s,{key:0,name:"loading"})):Y("",!0),(T(!0),A(Pe,null,et(r.versions,a=>(T(),A("div",{class:"version-item",key:a.version},[p("div",QD,[p("div",e6,[p("a",{href:o.commitUrl(a.version),target:"_blank"},z(o.formatVersion(a.version)),9,t6)]),p("div",n6,z(a.date),1)]),p("div",{class:"version-msg",innerHTML:o.message(a.message)},null,8,i6)]))),128))])])])])):Y("",!0)]),_:1})}const o6=Dt(VD,[["render",r6]]);function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var s6=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,h0={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=s6.test(t),i;return this.expand?(i={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),i.innerHTML='"'.concat(t.toString(),'"')):i.innerText='"'.concat(t.toString(),'"')):i={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},Nt("span",{},[this.canExtend&&Nt("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),Nt("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),Nt("span",i)])}};h0.__file="src/Components/types/json-string.vue";var g0={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return Nt("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}};g0.__file="src/Components/types/json-undefined.vue";var m0={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var t=Number.isInteger(this.jsonValue);return Nt("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":t,"jv-number-float":!t},innerText:this.jsonValue.toString()})}};m0.__file="src/Components/types/json-number.vue";var v0={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return Nt("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}};v0.__file="src/Components/types/json-boolean.vue";var y0={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},data:function(){return{value:{}}},computed:{ordered:function(){var t=this;if(!this.sort)return this.value;var n={};return Object.keys(this.value).sort().forEach(function(i){n[i]=t.value[i]}),n}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this;setTimeout(function(){n.value=t},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=[];if(!this.previewMode&&!this.keyName&&t.push(Nt("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),t.push(Nt("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand){for(var n in this.ordered)if(this.ordered.hasOwnProperty(n)){var i=this.ordered[n];t.push(Nt(Nu,{key:n,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:n,depth:this.depth+1,value:i,previewMode:this.previewMode}))}}return!this.expand&&Object.keys(this.value).length&&t.push(Nt("span",{style:{display:this.expand?"none":void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal object content (keys: ".concat(Object.keys(this.ordered).join(", "),")"),innerText:"..."})),t.push(Nt("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),Nt("span",t)}};y0.__file="src/Components/types/json-object.vue";var b0={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},data:function(){return{value:[]}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;i===0&&(this.value=[]),setTimeout(function(){t.length>i&&(n.value.push(t[i]),n.setValue(t,i+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand);try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[];return!this.previewMode&&!this.keyName&&n.push(Nt("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),n.push(Nt("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(i,r){n.push(Nt(Nu,{key:r,style:{display:t.expand?void 0:"none"},sort:t.sort,depth:t.depth+1,value:i,previewMode:t.previewMode}))}),!this.expand&&this.value.length&&n.push(Nt("span",{style:{display:void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal ".concat(this.value.length," hidden items"),innerText:"..."})),n.push(Nt("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),Nt("span",n)}};b0.__file="src/Components/types/json-array.vue";var C0={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return Nt("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}};C0.__file="src/Components/types/json-function.vue";var _0={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var t=this.jsonValue,n=this.timeformat;return Nt("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'.concat(n(t),'"')})}};_0.__file="src/Components/types/json-date.vue";var a6=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,w0={name:"JsonString",props:{jsonValue:{type:RegExp,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,n=a6.test(t),i;return this.expand?(i={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},n?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),i.innerHTML="".concat(t.toString())):i.innerText="".concat(t.toString())):i={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},Nt("span",{},[this.canExtend&&Nt("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),Nt("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),Nt("span",i)])}};w0.__file="src/Components/types/json-regexp.vue";var Nu={name:"JsonBox",inject:["expandDepth","keyClick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},data:function(){return{expand:!0}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)},methods:{toggle:function(){this.expand=!this.expand;try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,n=[],i;this.value===null||this.value===void 0?i=g0:Array.isArray(this.value)?i=b0:Object.prototype.toString.call(this.value)==="[object Date]"?i=_0:this.value.constructor===RegExp?i=w0:Iu(this.value)==="object"?i=y0:typeof this.value=="number"?i=m0:typeof this.value=="string"?i=h0:typeof this.value=="boolean"?i=v0:typeof this.value=="function"&&(i=C0);var r=this.keyName&&this.value&&(Array.isArray(this.value)||Iu(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&r&&n.push(Nt("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),this.keyName&&n.push(Nt("span",{class:{"jv-key":!0},onClick:function(){t.keyClick(t.keyName)},innerText:"".concat(this.keyName,":")})),n.push(Nt(i,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,"onUpdate:expand":function(s){t.expand=s}})),Nt("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!r,toggle:!this.previewMode&&r}},n)}};Nu.__file="src/Components/json-box.vue";var l6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k0={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(l6,function(){return function(){var n={686:function(o,s,a){a.d(s,{default:function(){return Ee}});var l=a(279),f=a.n(l),d=a(370),v=a.n(d),m=a(817),C=a.n(m);function b(Ce){try{return document.execCommand(Ce)}catch{return!1}}var k=function(W){var Q=C()(W);return b("cut"),Q},x=k;function L(Ce){var W=document.documentElement.getAttribute("dir")==="rtl",Q=document.createElement("textarea");Q.style.fontSize="12pt",Q.style.border="0",Q.style.padding="0",Q.style.margin="0",Q.style.position="absolute",Q.style[W?"right":"left"]="-9999px";var fe=window.pageYOffset||document.documentElement.scrollTop;return Q.style.top="".concat(fe,"px"),Q.setAttribute("readonly",""),Q.value=Ce,Q}var $=function(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},fe="";if(typeof W=="string"){var de=L(W);Q.container.appendChild(de),fe=C()(de),b("copy"),de.remove()}else fe=C()(W),b("copy");return fe},V=$;function O(Ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(Q){return typeof Q}:O=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},O(Ce)}var ge=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=W.action,fe=Q===void 0?"copy":Q,de=W.container,ye=W.target,Oe=W.text;if(fe!=="copy"&&fe!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(ye!==void 0)if(ye&&O(ye)==="object"&&ye.nodeType===1){if(fe==="copy"&&ye.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(fe==="cut"&&(ye.hasAttribute("readonly")||ye.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Oe)return V(Oe,{container:de});if(ye)return fe==="cut"?x(ye):V(ye,{container:de})},K=ge;function h(Ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(Q){return typeof Q}:h=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},h(Ce)}function M(Ce,W){if(!(Ce instanceof W))throw new TypeError("Cannot call a class as a function")}function E(Ce,W){for(var Q=0;Q<W.length;Q++){var fe=W[Q];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Ce,fe.key,fe)}}function N(Ce,W,Q){return W&&E(Ce.prototype,W),Q&&E(Ce,Q),Ce}function I(Ce,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(W&&W.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),W&&F(Ce,W)}function F(Ce,W){return F=Object.setPrototypeOf||function(fe,de){return fe.__proto__=de,fe},F(Ce,W)}function q(Ce){var W=Le();return function(){var fe=G(Ce),de;if(W){var ye=G(this).constructor;de=Reflect.construct(fe,arguments,ye)}else de=fe.apply(this,arguments);return _e(this,de)}}function _e(Ce,W){return W&&(h(W)==="object"||typeof W=="function")?W:$e(Ce)}function $e(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(Ce){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},G(Ce)}function le(Ce,W){var Q="data-clipboard-".concat(Ce);if(W.hasAttribute(Q))return W.getAttribute(Q)}var be=function(Ce){I(Q,Ce);var W=q(Q);function Q(fe,de){var ye;return M(this,Q),ye=W.call(this),ye.resolveOptions(de),ye.listenClick(fe),ye}return N(Q,[{key:"resolveOptions",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof de.action=="function"?de.action:this.defaultAction,this.target=typeof de.target=="function"?de.target:this.defaultTarget,this.text=typeof de.text=="function"?de.text:this.defaultText,this.container=h(de.container)==="object"?de.container:document.body}},{key:"listenClick",value:function(de){var ye=this;this.listener=v()(de,"click",function(Oe){return ye.onClick(Oe)})}},{key:"onClick",value:function(de){var ye=de.delegateTarget||de.currentTarget,Oe=this.action(ye)||"copy",qe=K({action:Oe,container:this.container,target:this.target(ye),text:this.text(ye)});this.emit(qe?"success":"error",{action:Oe,text:qe,trigger:ye,clearSelection:function(){ye&&ye.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(de){return le("action",de)}},{key:"defaultTarget",value:function(de){var ye=le("target",de);if(ye)return document.querySelector(ye)}},{key:"defaultText",value:function(de){return le("text",de)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(de){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return V(de,ye)}},{key:"cut",value:function(de){return x(de)}},{key:"isSupported",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],ye=typeof de=="string"?[de]:de,Oe=!!document.queryCommandSupported;return ye.forEach(function(qe){Oe=Oe&&!!document.queryCommandSupported(qe)}),Oe}}]),Q}(f()),Ee=be},828:function(o){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function l(f,d){for(;f&&f.nodeType!==s;){if(typeof f.matches=="function"&&f.matches(d))return f;f=f.parentNode}}o.exports=l},438:function(o,s,a){var l=a(828);function f(m,C,b,k,x){var L=v.apply(this,arguments);return m.addEventListener(b,L,x),{destroy:function(){m.removeEventListener(b,L,x)}}}function d(m,C,b,k,x){return typeof m.addEventListener=="function"?f.apply(null,arguments):typeof b=="function"?f.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(L){return f(L,C,b,k,x)}))}function v(m,C,b,k){return function(x){x.delegateTarget=l(x.target,C),x.delegateTarget&&k.call(m,x)}}o.exports=d},879:function(o,s){s.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},s.nodeList=function(a){var l=Object.prototype.toString.call(a);return a!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in a&&(a.length===0||s.node(a[0]))},s.string=function(a){return typeof a=="string"||a instanceof String},s.fn=function(a){var l=Object.prototype.toString.call(a);return l==="[object Function]"}},370:function(o,s,a){var l=a(879),f=a(438);function d(b,k,x){if(!b&&!k&&!x)throw new Error("Missing required arguments");if(!l.string(k))throw new TypeError("Second argument must be a String");if(!l.fn(x))throw new TypeError("Third argument must be a Function");if(l.node(b))return v(b,k,x);if(l.nodeList(b))return m(b,k,x);if(l.string(b))return C(b,k,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function v(b,k,x){return b.addEventListener(k,x),{destroy:function(){b.removeEventListener(k,x)}}}function m(b,k,x){return Array.prototype.forEach.call(b,function(L){L.addEventListener(k,x)}),{destroy:function(){Array.prototype.forEach.call(b,function(L){L.removeEventListener(k,x)})}}}function C(b,k,x){return f(document.body,b,k,x)}o.exports=d},817:function(o){function s(a){var l;if(a.nodeName==="SELECT")a.focus(),l=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var f=a.hasAttribute("readonly");f||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),f||a.removeAttribute("readonly"),l=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),v=document.createRange();v.selectNodeContents(a),d.removeAllRanges(),d.addRange(v),l=d.toString()}return l}o.exports=s},279:function(o){function s(){}s.prototype={on:function(a,l,f){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:l,ctx:f}),this},once:function(a,l,f){var d=this;function v(){d.off(a,v),l.apply(f,arguments)}return v._=l,this.on(a,v,f)},emit:function(a){var l=[].slice.call(arguments,1),f=((this.e||(this.e={}))[a]||[]).slice(),d=0,v=f.length;for(d;d<v;d++)f[d].fn.apply(f[d].ctx,l);return this},off:function(a,l){var f=this.e||(this.e={}),d=f[a],v=[];if(d&&l)for(var m=0,C=d.length;m<C;m++)d[m].fn!==l&&d[m].fn._!==l&&v.push(d[m]);return v.length?f[a]=v:delete f[a],this}},o.exports=s,o.exports.TinyEmitter=s}},i={};function r(o){if(i[o])return i[o].exports;var s=i[o]={exports:{}};return n[o](s,s.exports,r),s.exports}return function(){r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,{a:s}),s}}(),function(){r.d=function(o,s){for(var a in s)r.o(s,a)&&!r.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:s[a]})}}(),function(){r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),r(686)}().default})})(k0);var c6=u6(k0.exports),f6=function(t,n){var i=Date.now(),r;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];Date.now()-i<n&&r&&clearTimeout(r),r=setTimeout(function(){t.apply(void 0,s)},n),i=Date.now()}},Bd={name:"JsonViewer",components:{JsonBox:Nu},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:function(t){return t.toLocaleString()}},previewMode:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,keyClick:this.keyClick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},emits:["onKeyClick"],computed:{jvClass:function(){return"jv-container jv-"+this.theme+(this.boxed?" boxed":"")},copyText:function(){var t=this.copyable,n=t.copyText,i=t.copiedText,r=t.timeout,o=t.align;return{copyText:n||"copy",copiedText:i||"copied!",timeout:r||2e3,align:o}}},watch:{value:function(){this.onResized()}},mounted:function(){var t=this;if(this.debounceResized=f6(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable){var n=new c6(this.$refs.clip,{text:function(){return JSON.stringify(t.value,null,2)}});n.on("success",function(i){t.onCopied(i)})}},methods:{onResized:function(){this.debounceResized()},debResized:function(){var t=this;this.$nextTick(function(){t.$refs.jsonBox&&(t.$refs.jsonBox.$el.clientHeight>=250?t.expandableCode=!0:t.expandableCode=!1)})},keyClick:function(t){this.$emit("onKeyClick",t)},onCopied:function(t){var n=this;this.copied||(this.copied=!0,setTimeout(function(){n.copied=!1},this.copyText.timeout),this.$emit("copied",t))},toggleExpandCode:function(){this.expandCode=!this.expandCode}}};function d6(e,t,n,i,r,o){var s=Be("json-box");return T(),A("div",{class:Ge(o.jvClass)},[n.copyable?(T(),A("div",{key:0,class:Ge("jv-tooltip ".concat(o.copyText.align||"right"))},[p("span",{ref:"clip",class:Ge(["jv-button",{copied:r.copied}])},[Gh(e.$slots,"copy",{copied:r.copied},function(){return[Ze(z(r.copied?o.copyText.copiedText:o.copyText.copyText),1)]})],2)],2)):Y("v-if",!0),p("div",{class:Ge(["jv-code",{open:r.expandCode,boxed:n.boxed}])},[ie(s,{ref:"jsonBox",value:n.value,sort:n.sort,"preview-mode":n.previewMode},null,8,["value","sort","preview-mode"])],2),r.expandableCode&&n.boxed?(T(),A("div",{key:1,class:"jv-more",onClick:t[0]||(t[0]=function(){return o.toggleExpandCode&&o.toggleExpandCode.apply(o,arguments)})},[p("span",{class:Ge(["jv-toggle",{open:!!r.expandCode}])},null,2)])):Y("v-if",!0)],2)}Bd.render=d6,Bd.__file="src/Components/json-viewer.vue";const p6={name:"ShowLoraRawInfo",components:{IconSvg:Gt,JsonViewer:Bd},data(){return{isOpen:!1,rawJson:{}}},methods:{open(e){this.rawJson=e,console.log(this.rawJson),this.isOpen=!0},close(){this.isOpen=!1},onCloseClick(){this.close()}}},h6={key:0,class:"setting-btns"};function g6(e,t,n,i,r,o){const s=Be("icon-svg"),a=Be("JsonViewer");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[4]||(t[4]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))},[p("div",{class:"hotkey-main",onClick:t[3]||(t[3]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[2]||(t[2]=We(()=>{},["stop"]))},[p("div",null,[ie(a,{value:r.rawJson,copyable:"",boxed:"",sort:"",theme:"dark"},null,8,["value"])]),e.loading?Y("",!0):(T(),A("div",h6,[p("div",{class:"hotkey-save hover-scale-",onClick:t[1]||(t[1]=(...l)=>o.onCloseClick&&o.onCloseClick(...l))}," 关闭 ")]))])])])):Y("",!0)]),_:1})}const m6={name:"LoraInfomation",components:{IconSvg:Gt,ShowLoraRawInfo:Dt(p6,[["render",g6]])},mixins:[Tn],data(){return{loraBaseInfo:{},loading:!1,isOpen:!1,loarGetInfo:{},selectWords:[],editRows:{name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:""}}},emits:["use"],computed:{},mounted(){},methods:{open(e){this.loraBaseInfo=e,this.isOpen=!0,this.loading=!0,this.$nextTick(function(){this.init()})},init(){const e=this.loraBaseInfo.name;this.loarGetInfo={},this.selectWords=[],this.editRows={name:!1,nameValue:"",min:!1,minValue:"",max:!1,maxValue:"",notes:!1,notesValue:"",loraWorks:!1,loraWorksValue:""},this.gradioAPI.getLoraInfo(e,!1,0).then(t=>{this.loarGetInfo=t.data.data,this.$nextTick(function(){var n,i,r,o,s,a;this.loarGetInfo.name=this.loarGetInfo.name||((i=(n=this.loarGetInfo.raw)===null||n===void 0?void 0:n.metadata)===null||i===void 0?void 0:i.ss_output_name===void 0?i["modelspec.title"]:i.ss_output_name)||"",this.editRows.nameValue=this.loarGetInfo.name,this.loarGetInfo.strengthMin=(r=this.loarGetInfo.strengthMin)!==null&&r!==void 0?r:"",this.editRows.minValue=this.loarGetInfo.strengthMin,this.loarGetInfo.strengthMax=(o=this.loarGetInfo.strengthMax)!==null&&o!==void 0?o:"",this.editRows.maxValue=this.loarGetInfo.strengthMax,this.loarGetInfo.userNote=(s=this.loarGetInfo.userNote)!==null&&s!==void 0?s:"",this.editRows.notesValue=this.loarGetInfo.userNote,this.loarGetInfo.loraWorks=(a=this.loarGetInfo.loraWorks)!==null&&a!==void 0?a:"",this.editRows.loraWorksValue=this.loarGetInfo.loraWorks,this.loading=!1})}).catch(t=>{ct({type:"warn",str:"加载失败 Loadding Fail"}),this.loading=!1})},refreshLoraInfo(){this.loading=!0;const e=this.loraBaseInfo.name;this.gradioAPI.getLoraRefresh(e).then(t=>{this.loarGetInfo=t.data.data,this.$nextTick(function(){this.loading=!1})}).catch(t=>{ct({type:"warn",str:"加载失败 Loadding Fail"}),this.loading=!1})},close(){this.isOpen=!1},clickWords(e){let t=!1;for(let n=0;n<this.selectWords.length;n++)if(this.selectWords[n]==e){t=!0,this.selectWords.splice(n,1);break}t||this.selectWords.push(e)},checkIsSelect(e){let t=!1;for(let n=0;n<this.selectWords.length;n++)if(this.selectWords[n]==e){t=!0;break}return t},copySelectWords(){const e=this.selectWords.toString();navigator.clipboard.writeText(e).then(t=>{ct({type:"success",str:"复制成功 Copy Success"})},t=>{ct({type:"warn",str:"复制失败 Copy Fail"})})},showEditOrSave(e){switch(e){case 1:this.editRows.name?(this.editRows.name=!1,this.saveInfo({name:this.editRows.nameValue})):this.editRows.name=!0;break;case 2:this.editRows.min?(this.editRows.min=!1,this.saveInfo({strengthMin:this.editRows.minValue})):this.editRows.min=!0;break;case 3:this.editRows.max?(this.editRows.max=!1,this.saveInfo({strengthMax:this.editRows.maxValue})):this.editRows.max=!0;break;case 4:this.editRows.notes?(this.editRows.notes=!1,this.saveInfo({userNote:this.editRows.notesValue})):this.editRows.notes=!0;break;case 5:this.editRows.loraWorks?(this.editRows.loraWorks=!1,this.saveInfo({loraWorks:this.editRows.loraWorksValue})):this.editRows.loraWorks=!0;break}},saveInfo(e){const t=this.loraBaseInfo.name;this.loading=!0,this.gradioAPI.postLoraSave(t,e).then(n=>{this.loarGetInfo=n.data.data,this.$nextTick(function(){var i,r,o,s,a;this.loarGetInfo.name=this.loarGetInfo.name||((r=(i=this.loarGetInfo.raw)===null||i===void 0?void 0:i.metadata)===null||r===void 0?void 0:r.ss_output_name===void 0?r["modelspec.title"]:r.ss_output_name)||"",this.editRows.nameValue=this.loarGetInfo.name,this.loarGetInfo.strengthMin=(o=this.loarGetInfo.strengthMin)!==null&&o!==void 0?o:"",this.editRows.minValue=this.loarGetInfo.strengthMin,this.loarGetInfo.strengthMax=(s=this.loarGetInfo.strengthMax)!==null&&s!==void 0?s:"",this.editRows.maxValue=this.loarGetInfo.strengthMax,this.loarGetInfo.userNote=(a=this.loarGetInfo.userNote)!==null&&a!==void 0?a:"",this.editRows.notesValue=this.loarGetInfo.userNote,this.loading=!1}),ct({type:"success",str:"编辑成功 Eidt Success"})}).catch(n=>{ct({type:"warn",str:"编辑失败 Edit Fail"}),this.loading=!1})},escEdit(e){switch(e){case 1:this.editRows.name=!1,this.editRows.nameValue=this.loarGetInfo.name;break;case 2:this.editRows.min=!1,this.editRows.minValue=this.loarGetInfo.strengthMin;break;case 3:this.editRows.max=!1,this.editRows.maxValue=this.loarGetInfo.strengthMax;break;case 4:this.editRows.notes=!1,this.editRows.notesValue=this.loarGetInfo.userNote;break;case 5:this.editRows.loraWorks=!1,this.editRows.loraWorksValue=this.loarGetInfo.loraWorks;break}},extractFileNameFromUrl(e){let n=new URL(e).pathname.split("/").pop();return n=n.split("?")[0],decodeURIComponent(n)},async saveLoraImg(e){try{const t=await fetch(e),n=this.extractFileNameFromUrl(e),i=await t.blob();this.gradioAPI.postUplaodImg(i,this.loarGetInfo.file,n).then(r=>{ct({type:"success",str:"设置成功"})}).catch(r=>{ct({type:"warn",str:"设置失败"})})}catch(t){ct({type:"warn",str:"设置失败"+t})}},lockLoraRawInfo(){this.loarGetInfo.raw!=null&&this.loarGetInfo.raw.metadata!=null&&this.$refs.showLoraRawInfo.open(this.loarGetInfo.raw.metadata)}}},v6={key:1},y6=p("div",{style:{"font-size":"20px","margin-bottom":"10px"}},"Lora信息",-1),b6={class:"rgthree-info-area"},C6=p("li",{class:"rgthree-info-menu",stub:"menu"},null,-1),_6={class:"rgthree-info-table"},w6={class:""},k6=p("td",null,[p("span",null,[Ze("文件 File "),p("span")])],-1),T6={colspan:"2"},x6=p("span",null,null,-1),S6={class:""},E6=p("td",null,[p("span",null,[Ze("哈希值Hash (sha256) "),p("span")])],-1),A6={colspan:"2"},L6=p("span",null,null,-1),O6={class:""},I6=p("td",null,[p("span",null,[Ze("C站 Civitai "),p("span")])],-1),N6={key:0,colspan:"2"},R6=["href"],P6=[p("svg",{viewBox:"0 0 178 178",class:"logo-civitai"},[p("defs",null,[p("linearGradient",{id:"bgblue",gradientUnits:"userSpaceOnUse",x1:"89.3",y1:"-665.5",x2:"89.3",y2:"-841.1",gradientTransform:"matrix(1 0 0 -1 0 -664)"},[p("stop",{offset:"0",style:{"stop-color":"#1284f7"}}),p("stop",{offset:"1",style:{"stop-color":"#0a20c9"}})])]),p("path",{fill:"#000",d:"M13.3,45.4v87.7l76,43.9l76-43.9V45.4l-76-43.9L13.3,45.4z"}),p("path",{style:{fill:"url(#bgblue)"},d:"M89.3,29.2l52,30v60l-52,30l-52-30v-60 L89.3,29.2 M89.3,1.5l-76,43.9v87.8l76,43.9l76-43.9V45.4L89.3,1.5z"}),p("path",{fill:"#FFF",d:"M104.1,97.2l-14.9,8.5l-14.9-8.5v-17l14.9-8.5l14.9,8.5h18.2V69.7l-33-19l-33,19v38.1l33,19l33-19V97.2H104.1z"})],-1),p("p",null,"前往C站查看 View on Civitai",-1)],M6={key:1,colspan:"2"},D6=[p("i",null,"未找到模型信息 Model not found",-1),p("span",{class:"-help",title:"The model was not found on civitai with the sha256 hash. It\\'s possible the model was removed, re-uploaded, or was never on civitai to begin with."},null,-1)],F6={key:2,colspan:"2"},B6=p("td",null,[p("span",null,[Ze("名称 Name "),p("span",{class:"-help",title:"The name for display."}),p("span")])],-1),$6={key:1,class:"strInfo"},j6={style:{width:"24px"}},H6=[p("svg",{viewBox:"0 0 64 64"},[p("path",{fill:"#ffce31",d:"M7.934 41.132L39.828 9.246l14.918 14.922l-31.895 31.886z"}),p("path",{d:"M61.3 4.6l-1.9-1.9C55.8-.9 50-.9 46.3 2.7l-6.5 6.5l15 15l6.5-6.5c3.6-3.6 3.6-9.5 0-13.1",fill:"#ed4c5c"}),p("path",{fill:"#93a2aa",d:"M35.782 13.31l4.1-4.102l14.92 14.92l-4.1 4.101z"}),p("path",{fill:"#c7d3d8",d:"M37.338 14.865l4.1-4.101l11.739 11.738l-4.102 4.1z"}),p("path",{fill:"#fed0ac",d:"M7.9 41.1l-6.5 17l4.5 4.5l17-6.5z"}),p("path",{d:"M.3 61.1c-.9 2.4.3 3.5 2.7 2.6l8.2-3.1l-7.7-7.7l-3.2 8.2",fill:"#333"}),p("path",{fill:"#ffdf85",d:"M7.89 41.175l27.86-27.86l4.95 4.95l-27.86 27.86z"}),p("path",{fill:"#ff8736",d:"M17.904 51.142l27.86-27.86l4.95 4.95l-27.86 27.86z"})],-1),p("svg",{viewBox:"-0.01 -0.008 100.016 100.016"},[p("path",{fill:"#26f",fill_:"#23475F",d:"M88.555-.008H83v.016a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2v-.016H4a4 4 0 0 0-4 4v92.016a4 4 0 0 0 4 4h92a4 4 0 0 0 4-4V11.517c.049-.089-11.436-11.454-11.445-11.525z"}),p("path",{fill:"#04d",fill_:"#1C3C50",d:"M81.04 53.008H18.96a2 2 0 0 0-2 2v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2 2 0 0 0 2-2V.547A1.993 1.993 0 0 1 81 2.007H19c-.916 0-1.681-.62-1.917-1.46v40.46a2 2 0 0 0 2 2.001z"}),p("path",{fill:"#EBF0F1",d:"M22 55.977h56a2 2 0 0 1 2 2v37.031a2 2 0 0 1-2 2H22c-1.104 0-2-.396-2-1.5V57.977a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M25 77.008h50v1H25v-1zm0 10h50v1H25v-1z"}),p("path",{fill:"#1C3C50",d:"M7 84.008h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm83 0h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M37 1.981v36.026a2 2 0 0 0 2 2h39a2 2 0 0 0 2-2V1.981c0 .007-42.982.007-43 0zm37 29.027a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2V10.981a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v20.027z"}),p("path",{fill:"#FF9D00",d:"M78 55.977H22a2 2 0 0 0-2 2v10.031h60V57.977a2 2 0 0 0-2-2z"})],-1)],V6={key:0,class:""},W6=p("td",null,[p("span",null,[Ze("基础模型 Base Model "),p("span")])],-1),U6={colspan:"2"},K6=p("span",null,null,-1),G6={key:1,class:""},z6=p("span",null,[Ze("训练词 Trained Words "),p("span",{class:"-help",title:"Trained words from the metadata and/or civitai. Click to select for copy."}),p("span"),p("small")],-1),q6={key:0},Y6={colspan:"2"},X6={class:"rgthree-info-trained-words-list"},J6=["index","title","data-word","onClick"],Z6={key:0},Q6=[p("svg",{viewBox:"0 0 178 178",class:"logo-civitai"},[p("defs",null,[p("linearGradient",{id:"bgblue",gradientUnits:"userSpaceOnUse",x1:"89.3",y1:"-665.5",x2:"89.3",y2:"-841.1",gradientTransform:"matrix(1 0 0 -1 0 -664)"},[p("stop",{offset:"0",style:{"stop-color":"#1284f7"}}),p("stop",{offset:"1",style:{"stop-color":"#0a20c9"}})])]),p("path",{fill:"#000",d:"M13.3,45.4v87.7l76,43.9l76-43.9V45.4l-76-43.9L13.3,45.4z"}),p("path",{style:{fill:"url(#bgblue)"},d:"M89.3,29.2l52,30v60l-52,30l-52-30v-60 L89.3,29.2 M89.3,1.5l-76,43.9v87.8l76,43.9l76-43.9V45.4L89.3,1.5z"}),p("path",{fill:"#FFF",d:"M104.1,97.2l-14.9,8.5l-14.9-8.5v-17l14.9-8.5l14.9,8.5h18.2V69.7l-33-19l-33,19v38.1l33,19l33-19V97.2H104.1z"})],-1)],e8={key:1},t8={key:2},n8=p("td",null,[p("span",null,[Ze("跳过层 Clip Skip "),p("span")])],-1),i8={colspan:"2"},r8=p("span",null,null,-1),o8=p("td",null,[p("span",null,[Ze("最佳模型强度 Best strength model "),p("span",{class:"-help",title:"Best strength model"}),p("span")])],-1),s8={key:1},a8={style:{width:"24px"}},l8=[p("svg",{viewBox:"0 0 64 64"},[p("path",{fill:"#ffce31",d:"M7.934 41.132L39.828 9.246l14.918 14.922l-31.895 31.886z"}),p("path",{d:"M61.3 4.6l-1.9-1.9C55.8-.9 50-.9 46.3 2.7l-6.5 6.5l15 15l6.5-6.5c3.6-3.6 3.6-9.5 0-13.1",fill:"#ed4c5c"}),p("path",{fill:"#93a2aa",d:"M35.782 13.31l4.1-4.102l14.92 14.92l-4.1 4.101z"}),p("path",{fill:"#c7d3d8",d:"M37.338 14.865l4.1-4.101l11.739 11.738l-4.102 4.1z"}),p("path",{fill:"#fed0ac",d:"M7.9 41.1l-6.5 17l4.5 4.5l17-6.5z"}),p("path",{d:"M.3 61.1c-.9 2.4.3 3.5 2.7 2.6l8.2-3.1l-7.7-7.7l-3.2 8.2",fill:"#333"}),p("path",{fill:"#ffdf85",d:"M7.89 41.175l27.86-27.86l4.95 4.95l-27.86 27.86z"}),p("path",{fill:"#ff8736",d:"M17.904 51.142l27.86-27.86l4.95 4.95l-27.86 27.86z"})],-1),p("svg",{viewBox:"-0.01 -0.008 100.016 100.016"},[p("path",{fill:"#26f",fill_:"#23475F",d:"M88.555-.008H83v.016a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2v-.016H4a4 4 0 0 0-4 4v92.016a4 4 0 0 0 4 4h92a4 4 0 0 0 4-4V11.517c.049-.089-11.436-11.454-11.445-11.525z"}),p("path",{fill:"#04d",fill_:"#1C3C50",d:"M81.04 53.008H18.96a2 2 0 0 0-2 2v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2 2 0 0 0 2-2V.547A1.993 1.993 0 0 1 81 2.007H19c-.916 0-1.681-.62-1.917-1.46v40.46a2 2 0 0 0 2 2.001z"}),p("path",{fill:"#EBF0F1",d:"M22 55.977h56a2 2 0 0 1 2 2v37.031a2 2 0 0 1-2 2H22c-1.104 0-2-.396-2-1.5V57.977a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M25 77.008h50v1H25v-1zm0 10h50v1H25v-1z"}),p("path",{fill:"#1C3C50",d:"M7 84.008h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm83 0h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M37 1.981v36.026a2 2 0 0 0 2 2h39a2 2 0 0 0 2-2V1.981c0 .007-42.982.007-43 0zm37 29.027a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2V10.981a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v20.027z"}),p("path",{fill:"#FF9D00",d:"M78 55.977H22a2 2 0 0 0-2 2v10.031h60V57.977a2 2 0 0 0-2-2z"})],-1)],u8=p("td",null,[p("span",null,[Ze("最佳CLIP强度 Best strength clip "),p("span",{class:"-help",title:"Best strength clip"}),p("span")])],-1),c8={key:1},f8={style:{width:"24px"}},d8=[p("svg",{viewBox:"0 0 64 64"},[p("path",{fill:"#ffce31",d:"M7.934 41.132L39.828 9.246l14.918 14.922l-31.895 31.886z"}),p("path",{d:"M61.3 4.6l-1.9-1.9C55.8-.9 50-.9 46.3 2.7l-6.5 6.5l15 15l6.5-6.5c3.6-3.6 3.6-9.5 0-13.1",fill:"#ed4c5c"}),p("path",{fill:"#93a2aa",d:"M35.782 13.31l4.1-4.102l14.92 14.92l-4.1 4.101z"}),p("path",{fill:"#c7d3d8",d:"M37.338 14.865l4.1-4.101l11.739 11.738l-4.102 4.1z"}),p("path",{fill:"#fed0ac",d:"M7.9 41.1l-6.5 17l4.5 4.5l17-6.5z"}),p("path",{d:"M.3 61.1c-.9 2.4.3 3.5 2.7 2.6l8.2-3.1l-7.7-7.7l-3.2 8.2",fill:"#333"}),p("path",{fill:"#ffdf85",d:"M7.89 41.175l27.86-27.86l4.95 4.95l-27.86 27.86z"}),p("path",{fill:"#ff8736",d:"M17.904 51.142l27.86-27.86l4.95 4.95l-27.86 27.86z"})],-1),p("svg",{viewBox:"-0.01 -0.008 100.016 100.016"},[p("path",{fill:"#26f",fill_:"#23475F",d:"M88.555-.008H83v.016a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2v-.016H4a4 4 0 0 0-4 4v92.016a4 4 0 0 0 4 4h92a4 4 0 0 0 4-4V11.517c.049-.089-11.436-11.454-11.445-11.525z"}),p("path",{fill:"#04d",fill_:"#1C3C50",d:"M81.04 53.008H18.96a2 2 0 0 0-2 2v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2 2 0 0 0 2-2V.547A1.993 1.993 0 0 1 81 2.007H19c-.916 0-1.681-.62-1.917-1.46v40.46a2 2 0 0 0 2 2.001z"}),p("path",{fill:"#EBF0F1",d:"M22 55.977h56a2 2 0 0 1 2 2v37.031a2 2 0 0 1-2 2H22c-1.104 0-2-.396-2-1.5V57.977a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M25 77.008h50v1H25v-1zm0 10h50v1H25v-1z"}),p("path",{fill:"#1C3C50",d:"M7 84.008h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm83 0h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M37 1.981v36.026a2 2 0 0 0 2 2h39a2 2 0 0 0 2-2V1.981c0 .007-42.982.007-43 0zm37 29.027a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2V10.981a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v20.027z"}),p("path",{fill:"#FF9D00",d:"M78 55.977H22a2 2 0 0 0-2 2v10.031h60V57.977a2 2 0 0 0-2-2z"})],-1)],p8=p("td",null,[p("span",null,[Ze("Lora提示词-添加Lora时会自动加上提示词 "),p("span",{class:"-help",title:"Lora Prompt word - When you add Lora, a prompt word is automatically added"}),p("span")])],-1),h8={key:1,class:"strInfo"},g8=p("span",null,null,-1),m8={style:{width:"24px"}},v8=[p("svg",{viewBox:"0 0 64 64"},[p("path",{fill:"#ffce31",d:"M7.934 41.132L39.828 9.246l14.918 14.922l-31.895 31.886z"}),p("path",{d:"M61.3 4.6l-1.9-1.9C55.8-.9 50-.9 46.3 2.7l-6.5 6.5l15 15l6.5-6.5c3.6-3.6 3.6-9.5 0-13.1",fill:"#ed4c5c"}),p("path",{fill:"#93a2aa",d:"M35.782 13.31l4.1-4.102l14.92 14.92l-4.1 4.101z"}),p("path",{fill:"#c7d3d8",d:"M37.338 14.865l4.1-4.101l11.739 11.738l-4.102 4.1z"}),p("path",{fill:"#fed0ac",d:"M7.9 41.1l-6.5 17l4.5 4.5l17-6.5z"}),p("path",{d:"M.3 61.1c-.9 2.4.3 3.5 2.7 2.6l8.2-3.1l-7.7-7.7l-3.2 8.2",fill:"#333"}),p("path",{fill:"#ffdf85",d:"M7.89 41.175l27.86-27.86l4.95 4.95l-27.86 27.86z"}),p("path",{fill:"#ff8736",d:"M17.904 51.142l27.86-27.86l4.95 4.95l-27.86 27.86z"})],-1),p("svg",{viewBox:"-0.01 -0.008 100.016 100.016"},[p("path",{fill:"#26f",fill_:"#23475F",d:"M88.555-.008H83v.016a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2v-.016H4a4 4 0 0 0-4 4v92.016a4 4 0 0 0 4 4h92a4 4 0 0 0 4-4V11.517c.049-.089-11.436-11.454-11.445-11.525z"}),p("path",{fill:"#04d",fill_:"#1C3C50",d:"M81.04 53.008H18.96a2 2 0 0 0-2 2v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2 2 0 0 0 2-2V.547A1.993 1.993 0 0 1 81 2.007H19c-.916 0-1.681-.62-1.917-1.46v40.46a2 2 0 0 0 2 2.001z"}),p("path",{fill:"#EBF0F1",d:"M22 55.977h56a2 2 0 0 1 2 2v37.031a2 2 0 0 1-2 2H22c-1.104 0-2-.396-2-1.5V57.977a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M25 77.008h50v1H25v-1zm0 10h50v1H25v-1z"}),p("path",{fill:"#1C3C50",d:"M7 84.008h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm83 0h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M37 1.981v36.026a2 2 0 0 0 2 2h39a2 2 0 0 0 2-2V1.981c0 .007-42.982.007-43 0zm37 29.027a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2V10.981a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v20.027z"}),p("path",{fill:"#FF9D00",d:"M78 55.977H22a2 2 0 0 0-2 2v10.031h60V57.977a2 2 0 0 0-2-2z"})],-1)],y8=p("td",null,[p("span",null,[Ze("额外注释 Additional Notes "),p("span",{class:"-help",title:"Additional notes you'd like to keep and reference in the info dialog."}),p("span")])],-1),b8={key:1,class:"strInfo"},C8=p("span",null,null,-1),_8={style:{width:"24px"}},w8=[p("svg",{viewBox:"0 0 64 64"},[p("path",{fill:"#ffce31",d:"M7.934 41.132L39.828 9.246l14.918 14.922l-31.895 31.886z"}),p("path",{d:"M61.3 4.6l-1.9-1.9C55.8-.9 50-.9 46.3 2.7l-6.5 6.5l15 15l6.5-6.5c3.6-3.6 3.6-9.5 0-13.1",fill:"#ed4c5c"}),p("path",{fill:"#93a2aa",d:"M35.782 13.31l4.1-4.102l14.92 14.92l-4.1 4.101z"}),p("path",{fill:"#c7d3d8",d:"M37.338 14.865l4.1-4.101l11.739 11.738l-4.102 4.1z"}),p("path",{fill:"#fed0ac",d:"M7.9 41.1l-6.5 17l4.5 4.5l17-6.5z"}),p("path",{d:"M.3 61.1c-.9 2.4.3 3.5 2.7 2.6l8.2-3.1l-7.7-7.7l-3.2 8.2",fill:"#333"}),p("path",{fill:"#ffdf85",d:"M7.89 41.175l27.86-27.86l4.95 4.95l-27.86 27.86z"}),p("path",{fill:"#ff8736",d:"M17.904 51.142l27.86-27.86l4.95 4.95l-27.86 27.86z"})],-1),p("svg",{viewBox:"-0.01 -0.008 100.016 100.016"},[p("path",{fill:"#26f",fill_:"#23475F",d:"M88.555-.008H83v.016a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2v-.016H4a4 4 0 0 0-4 4v92.016a4 4 0 0 0 4 4h92a4 4 0 0 0 4-4V11.517c.049-.089-11.436-11.454-11.445-11.525z"}),p("path",{fill:"#04d",fill_:"#1C3C50",d:"M81.04 53.008H18.96a2 2 0 0 0-2 2v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2 2 0 0 0 2-2V.547A1.993 1.993 0 0 1 81 2.007H19c-.916 0-1.681-.62-1.917-1.46v40.46a2 2 0 0 0 2 2.001z"}),p("path",{fill:"#EBF0F1",d:"M22 55.977h56a2 2 0 0 1 2 2v37.031a2 2 0 0 1-2 2H22c-1.104 0-2-.396-2-1.5V57.977a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M25 77.008h50v1H25v-1zm0 10h50v1H25v-1z"}),p("path",{fill:"#1C3C50",d:"M7 84.008h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm83 0h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2z"}),p("path",{fill:"#BCC4C8",d:"M37 1.981v36.026a2 2 0 0 0 2 2h39a2 2 0 0 0 2-2V1.981c0 .007-42.982.007-43 0zm37 29.027a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2V10.981a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v20.027z"}),p("path",{fill:"#FF9D00",d:"M78 55.977H22a2 2 0 0 0-2 2v10.031h60V57.977a2 2 0 0 0-2-2z"})],-1)],k8={key:1,class:"rgthree-info-images"},T8=["index"],x8={style:{position:"relative"}},S8=["onClick"],E8=["src"],A8={key:0},L8=p("label",null,null,-1),O8=["href"],I8=p("svg",{viewBox:"0 0 640 512"},[p("path",{d:"M598.6 41.41C570.1 13.8 534.8 0 498.6 0s-72.36 13.8-99.96 41.41l-43.36 43.36c15.11 8.012 29.47 17.58 41.91 30.02c3.146 3.146 5.898 6.518 8.742 9.838l37.96-37.96C458.5 72.05 477.1 64 498.6 64c20.67 0 40.1 8.047 54.71 22.66c14.61 14.61 22.66 34.04 22.66 54.71s-8.049 40.1-22.66 54.71l-133.3 133.3C405.5 343.1 386 352 365.4 352s-40.1-8.048-54.71-22.66C296 314.7 287.1 295.3 287.1 274.6s8.047-40.1 22.66-54.71L314.2 216.4C312.1 212.5 309.9 208.5 306.7 205.3C298.1 196.7 286.8 192 274.6 192c-11.93 0-23.1 4.664-31.61 12.97c-30.71 53.96-23.63 123.6 22.39 169.6C293 402.2 329.2 416 365.4 416c36.18 0 72.36-13.8 99.96-41.41L598.6 241.3c28.45-28.45 42.24-66.01 41.37-103.3C639.1 102.1 625.4 68.16 598.6 41.41zM234 387.4L196.1 425.3C181.5 439.1 162 448 141.4 448c-20.67 0-40.1-8.047-54.71-22.66c-14.61-14.61-22.66-34.04-22.66-54.71s8.049-40.1 22.66-54.71l133.3-133.3C234.5 168 253.1 160 274.6 160s40.1 8.048 54.71 22.66c14.62 14.61 22.66 34.04 22.66 54.71s-8.047 40.1-22.66 54.71L325.8 295.6c2.094 3.939 4.219 7.895 7.465 11.15C341.9 315.3 353.3 320 365.4 320c11.93 0 23.1-4.664 31.61-12.97c30.71-53.96 23.63-123.6-22.39-169.6C346.1 109.8 310.8 96 274.6 96C238.4 96 202.3 109.8 174.7 137.4L41.41 270.7c-27.6 27.6-41.41 63.78-41.41 99.96c-.0001 36.18 13.8 72.36 41.41 99.97C69.01 498.2 105.2 512 141.4 512c36.18 0 72.36-13.8 99.96-41.41l43.36-43.36c-15.11-8.012-29.47-17.58-41.91-30.02C239.6 394.1 236.9 390.7 234 387.4z"})],-1),N8={key:1},R8=p("label",null,"种子 seed",-1),P8={key:2},M8=p("label",null,"步数 steps",-1),D8={key:3},F8=p("label",null,"引导系数 cfg",-1),B8={key:4},$8=p("label",null,"采样器 sampler",-1),j8={key:5},H8=p("label",null,"基础模型 model",-1),V8={key:6},W8=p("label",null,"正向提示词 positive",-1),U8={key:7},K8=p("label",null,"反向提示词 negative",-1);function G8(e,t,n,i,r,o){const s=Be("icon-svg"),a=Be("ShowLoraRawInfo");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-about-prompt",onClick:t[27]||(t[27]=(...l)=>o.close&&o.close(...l))},[p("div",{class:"lorainfo-main",onClick:t[26]||(t[26]=We(()=>{},["stop"]))},[p("div",{class:"lorainfo-close",onClick:t[0]||(t[0]=(...l)=>o.close&&o.close(...l))},[ie(s,{name:"close"})]),p("div",{class:"lorainfo-body",onClick:t[25]||(t[25]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):(T(),A("div",v6,[y6,p("ul",b6,[p("li",{title:"Type",class:Ge("rgthree-info-tag -type -type-"+(r.loarGetInfo.type||"").toLowerCase())},[p("span",null,z(r.loarGetInfo.type||""),1)],2),p("li",{title:"Base Model",class:Ge("rgthree-info-tag -basemodel -basemodel-"+(r.loarGetInfo.baseModel||"").toLowerCase())},[p("span",null,z(r.loarGetInfo.baseModel||""),1)],2),C6]),p("table",_6,[p("tbody",null,[p("tr",w6,[k6,p("td",T6,[p("span",null,[Ze(z(r.loarGetInfo.file),1),x6])])]),p("tr",S6,[E6,p("td",A6,[p("span",null,[Ze(z(r.loarGetInfo.sha256),1),L6])])]),p("tr",O6,[I6,!((e._a=r.loarGetInfo.links)===null||e._a===void 0)&&e._a.find(l=>l.includes("civitai.com/models"))?(T(),A("td",N6,[p("a",{href:(e._a=r.loarGetInfo.links)===null||e._a===void 0?void 0:e._a.find(l=>l.includes("civitai.com/models")),target:"_blank"},P6,8,R6),p("button",{class:"rgthree-button",onClick:t[1]||(t[1]=(...l)=>o.refreshLoraInfo&&o.refreshLoraInfo(...l))}," 刷新 Refresh ")])):((e._c=(e._b=r.loarGetInfo.raw)===null||e._b===void 0?void 0:e._b.civitai)===null||e._c===void 0?void 0:e._c.error)==="Model not found"?(T(),A("td",M6,D6)):(T(),A("td",F6,[p("button",{class:"rgthree-button",onClick:t[2]||(t[2]=(...l)=>o.refreshLoraInfo&&o.refreshLoraInfo(...l))}," 从C站获取信息 Fetch info from civitai ")]))]),p("tr",{class:Ge("editable"+(r.editRows.name?" -rgthree-editing":"")),"data-field-name":"name"},[B6,p("td",null,[r.editRows.name?oe((T(),A("input",{key:0,input:"",type:"text",onKeyup:[t[3]||(t[3]=Mi(l=>o.showEditOrSave(1),["enter"])),t[4]||(t[4]=Mi(l=>o.escEdit(1),["esc"]))],"onUpdate:modelValue":t[5]||(t[5]=l=>r.editRows.nameValue=l)},null,544)),[[_t,r.editRows.nameValue]]):(T(),A("span",$6,z(r.loarGetInfo.name),1))]),p("td",j6,[p("button",{class:"rgthree-button-reset rgthree-button-edit","data-action":"edit-row",onClick:t[6]||(t[6]=l=>o.showEditOrSave(1))},H6)])],2),!r.loarGetInfo.baseModelFile&&!r.loarGetInfo.baseModelFile?Y("",!0):(T(),A("tr",V6,[W6,p("td",U6,[p("span",null,[Ze(z(!r.loarGetInfo.baseModelFile&&!r.loarGetInfo.baseModelFile?"":(r.loarGetInfo.baseModel||"")+(r.loarGetInfo.baseModelFile?`
                      (${r.loarGetInfo.baseModelFile})`:"")),1),K6])])])),!((e._l=r.loarGetInfo.trainedWords)===null||e._l===void 0)&&e._l.length?(T(),A("tr",G6,[p("td",null,[z6,r.selectWords.length>0?(T(),A("small",q6,[Ze(" 已选择 selected "+z(r.selectWords.length)+" 个 Words | ",1),p("span",{role:"button","data-action":"copy-trained-words",onClick:t[7]||(t[7]=(...l)=>o.copySelectWords&&o.copySelectWords(...l))},"复制 Copy")])):Y("",!0)]),p("td",Y6,[p("ul",X6,[(T(!0),A(Pe,null,et(r.loarGetInfo.trainedWords,(l,f)=>(T(),A("li",{key:f,index:f,title:l.word,"data-word":l.word,class:Ge("rgthree-info-trained-words-list-item"+(o.checkIsSelect(l.word)?" -rgthree-is-selected":"")),onClick:d=>o.clickWords(l.word)},[p("span",null,z(l.word),1),l.civitai?(T(),A("div",Z6,Q6)):Y("",!0),l.count!=null?(T(),A("small",e8,z(l.count),1)):Y("",!0)],10,J6))),128))])])])):Y("",!0),!((e._p=(e._o=r.loarGetInfo.raw)===null||e._o===void 0?void 0:e._o.metadata)===null||e._p===void 0)&&e._p.ss_clip_skip||((e._r=(e._q=r.loarGetInfo.raw)===null||e._q===void 0?void 0:e._q.metadata)===null||e._r===void 0?void 0:e._r.ss_clip_skip)=="None"?(T(),A("tr",t8,[n8,p("td",i8,[p("span",null,[Ze(z((e._t=(e._s=r.loarGetInfo.raw)===null||e._s===void 0?void 0:e._s.metadata)===null||e._t===void 0?void 0:e._t.ss_clip_skip),1),r8])])])):Y("",!0),p("tr",{class:Ge("editable"+(r.editRows.min?" -rgthree-editing":"")),"data-field-name":"strengthMin"},[o8,p("td",null,[r.editRows.min?oe((T(),A("input",{key:0,type:"text",onKeyup:[t[8]||(t[8]=Mi(l=>o.showEditOrSave(2),["enter"])),t[9]||(t[9]=Mi(l=>o.escEdit(2),["esc"]))],"onUpdate:modelValue":t[10]||(t[10]=l=>r.editRows.minValue=l)},null,544)),[[_t,r.editRows.minValue]]):(T(),A("span",s8,z(r.loarGetInfo.strengthMin),1))]),p("td",a8,[p("button",{onClick:t[11]||(t[11]=l=>o.showEditOrSave(2)),class:"rgthree-button-reset rgthree-button-edit","data-action":"edit-row"},l8)])],2),p("tr",{class:Ge("editable"+(r.editRows.max?" -rgthree-editing":"")),"data-field-name":"strengthMax"},[u8,p("td",null,[r.editRows.max?oe((T(),A("input",{key:0,type:"text",onKeyup:[t[12]||(t[12]=Mi(l=>o.showEditOrSave(3),["enter"])),t[13]||(t[13]=Mi(l=>o.escEdit(3),["esc"]))],"onUpdate:modelValue":t[14]||(t[14]=l=>r.editRows.maxValue=l)},null,544)),[[_t,r.editRows.maxValue]]):(T(),A("span",c8,z(r.loarGetInfo.strengthMax),1))]),p("td",f8,[p("button",{onClick:t[15]||(t[15]=l=>o.showEditOrSave(3)),class:"rgthree-button-reset rgthree-button-edit","data-action":"edit-row"},d8)])],2),p("tr",{class:Ge("editable"+(r.editRows.loraWorks?" -rgthree-editing":"")),"data-field-name":"loraWords"},[p8,p("td",null,[r.editRows.loraWorks?oe((T(),A("textarea",{key:0,onKeyup:[t[16]||(t[16]=Mi(l=>o.showEditOrSave(5),["enter"])),t[17]||(t[17]=Mi(l=>o.escEdit(5),["esc"]))],"onUpdate:modelValue":t[18]||(t[18]=l=>r.editRows.loraWorksValue=l)},null,544)),[[_t,r.editRows.loraWorksValue]]):(T(),A("span",h8,[Ze(z(r.loarGetInfo.loraWorks),1),g8]))]),p("td",m8,[p("button",{onClick:t[19]||(t[19]=l=>o.showEditOrSave(5)),class:"rgthree-button-reset rgthree-button-edit","data-action":"edit-row"},v8)])],2),p("tr",{class:Ge("editable"+(r.editRows.notes?" -rgthree-editing":"")),"data-field-name":"userNote"},[y8,p("td",null,[r.editRows.notes?oe((T(),A("textarea",{key:0,onKeyup:[t[20]||(t[20]=Mi(l=>o.showEditOrSave(4),["enter"])),t[21]||(t[21]=Mi(l=>o.escEdit(4),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=l=>r.editRows.notesValue=l)},null,544)),[[_t,r.editRows.notesValue]]):(T(),A("span",b8,[Ze(z(r.loarGetInfo.userNote),1),C8]))]),p("td",_8,[p("button",{onClick:t[23]||(t[23]=l=>o.showEditOrSave(4)),class:"rgthree-button-reset rgthree-button-edit","data-action":"edit-row"},w8)])],2)])]),r.loarGetInfo.raw!=null&&r.loarGetInfo.raw.metadata!=null?(T(),A("button",{key:0,class:"rgthree-button",onClick:t[24]||(t[24]=l=>o.lockLoraRawInfo())}," 查看 Lora RAW 信息 ")):Y("",!0),r.loarGetInfo.images!=null?(T(),A("ul",k8,[(T(!0),A(Pe,null,et(r.loarGetInfo.images,(l,f)=>(T(),A("li",{index:f,key:f},[p("figure",null,[p("div",x8,[p("div",{style:{position:"absolute",width:"fit-content",height:"20px",color:"rgb(255, 255, 255)","z-index":"10",right:"0px",top:"0px","font-size":"12px",cursor:"pointer",padding:"10px","background-color":"rgba(0, 0, 0, 0.5)",display:"flex","align-items":"center","justify-content":"center"},onClick:d=>o.saveLoraImg(l.url)}," 设置为Lora封面 ",8,S8),p("img",{style:{"max-height":"450px","max-width":"200px"},src:l.url},null,8,E8)]),p("figcaption",null,[l.civitaiUrl!=null?(T(),A("span",A8,[L8,p("a",{href:l.civitaiUrl,target:"_blank"},[Ze("C站 civitai "),I8],8,O8)])):Y("",!0),l.seed!=null?(T(),A("span",N8,[R8,Ze(" "+z(l.seed),1)])):Y("",!0),l.steps!=null?(T(),A("span",P8,[M8,Ze(" "+z(l.steps),1)])):Y("",!0),l.cfg!=null?(T(),A("span",D8,[F8,Ze(" "+z(l.cfg),1)])):Y("",!0),l.sampler!=null?(T(),A("span",B8,[$8,Ze(" "+z(l.sampler),1)])):Y("",!0),l.model!=null?(T(),A("span",j8,[H8,Ze(" "+z(l.model),1)])):Y("",!0),l.positive!=null?(T(),A("span",V8,[W8,Ze(" "+z(l.positive),1)])):Y("",!0),l.negative!=null?(T(),A("span",U8,[K8,Ze(" "+z(l.negative),1)])):Y("",!0)])])],8,T8))),128))])):Y("",!0)]))])]),ie(a,{ref:"showLoraRawInfo"},null,512)])):Y("",!0)]),_:1})}const z8=Dt(m6,[["render",G8]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function T0(e){return typeof e>"u"||e===null}function q8(e){return typeof e=="object"&&e!==null}function Y8(e){return Array.isArray(e)?e:T0(e)?[]:[e]}function X8(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function J8(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function Z8(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Q8=T0,e9=q8,t9=Y8,n9=J8,i9=Z8,r9=X8,ln={isNothing:Q8,isObject:e9,toArray:t9,repeat:n9,isNegativeZero:i9,extend:r9};function x0(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function Na(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=x0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Na.prototype=Object.create(Error.prototype),Na.prototype.constructor=Na,Na.prototype.toString=function(t){return this.name+": "+x0(this,t)};var Pn=Na;function $d(e,t,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-t>a&&(o=" ... ",t=i-a+o.length),n-i>a&&(s=" ...",n=i+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:i-t+o.length}}function jd(e,t){return ln.repeat(" ",t-e.length)+e}function o9(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,s=-1;o=n.exec(e.buffer);)r.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a="",l,f,d=Math.min(e.line+t.linesAfter,r.length).toString().length,v=t.maxLength-(t.indent+d+3);for(l=1;l<=t.linesBefore&&!(s-l<0);l++)f=$d(e.buffer,i[s-l],r[s-l],e.position-(i[s]-i[s-l]),v),a=ln.repeat(" ",t.indent)+jd((e.line-l+1).toString(),d)+" | "+f.str+`
`+a;for(f=$d(e.buffer,i[s],r[s],e.position,v),a+=ln.repeat(" ",t.indent)+jd((e.line+1).toString(),d)+" | "+f.str+`
`,a+=ln.repeat("-",t.indent+d+3+f.pos)+`^
`,l=1;l<=t.linesAfter&&!(s+l>=r.length);l++)f=$d(e.buffer,i[s+l],r[s+l],e.position-(i[s]-i[s+l]),v),a+=ln.repeat(" ",t.indent)+jd((e.line+l+1).toString(),d)+" | "+f.str+`
`;return a.replace(/\n$/,"")}var s9=o9,a9=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],l9=["scalar","sequence","mapping"];function u9(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function c9(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(a9.indexOf(n)===-1)throw new Pn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=u9(t.styleAliases||null),l9.indexOf(this.kind)===-1)throw new Pn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var bn=c9;function S0(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=s)}),n[r]=i}),n}function f9(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function Hd(e){return this.extend(e)}Hd.prototype.extend=function(t){var n=[],i=[];if(t instanceof bn)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Pn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof bn))throw new Pn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Pn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Pn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof bn))throw new Pn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Hd.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=S0(r,"implicit"),r.compiledExplicit=S0(r,"explicit"),r.compiledTypeMap=f9(r.compiledImplicit,r.compiledExplicit),r};var E0=Hd,A0=new bn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),L0=new bn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),O0=new bn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),I0=new E0({explicit:[A0,L0,O0]});function d9(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function p9(){return null}function h9(e){return e===null}var N0=new bn("tag:yaml.org,2002:null",{kind:"scalar",resolve:d9,construct:p9,predicate:h9,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function g9(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function m9(e){return e==="true"||e==="True"||e==="TRUE"}function v9(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var R0=new bn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:g9,construct:m9,predicate:v9,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function y9(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function b9(e){return 48<=e&&e<=55}function C9(e){return 48<=e&&e<=57}function _9(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!y9(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!b9(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!C9(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function w9(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function k9(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ln.isNegativeZero(e)}var P0=new bn("tag:yaml.org,2002:int",{kind:"scalar",resolve:_9,construct:w9,predicate:k9,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),T9=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function x9(e){return!(e===null||!T9.test(e)||e[e.length-1]==="_")}function S9(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var E9=/^[-+]?[0-9]+e/;function A9(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ln.isNegativeZero(e))return"-0.0";return n=e.toString(10),E9.test(n)?n.replace("e",".e"):n}function L9(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ln.isNegativeZero(e))}var M0=new bn("tag:yaml.org,2002:float",{kind:"scalar",resolve:x9,construct:S9,predicate:L9,represent:A9,defaultStyle:"lowercase"}),D0=I0.extend({implicit:[N0,R0,P0,M0]}),F0=D0,B0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function O9(e){return e===null?!1:B0.exec(e)!==null||$0.exec(e)!==null}function I9(e){var t,n,i,r,o,s,a,l=0,f=null,d,v,m;if(t=B0.exec(e),t===null&&(t=$0.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(d=+t[10],v=+(t[11]||0),f=(d*60+v)*6e4,t[9]==="-"&&(f=-f)),m=new Date(Date.UTC(n,i,r,o,s,a,l)),f&&m.setTime(m.getTime()-f),m}function N9(e){return e.toISOString()}var j0=new bn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:O9,construct:I9,instanceOf:Date,represent:N9});function R9(e){return e==="<<"||e===null}var H0=new bn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:R9}),Vd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function P9(e){if(e===null)return!1;var t,n,i=0,r=e.length,o=Vd;for(n=0;n<r;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function M9(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=Vd,s=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(i.charAt(t));return n=r%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function D9(e){var t="",n=0,i,r,o=e.length,s=Vd;for(i=0;i<o;i++)i%3===0&&i&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[i];return r=o%3,r===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):r===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):r===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function F9(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var V0=new bn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:P9,construct:M9,predicate:F9,represent:D9}),B9=Object.prototype.hasOwnProperty,$9=Object.prototype.toString;function j9(e){if(e===null)return!0;var t=[],n,i,r,o,s,a=e;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],s=!1,$9.call(r)!=="[object Object]")return!1;for(o in r)if(B9.call(r,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function H9(e){return e!==null?e:[]}var W0=new bn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:j9,construct:H9}),V9=Object.prototype.toString;function W9(e){if(e===null)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(i=s[t],V9.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[t]=[r[0],i[r[0]]]}return!0}function U9(e){if(e===null)return[];var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)i=s[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var U0=new bn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:W9,construct:U9}),K9=Object.prototype.hasOwnProperty;function G9(e){if(e===null)return!0;var t,n=e;for(t in n)if(K9.call(n,t)&&n[t]!==null)return!1;return!0}function z9(e){return e!==null?e:{}}var K0=new bn("tag:yaml.org,2002:set",{kind:"mapping",resolve:G9,construct:z9}),Wd=F0.extend({implicit:[j0,H0],explicit:[V0,W0,U0,K0]}),Dr=Object.prototype.hasOwnProperty,Ru=1,G0=2,z0=3,Pu=4,Ud=1,q9=2,q0=3,Y9=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,X9=/[\x85\u2028\u2029]/,J9=/[,\[\]\{\}]/,Y0=/^(?:!|!!|![a-z\-]+!)$/i,X0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function J0(e){return Object.prototype.toString.call(e)}function Hi(e){return e===10||e===13}function yo(e){return e===9||e===32}function Un(e){return e===9||e===32||e===10||e===13}function gs(e){return e===44||e===91||e===93||e===123||e===125}function Z9(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Q9(e){return e===120?2:e===117?4:e===85?8:0}function eF(e){return 48<=e&&e<=57?e-48:-1}function Z0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function tF(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}for(var Q0=new Array(256),eb=new Array(256),ms=0;ms<256;ms++)Q0[ms]=Z0(ms)?1:0,eb[ms]=Z0(ms);function nF(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Wd,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function tb(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=s9(n),new Pn(t,n)}function Ye(e,t){throw tb(e,t)}function Mu(e,t){e.onWarning&&e.onWarning.call(null,tb(e,t))}var nb={YAML:function(t,n,i){var r,o,s;t.version!==null&&Ye(t,"duplication of %YAML directive"),i.length!==1&&Ye(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Ye(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),s=parseInt(r[2],10),o!==1&&Ye(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Mu(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,o;i.length!==2&&Ye(t,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],Y0.test(r)||Ye(t,"ill-formed tag handle (first argument) of the TAG directive"),Dr.call(t.tagMap,r)&&Ye(t,'there is a previously declared suffix for "'+r+'" tag handle'),X0.test(o)||Ye(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ye(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function Fr(e,t,n,i){var r,o,s,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,o=a.length;r<o;r+=1)s=a.charCodeAt(r),s===9||32<=s&&s<=1114111||Ye(e,"expected valid JSON character");else Y9.test(a)&&Ye(e,"the stream contains non-printable characters");e.result+=a}}function ib(e,t,n,i){var r,o,s,a;for(ln.isObject(n)||Ye(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],Dr.call(t,o)||(t[o]=n[o],i[o]=!0)}function vs(e,t,n,i,r,o,s,a,l){var f,d;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),f=0,d=r.length;f<d;f+=1)Array.isArray(r[f])&&Ye(e,"nested arrays are not supported inside keys"),typeof r=="object"&&J0(r[f])==="[object Object]"&&(r[f]="[object Object]");if(typeof r=="object"&&J0(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(f=0,d=o.length;f<d;f+=1)ib(e,t,o[f],n);else ib(e,t,o,n);else!e.json&&!Dr.call(n,r)&&Dr.call(t,r)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,Ye(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function Kd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ye(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function rn(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;yo(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Hi(r))for(Kd(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Mu(e,"deficient indentation"),i}function Du(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Un(n)))}function Gd(e,t){t===1?e.result+=" ":t>1&&(e.result+=ln.repeat(`
`,t-1))}function iF(e,t,n){var i,r,o,s,a,l,f,d,v=e.kind,m=e.result,C;if(C=e.input.charCodeAt(e.position),Un(C)||gs(C)||C===35||C===38||C===42||C===33||C===124||C===62||C===39||C===34||C===37||C===64||C===96||(C===63||C===45)&&(r=e.input.charCodeAt(e.position+1),Un(r)||n&&gs(r)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;C!==0;){if(C===58){if(r=e.input.charCodeAt(e.position+1),Un(r)||n&&gs(r))break}else if(C===35){if(i=e.input.charCodeAt(e.position-1),Un(i))break}else{if(e.position===e.lineStart&&Du(e)||n&&gs(C))break;if(Hi(C))if(l=e.line,f=e.lineStart,d=e.lineIndent,rn(e,!1,-1),e.lineIndent>=t){a=!0,C=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=l,e.lineStart=f,e.lineIndent=d;break}}a&&(Fr(e,o,s,!1),Gd(e,e.line-l),o=s=e.position,a=!1),yo(C)||(s=e.position+1),C=e.input.charCodeAt(++e.position)}return Fr(e,o,s,!1),e.result?!0:(e.kind=v,e.result=m,!1)}function rF(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Fr(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else Hi(n)?(Fr(e,i,r,!0),Gd(e,rn(e,!1,t)),i=r=e.position):e.position===e.lineStart&&Du(e)?Ye(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Ye(e,"unexpected end of the stream within a single quoted scalar")}function oF(e,t){var n,i,r,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Fr(e,n,e.position,!0),e.position++,!0;if(a===92){if(Fr(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),Hi(a))rn(e,!1,t);else if(a<256&&Q0[a])e.result+=eb[a],e.position++;else if((s=Q9(a))>0){for(r=s,o=0;r>0;r--)a=e.input.charCodeAt(++e.position),(s=Z9(a))>=0?o=(o<<4)+s:Ye(e,"expected hexadecimal character");e.result+=tF(o),e.position++}else Ye(e,"unknown escape sequence");n=i=e.position}else Hi(a)?(Fr(e,n,i,!0),Gd(e,rn(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Du(e)?Ye(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Ye(e,"unexpected end of the stream within a double quoted scalar")}function sF(e,t){var n=!0,i,r,o,s=e.tag,a,l=e.anchor,f,d,v,m,C,b=Object.create(null),k,x,L,$;if($=e.input.charCodeAt(e.position),$===91)d=93,C=!1,a=[];else if($===123)d=125,C=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),$=e.input.charCodeAt(++e.position);$!==0;){if(rn(e,!0,t),$=e.input.charCodeAt(e.position),$===d)return e.position++,e.tag=s,e.anchor=l,e.kind=C?"mapping":"sequence",e.result=a,!0;n?$===44&&Ye(e,"expected the node content, but found ','"):Ye(e,"missed comma between flow collection entries"),x=k=L=null,v=m=!1,$===63&&(f=e.input.charCodeAt(e.position+1),Un(f)&&(v=m=!0,e.position++,rn(e,!0,t))),i=e.line,r=e.lineStart,o=e.position,ys(e,t,Ru,!1,!0),x=e.tag,k=e.result,rn(e,!0,t),$=e.input.charCodeAt(e.position),(m||e.line===i)&&$===58&&(v=!0,$=e.input.charCodeAt(++e.position),rn(e,!0,t),ys(e,t,Ru,!1,!0),L=e.result),C?vs(e,a,b,x,k,L,i,r,o):v?a.push(vs(e,null,b,x,k,L,i,r,o)):a.push(k),rn(e,!0,t),$=e.input.charCodeAt(e.position),$===44?(n=!0,$=e.input.charCodeAt(++e.position)):n=!1}Ye(e,"unexpected end of the stream within a flow collection")}function aF(e,t){var n,i,r=Ud,o=!1,s=!1,a=t,l=0,f=!1,d,v;if(v=e.input.charCodeAt(e.position),v===124)i=!1;else if(v===62)i=!0;else return!1;for(e.kind="scalar",e.result="";v!==0;)if(v=e.input.charCodeAt(++e.position),v===43||v===45)Ud===r?r=v===43?q0:q9:Ye(e,"repeat of a chomping mode identifier");else if((d=eF(v))>=0)d===0?Ye(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ye(e,"repeat of an indentation width identifier"):(a=t+d-1,s=!0);else break;if(yo(v)){do v=e.input.charCodeAt(++e.position);while(yo(v));if(v===35)do v=e.input.charCodeAt(++e.position);while(!Hi(v)&&v!==0)}for(;v!==0;){for(Kd(e),e.lineIndent=0,v=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&v===32;)e.lineIndent++,v=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Hi(v)){l++;continue}if(e.lineIndent<a){r===q0?e.result+=ln.repeat(`
`,o?1+l:l):r===Ud&&o&&(e.result+=`
`);break}for(i?yo(v)?(f=!0,e.result+=ln.repeat(`
`,o?1+l:l)):f?(f=!1,e.result+=ln.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=ln.repeat(`
`,l):e.result+=ln.repeat(`
`,o?1+l:l),o=!0,s=!0,l=0,n=e.position;!Hi(v)&&v!==0;)v=e.input.charCodeAt(++e.position);Fr(e,n,e.position,!1)}return!0}function rb(e,t){var n,i=e.tag,r=e.anchor,o=[],s,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ye(e,"tab characters must not be used in indentation")),!(l!==45||(s=e.input.charCodeAt(e.position+1),!Un(s))));){if(a=!0,e.position++,rn(e,!0,-1)&&e.lineIndent<=t){o.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,ys(e,t,z0,!1,!0),o.push(e.result),rn(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)Ye(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function lF(e,t,n){var i,r,o,s,a,l,f=e.tag,d=e.anchor,v={},m=Object.create(null),C=null,b=null,k=null,x=!1,L=!1,$;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=v),$=e.input.charCodeAt(e.position);$!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ye(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,($===63||$===58)&&Un(i))$===63?(x&&(vs(e,v,m,C,b,null,s,a,l),C=b=k=null),L=!0,x=!0,r=!0):x?(x=!1,r=!0):Ye(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,$=i;else{if(s=e.line,a=e.lineStart,l=e.position,!ys(e,n,G0,!1,!0))break;if(e.line===o){for($=e.input.charCodeAt(e.position);yo($);)$=e.input.charCodeAt(++e.position);if($===58)$=e.input.charCodeAt(++e.position),Un($)||Ye(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(vs(e,v,m,C,b,null,s,a,l),C=b=k=null),L=!0,x=!1,r=!1,C=e.tag,b=e.result;else if(L)Ye(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=d,!0}else if(L)Ye(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=d,!0}if((e.line===o||e.lineIndent>t)&&(x&&(s=e.line,a=e.lineStart,l=e.position),ys(e,t,Pu,!0,r)&&(x?b=e.result:k=e.result),x||(vs(e,v,m,C,b,k,s,a,l),C=b=k=null),rn(e,!0,-1),$=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&$!==0)Ye(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&vs(e,v,m,C,b,null,s,a,l),L&&(e.tag=f,e.anchor=d,e.kind="mapping",e.result=v),L}function uF(e){var t,n=!1,i=!1,r,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Ye(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,r="!!",s=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Ye(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Un(s);)s===33&&(i?Ye(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Y0.test(r)||Ye(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),J9.test(o)&&Ye(e,"tag suffix cannot contain flow indicator characters")}o&&!X0.test(o)&&Ye(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ye(e,"tag name is malformed: "+o)}return n?e.tag=o:Dr.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:Ye(e,'undeclared tag handle "'+r+'"'),!0}function cF(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Ye(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Un(n)&&!gs(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ye(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function fF(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Un(i)&&!gs(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Ye(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Dr.call(e.anchorMap,n)||Ye(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],rn(e,!0,-1),!0}function ys(e,t,n,i,r){var o,s,a,l=1,f=!1,d=!1,v,m,C,b,k,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Pu===n||z0===n,i&&rn(e,!0,-1)&&(f=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;uF(e)||cF(e);)rn(e,!0,-1)?(f=!0,a=o,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=f||r),(l===1||Pu===n)&&(Ru===n||G0===n?k=t:k=t+1,x=e.position-e.lineStart,l===1?a&&(rb(e,x)||lF(e,x,k))||sF(e,k)?d=!0:(s&&aF(e,k)||rF(e,k)||oF(e,k)?d=!0:fF(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&Ye(e,"alias node should not have any properties")):iF(e,k,Ru===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(d=a&&rb(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ye(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),v=0,m=e.implicitTypes.length;v<m;v+=1)if(b=e.implicitTypes[v],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Dr.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,C=e.typeMap.multi[e.kind||"fallback"],v=0,m=C.length;v<m;v+=1)if(e.tag.slice(0,C[v].tag.length)===C[v].tag){b=C[v];break}b||Ye(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&Ye(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ye(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function dF(e){var t=e.position,n,i,r,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(rn(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Un(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&Ye(e,"directive name must not be less than one character in length");s!==0;){for(;yo(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Hi(s));break}if(Hi(s))break;for(n=e.position;s!==0&&!Un(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}s!==0&&Kd(e),Dr.call(nb,i)?nb[i](e,i,r):Mu(e,'unknown document directive "'+i+'"')}if(rn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,rn(e,!0,-1)):o&&Ye(e,"directives end mark is expected"),ys(e,e.lineIndent-1,Pu,!1,!0),rn(e,!0,-1),e.checkLineBreaks&&X9.test(e.input.slice(t,e.position))&&Mu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Du(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,rn(e,!0,-1));return}if(e.position<e.length-1)Ye(e,"end of the stream or a document separator is expected");else return}function ob(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new nF(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,Ye(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)dF(n);return n.documents}function pF(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=ob(e,n);if(typeof t!="function")return i;for(var r=0,o=i.length;r<o;r+=1)t(i[r])}function hF(e,t){var n=ob(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Pn("expected a single document in the stream, but found more")}}var gF=pF,mF=hF,sb={loadAll:gF,load:mF},ab=Object.prototype.toString,lb=Object.prototype.hasOwnProperty,zd=65279,vF=9,Ra=10,yF=13,bF=32,CF=33,_F=34,qd=35,wF=37,kF=38,TF=39,xF=42,ub=44,SF=45,Fu=58,EF=61,AF=62,LF=63,OF=64,cb=91,fb=93,IF=96,db=123,NF=124,pb=125,En={};En[0]="\\0",En[7]="\\a",En[8]="\\b",En[9]="\\t",En[10]="\\n",En[11]="\\v",En[12]="\\f",En[13]="\\r",En[27]="\\e",En[34]='\\"',En[92]="\\\\",En[133]="\\N",En[160]="\\_",En[8232]="\\L",En[8233]="\\P";var RF=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],PF=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function MF(e,t){var n,i,r,o,s,a,l;if(t===null)return{};for(n={},i=Object.keys(t),r=0,o=i.length;r<o;r+=1)s=i[r],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=e.compiledTypeMap.fallback[s],l&&lb.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}function DF(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new Pn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ln.repeat("0",i-t.length)+t}var FF=1,Pa=2;function BF(e){this.schema=e.schema||Wd,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ln.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=MF(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Pa:FF,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function hb(e,t){for(var n=ln.repeat(" ",t),i=0,r=-1,o="",s,a=e.length;i<a;)r=e.indexOf(`
`,i),r===-1?(s=e.slice(i),i=a):(s=e.slice(i,r+1),i=r+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function Yd(e,t){return`
`+ln.repeat(" ",e.indent*t)}function $F(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function Bu(e){return e===bF||e===vF}function Ma(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==zd||65536<=e&&e<=1114111}function gb(e){return Ma(e)&&e!==zd&&e!==yF&&e!==Ra}function mb(e,t,n){var i=gb(e),r=i&&!Bu(e);return(n?i:i&&e!==ub&&e!==cb&&e!==fb&&e!==db&&e!==pb)&&e!==qd&&!(t===Fu&&!r)||gb(t)&&!Bu(t)&&e===qd||t===Fu&&r}function jF(e){return Ma(e)&&e!==zd&&!Bu(e)&&e!==SF&&e!==LF&&e!==Fu&&e!==ub&&e!==cb&&e!==fb&&e!==db&&e!==pb&&e!==qd&&e!==kF&&e!==xF&&e!==CF&&e!==NF&&e!==EF&&e!==AF&&e!==TF&&e!==_F&&e!==wF&&e!==OF&&e!==IF}function HF(e){return!Bu(e)&&e!==Fu}function Da(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function vb(e){var t=/^\n* /;return t.test(e)}var yb=1,Xd=2,bb=3,Cb=4,bs=5;function VF(e,t,n,i,r,o,s,a){var l,f=0,d=null,v=!1,m=!1,C=i!==-1,b=-1,k=jF(Da(e,0))&&HF(Da(e,e.length-1));if(t||s)for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=Da(e,l),!Ma(f))return bs;k=k&&mb(f,d,a),d=f}else{for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=Da(e,l),f===Ra)v=!0,C&&(m=m||l-b-1>i&&e[b+1]!==" ",b=l);else if(!Ma(f))return bs;k=k&&mb(f,d,a),d=f}m=m||C&&l-b-1>i&&e[b+1]!==" "}return!v&&!m?k&&!s&&!r(e)?yb:o===Pa?bs:Xd:n>9&&vb(e)?bs:s?o===Pa?bs:Xd:m?Cb:bb}function WF(e,t,n,i,r){e.dump=function(){if(t.length===0)return e.quotingType===Pa?'""':"''";if(!e.noCompatMode&&(RF.indexOf(t)!==-1||PF.test(t)))return e.quotingType===Pa?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=i||e.flowLevel>-1&&n>=e.flowLevel;function l(f){return $F(e,f)}switch(VF(t,a,e.indent,s,l,e.quotingType,e.forceQuotes&&!i,r)){case yb:return t;case Xd:return"'"+t.replace(/'/g,"''")+"'";case bb:return"|"+_b(t,e.indent)+wb(hb(t,o));case Cb:return">"+_b(t,e.indent)+wb(hb(UF(t,s),o));case bs:return'"'+KF(t)+'"';default:throw new Pn("impossible error: invalid scalar style")}}()}function _b(e,t){var n=vb(e)?String(t):"",i=e[e.length-1]===`
`,r=i&&(e[e.length-2]===`
`||e===`
`),o=r?"+":i?"":"-";return n+o+`
`}function wb(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function UF(e,t){for(var n=/(\n+)([^\n]*)/g,i=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,n.lastIndex=f,kb(e.slice(0,f),t)}(),r=e[0]===`
`||e[0]===" ",o,s;s=n.exec(e);){var a=s[1],l=s[2];o=l[0]===" ",i+=a+(!r&&!o&&l!==""?`
`:"")+kb(l,t),r=o}return i}function kb(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,r=0,o,s=0,a=0,l="";i=n.exec(e);)a=i.index,a-r>t&&(o=s>r?s:a,l+=`
`+e.slice(r,o),r=o+1),s=a;return l+=`
`,e.length-r>t&&s>r?l+=e.slice(r,s)+`
`+e.slice(s+1):l+=e.slice(r),l.slice(1)}function KF(e){for(var t="",n=0,i,r=0;r<e.length;n>=65536?r+=2:r++)n=Da(e,r),i=En[n],!i&&Ma(n)?(t+=e[r],n>=65536&&(t+=e[r+1])):t+=i||DF(n);return t}function GF(e,t,n){var i="",r=e.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],e.replacer&&(a=e.replacer.call(n,String(o),a)),(pr(e,t,a,!1,!1)||typeof a>"u"&&pr(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function Tb(e,t,n,i){var r="",o=e.tag,s,a,l;for(s=0,a=n.length;s<a;s+=1)l=n[s],e.replacer&&(l=e.replacer.call(n,String(s),l)),(pr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&pr(e,t+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=Yd(e,t)),e.dump&&Ra===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=o,e.dump=r||"[]"}function zF(e,t,n){var i="",r=e.tag,o=Object.keys(n),s,a,l,f,d;for(s=0,a=o.length;s<a;s+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),l=o[s],f=n[l],e.replacer&&(f=e.replacer.call(n,l,f)),pr(e,t,l,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),pr(e,t,f,!1,!1)&&(d+=e.dump,i+=d));e.tag=r,e.dump="{"+i+"}"}function qF(e,t,n,i){var r="",o=e.tag,s=Object.keys(n),a,l,f,d,v,m;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Pn("sortKeys must be a boolean or a function");for(a=0,l=s.length;a<l;a+=1)m="",(!i||r!=="")&&(m+=Yd(e,t)),f=s[a],d=n[f],e.replacer&&(d=e.replacer.call(n,f,d)),pr(e,t+1,f,!0,!0,!0)&&(v=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,v&&(e.dump&&Ra===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,v&&(m+=Yd(e,t)),pr(e,t+1,d,!0,v)&&(e.dump&&Ra===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,r+=m));e.tag=o,e.dump=r||"{}"}function xb(e,t,n){var i,r,o,s,a,l;for(r=n?e.explicitTypes:e.implicitTypes,o=0,s=r.length;o<s;o+=1)if(a=r[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,ab.call(a.represent)==="[object Function]")i=a.represent(t,l);else if(lb.call(a.represent,l))i=a.represent[l](t,l);else throw new Pn("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function pr(e,t,n,i,r,o,s){e.tag=null,e.dump=n,xb(e,n,!1)||xb(e,n,!0);var a=ab.call(e.dump),l=i,f;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",v,m;if(d&&(v=e.duplicates.indexOf(n),m=v!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(r=!1),m&&e.usedDuplicates[v])e.dump="*ref_"+v;else{if(d&&m&&!e.usedDuplicates[v]&&(e.usedDuplicates[v]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(qF(e,t,e.dump,r),m&&(e.dump="&ref_"+v+e.dump)):(zF(e,t,e.dump),m&&(e.dump="&ref_"+v+" "+e.dump));else if(a==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Tb(e,t-1,e.dump,r):Tb(e,t,e.dump,r),m&&(e.dump="&ref_"+v+e.dump)):(GF(e,t,e.dump),m&&(e.dump="&ref_"+v+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&WF(e,e.dump,t,o,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Pn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}function YF(e,t){var n=[],i=[],r,o;for(Jd(e,n,i),r=0,o=i.length;r<o;r+=1)t.duplicates.push(n[i[r]]);t.usedDuplicates=new Array(o)}function Jd(e,t,n){var i,r,o;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)Jd(e[r],t,n);else for(i=Object.keys(e),r=0,o=i.length;r<o;r+=1)Jd(e[i[r]],t,n)}function XF(e,t){t=t||{};var n=new BF(t);n.noRefs||YF(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),pr(n,0,i,!0,!0)?n.dump+`
`:""}var JF=XF,ZF={dump:JF};function Zd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var QF=bn,eB=E0,tB=I0,nB=D0,iB=F0,rB=Wd,oB=sb.load,sB=sb.loadAll,aB=ZF.dump,lB=Pn,uB={binary:V0,float:M0,map:O0,null:N0,pairs:U0,set:K0,timestamp:j0,bool:R0,int:P0,merge:H0,omap:W0,seq:L0,str:A0},cB=Zd("safeLoad","load"),fB=Zd("safeLoadAll","loadAll"),dB=Zd("safeDump","dump"),pB={Type:QF,Schema:eB,FAILSAFE_SCHEMA:tB,JSON_SCHEMA:nB,CORE_SCHEMA:iB,DEFAULT_SCHEMA:rB,load:oB,loadAll:sB,dump:aB,YAMLException:lB,types:uB,safeLoad:cB,safeLoadAll:fB,safeDump:dB};const hB={name:"Hotkey",components:{IconSvg:Gt},mixins:[Tn],props:{defaultHotkey:{type:Object,default:()=>({})}},data(){return{isOpen:!1,hotkeys:[{name:"click",title:"left_click_keyword_tag",value:"",options:[{name:"",title:"none"},{name:"edit",title:"edit_keyword"},{name:"disable",title:"disable_enable_keyword"},{name:"extend",title:"show_keyword_extend_panel"}]},{name:"rightClick",title:"right_click_keyword_tag",value:"",options:[{name:"",title:"none"},{name:"edit",title:"edit_keyword"},{name:"disable",title:"disable_enable_keyword"},{name:"extend",title:"show_keyword_extend_panel"}]},{name:"dblClick",title:"dblclick_keyword_tag",value:"",options:[{name:"",title:"none"},{name:"edit",title:"edit_keyword"},{name:"disable",title:"disable_enable_keyword"},{name:"extend",title:"show_keyword_extend_panel"}]},{name:"hover",title:"hover_keyword_tag",value:"",options:[{name:"",title:"none"},{name:"extend",title:"show_keyword_extend_panel"}]}]}},emits:["update:hotkey"],computed:{},mounted(){},methods:{open(){this.isOpen=!0,this.hotkeys.forEach(e=>{this.defaultHotkey[e.name]?e.value=this.defaultHotkey[e.name]:e.value=""})},close(){this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){let e={};this.hotkeys.forEach(t=>{e[t.name]=t.value}),this.gradioAPI.setData("hotkey",e),this.close(),this.$emit("update:hotkey",e)}}},gB={class:"hotkey-list"},mB={class:"hotkey-title"},vB=["onUpdate:modelValue"],yB=["value"],bB={class:"setting-btns"};function CB(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[5]||(t[5]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[4]||(t[4]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[3]||(t[3]=We(()=>{},["stop"]))},[p("div",gB,[(T(!0),A(Pe,null,et(r.hotkeys,a=>(T(),A("div",{class:"hotkey-item",key:a.name},[p("div",mB,z(e.getLang(a.title)),1),oe(p("select",{class:"hotkey-select","onUpdate:modelValue":l=>a.value=l},[(T(!0),A(Pe,null,et(a.options,l=>(T(),A("option",{key:l.name,value:l.name},z(e.getLang(l.title)),9,yB))),128))],8,vB),[[Fo,a.value]])]))),128))]),p("div",bB,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[1]||(t[1]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))},z(e.getLang("save")),1),p("div",{class:"hotkey-close hover-scale-120",onClick:t[2]||(t[2]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},z(e.getLang("close")),1)])])])])):Y("",!0)]),_:1})}const _B=Dt(hB,[["render",CB]]),wB="lora",kB="lyco",TB="embedding",xB={name:"ExtraNetworksPopup",components:{IconSvg:Gt},mixins:[Tn],props:{extraNetworks:{type:Array,default:()=>[]}},data(){return{isShow:!1,e:null,name:"",useCallback:null,type:"",from:"tags",data:{},style:{},previewStyle:{},mouseIn:!1,eMouseIn:!1}},computed:{},mounted(){},methods:{show(e,t,n,i=!1,r="tags"){this.mouseIn=!1,this.eMouseIn=!0,this.e=e,this.name=t,this.useCallback=n,this.type="",this.from=r,this.data={},this.style={},this.previewStyle={};let o;t=t.toLowerCase();for(let s of this.extraNetworks)if(s.name==="textual inversion"){for(let a of s.items)if(a.name.toLowerCase()===t){this.type=TB,o=a;break}}else if(s.name==="lora"||s.name==="lycoris"){for(let a of s.items)if(a.name.toLowerCase()===t||a.output_name&&a.output_name.toLowerCase()===t){this.type=s.name==="lora"?wB:kB,o=a;break}}else if(i&&s.name==="checkpoints"){for(let a of s.items)if(a.name.toLowerCase()===t){this.type="checkpoints",o=a;break}}if(!this.type)return this.isShow=!1;this.isShow=!0,this.data.name=o.civitai_info&&o.civitai_info.model&&o.civitai_info.model.name?o.civitai_info.model.name:o.name,this.data.output_name=o.output_name&&o.output_name!==this.data.name?o.output_name:"",this.data.basename=o.basename||"",this.data.dirname=o.dirname||"",this.data.description=o.civitai_info&&o.civitai_info.description?o.civitai_info.description:o.description||"",this.data.description=this.data.description.replace(/<[^>]+>/g,""),this.data.trainedWords=o.civitai_info&&o.civitai_info.trainedWords?o.civitai_info.trainedWords:[],this.data.preview=o.preview||(o.civitai_info&&o.civitai_info.images&&o.civitai_info.images.length?o.civitai_info.images[0]:""),this.data.modelId=o.civitai_info&&o.civitai_info.modelId?o.civitai_info.modelId:"",this.data.civitaiUrl=this.data.modelId?this.getCivitaiUrl(this.data.modelId):"",this.data.local_info=o.local_info||{},this.$nextTick(()=>{const s=e.getBoundingClientRect();this.style.top=s.top+e.offsetHeight+4+"px",this.style.left=s.left+"px",this.data.preview&&(this.previewStyle={width:"auto",height:this.$refs.extraNetworks.offsetHeight+"px"}),this.$nextTick(()=>{this.onPreviewLoad()})})},onPreviewLoad(){const e=this.$refs.extraNetworks.getBoundingClientRect();e.right>window.innerWidth&&(this.style.left=window.innerWidth-e.width-10+"px")},_hide(){this.isShow&&(this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout(()=>{this.hideTimer=null,!this.mouseIn&&!this.eMouseIn&&(this.isShow=!1)},10))},hide(){this.eMouseIn=!1,this._hide()},onMouseEnter(){this.mouseIn=!0},onMouseMove(){this.mouseIn=!0},onMouseLeave(){this.mouseIn=!1,this._hide()},copy(e){this.$copyText(e).then(()=>{this.$toastr.success(this.getLang("success"))}).catch(()=>{this.$toastr.error(this.getLang("failed"))})},getCivitaiUrl(e){return oa.civitaiUrl+"/models/"+e},onOpenCivitaiClick(){if(!this.data.modelId)return;let e=this.getCivitaiUrl(this.data.modelId);window.open(e)},onUseKeywordsClick(e){if(!e||typeof this.useCallback!="function")return;let t=pe.splitTags(e);this.useCallback(t)}}},SB=["data-from"],EB={class:"popup-main"},AB=["src"],LB={class:"info-raws"},OB={class:"info-raw"},IB={class:"raw-name"},NB={key:0,class:"info-raw"},RB={class:"raw-name"},PB={key:1,class:"info-raw"},MB={class:"raw-name"},DB={key:2,class:"info-raw"},FB={class:"raw-name"},BB={key:3,class:"info-raw"},$B={class:"raw-name"},jB={class:"raw-value"},HB=["onClick"],VB={key:4,class:"info-raw"},WB={class:"raw-name"},UB={class:"raw-description"},KB={key:5,class:"info-raw"},GB=p("div",{class:"raw-name"},"Civitai",-1),zB={class:"raw-value"},qB=["href"],YB={key:6,class:"info-raw"},XB={class:"raw-name"},JB={class:"raw-description"};function ZB(e,t,n,i,r,o){const s=Ro("tooltip");return oe((T(),A("div",{class:"physton-prompt-extra-networks-popup",ref:"extraNetworks","data-from":r.from,onMouseenter:t[7]||(t[7]=We((...a)=>o.onMouseEnter&&o.onMouseEnter(...a),["stop"])),onMousemove:t[8]||(t[8]=We((...a)=>o.onMouseMove&&o.onMouseMove(...a),["stop"])),onMouseleave:t[9]||(t[9]=We((...a)=>o.onMouseLeave&&o.onMouseLeave(...a),["stop"])),style:At(r.style)},[p("div",EB,[r.data.preview?(T(),A("img",{key:0,class:"info-preview",src:r.data.preview,style:At(r.previewStyle),onLoad:t[0]||(t[0]=(...a)=>o.onPreviewLoad&&o.onPreviewLoad(...a))},null,44,AB)):Y("",!0),p("div",LB,[p("div",OB,[p("div",IB,z(e.getLang("model_name")),1),p("div",{class:"raw-value",onClick:t[1]||(t[1]=a=>o.copy(r.data.local_info!=null?typeof r.data.local_info.name>"u"||r.data.local_info.name.length<=0?r.data.name:r.data.local_info.name:r.data.name))},z(r.data.local_info!=null?typeof r.data.local_info.name>"u"||r.data.local_info.name.length<=0?r.data.name:r.data.local_info.name:r.data.name),1)]),r.data.output_name?(T(),A("div",NB,[p("div",RB,z(e.getLang("output_name")),1),p("div",{class:"raw-value",onClick:t[2]||(t[2]=a=>o.copy(r.data.output_name))},z(r.data.output_name),1)])):Y("",!0),r.data.basename?(T(),A("div",PB,[p("div",MB,z(e.getLang("filename")),1),p("div",{class:"raw-value",onClick:t[3]||(t[3]=a=>o.copy(r.data.basename))},z(r.data.basename),1)])):Y("",!0),r.data.dirname?(T(),A("div",DB,[p("div",FB,z(e.getLang("filepath")),1),p("div",{class:"raw-value",onClick:t[4]||(t[4]=a=>o.copy(r.data.dirname))},z(r.data.dirname),1)])):Y("",!0),r.data.trainedWords&&r.data.trainedWords.length?(T(),A("div",BB,[p("div",$B,z(e.getLang("trained_words")),1),p("div",jB,[(T(!0),A(Pe,null,et(r.data.trainedWords,a=>(T(),A("div",{class:"raw-words",key:a,onClick:l=>o.onUseKeywordsClick(a)},z(a),9,HB))),128))])])):Y("",!0),r.data.description?(T(),A("div",VB,[p("div",WB,z(e.getLang("description")),1),oe((T(),A("div",{class:"raw-value",onClick:t[5]||(t[5]=a=>o.copy(r.data.description))},[p("div",UB,z(r.data.description),1)])),[[s,r.data.description]])])):Y("",!0),r.data.civitaiUrl?(T(),A("div",KB,[GB,p("div",zB,[p("a",{href:r.data.civitaiUrl,target:"_blank",class:"raw-link"},z(r.data.civitaiUrl),9,qB)])])):Y("",!0),r.data.local_info!=null&&r.data.local_info.userNote!=null?(T(),A("div",YB,[p("div",XB,z(e.getLang("description")),1),oe((T(),A("div",{class:"raw-value",onClick:t[6]||(t[6]=a=>o.copy(r.data.local_info.userNote))},[p("div",JB,z(r.data.local_info.userNote),1)])),[[s,r.data.local_info.userNote]])])):Y("",!0)])])],44,SB)),[[Rt,r.isShow]])}const QB=Dt(xB,[["render",ZB]]),e$={name:"AddKey",components:{IconSvg:Gt},data(){return{isOpen:!1,enValue:"",cnValue:"",firstKeyName:"",secondKeyName:"",loading:!1,lauCode:"zh_CN"}},methods:{open(e,t,n){this.loading=!1,this.enValue="",this.cnValue="",this.firstKeyName=e,this.secondKeyName=t,this.lauCode=n,this.isOpen=!0},close(){this.$emit("addSuccess","yes"),this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){if(this.cnValue.length<=0||this.enValue.length<=0){ct({type:"warn",str:"请填写完整的Tag Please fill in the complete Tag"});return}this.loading=!0,this.gradioAPI.addGroupTags(this.lauCode,this.cnValue,this.enValue,this.firstKeyName,this.secondKeyName).then(e=>{ct({type:"success",str:"添加成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"添加失败 Add Fail"}),this.loading=!1})}}},t$={key:1,class:"hotkey-list"},n$=p("div",{style:{"font-size":"20px",color:"#fff"}},"添加Tag",-1),i$=p("div",{style:{"margin-bottom":"15px","margin-top":"10px",color:"#fff"}}," 已添加的Tag不会再添加但会返回添加成功 ",-1),r$={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},o$=p("div",{style:{color:"#fff","margin-right":"10px"}},"中文",-1),s$={style:{display:"flex","align-items":"center"}},a$=p("div",{style:{color:"#fff","margin-right":"10px"}},"英文",-1),l$={key:2,class:"setting-btns"};function u$(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[7]||(t[7]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[6]||(t[6]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",t$,[n$,i$,p("div",r$,[o$,oe(p("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.cnValue=a)},null,512),[[_t,r.cnValue]])]),p("div",s$,[a$,oe(p("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.enValue=a)},null,512),[[_t,r.enValue]])])])),r.loading?Y("",!0):(T(),A("div",l$,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))}," 添加 "),p("div",{class:"hotkey-close hover-scale-120",onClick:t[4]||(t[4]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const c$=Dt(e$,[["render",u$]]),f$={name:"EditKey",components:{IconSvg:Gt},data(){return{isOpen:!1,enValue:"",cnValue:"",firstKeyName:"",secondKeyName:"",loading:!1,lauCode:"zh_CN"}},methods:{open(e,t,n,i,r){this.loading=!1,this.enValue=i,this.cnValue=n,this.firstKeyName=e,this.secondKeyName=t,this.lauCode=r,this.isOpen=!0},close(){this.$emit("addSuccess","yes"),this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){if(this.cnValue.length<=0||this.enValue.length<=0){ct({type:"warn",str:"请填写完整的Tag Please fill in the complete Tag"});return}this.loading=!0,this.gradioAPI.editGroupTags(this.lauCode,this.cnValue,this.enValue,this.firstKeyName,this.secondKeyName).then(e=>{ct({type:"success",str:"修改成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"修改失败 Add Fail"}),this.loading=!1})}}},d$={key:1,class:"hotkey-list"},p$=p("div",{style:{"font-size":"20px",color:"#fff"}},"修改Tag",-1),h$=p("div",{style:{"margin-bottom":"15px","margin-top":"10px",color:"#fff"}}," 只能修改中文，因为英文是索引,如果需要修改英文请删除改Tag然后再重新添加 ",-1),g$={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},m$=p("div",{style:{color:"#fff","margin-right":"10px"}},"中文",-1),v$={style:{display:"flex","align-items":"center"}},y$=p("div",{style:{color:"#fff","margin-right":"10px"}},"英文",-1),b$={key:2,class:"setting-btns"};function C$(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[7]||(t[7]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[6]||(t[6]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",d$,[p$,h$,p("div",g$,[m$,oe(p("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.cnValue=a)},null,512),[[_t,r.cnValue]])]),p("div",v$,[y$,oe(p("input",{disabled:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.enValue=a)},null,512),[[_t,r.enValue]])])])),r.loading?Y("",!0):(T(),A("div",b$,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))}," 修改 "),p("div",{class:"hotkey-close hover-scale-120",onClick:t[4]||(t[4]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const _$=Dt(f$,[["render",C$]]),w$={name:"DeleteKey",components:{IconSvg:Gt},data(){return{isOpen:!1,enValue:"",cnValue:"",firstKeyName:"",secondKeyName:"",loading:!1,lauCode:"zh_CN"}},methods:{open(e,t,n,i,r){this.loading=!1,this.enValue=i,this.cnValue=n,this.firstKeyName=e,this.secondKeyName=t,this.lauCode=r,this.isOpen=!0},close(){this.$emit("addSuccess","yes"),this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){if(this.cnValue.length<=0||this.enValue.length<=0){ct({type:"warn",str:"请填写完整的Tag Please fill in the complete Tag"});return}this.loading=!0,this.gradioAPI.deleteGroupTags(this.lauCode,this.cnValue,this.enValue,this.firstKeyName,this.secondKeyName).then(e=>{ct({type:"success",str:"删除成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"删除失败 Add Fail"}),this.loading=!1})}}},k$={key:1,class:"hotkey-list"},T$=p("div",{style:{"font-size":"20px",color:"#fff"}},"删除Tag",-1),x$=p("div",{style:{"margin-bottom":"15px","margin-top":"10px",color:"#fff"}}," 是否确认删除该Tag？ ",-1),S$={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},E$=p("div",{style:{color:"#fff","margin-right":"10px"}},"中文",-1),A$={style:{display:"flex","align-items":"center"}},L$=p("div",{style:{color:"#fff","margin-right":"10px"}},"英文",-1),O$={key:2,class:"setting-btns"};function I$(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[7]||(t[7]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[6]||(t[6]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",k$,[T$,x$,p("div",S$,[E$,oe(p("input",{disabled:"",type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.cnValue=a)},null,512),[[_t,r.cnValue]])]),p("div",A$,[L$,oe(p("input",{disabled:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.enValue=a)},null,512),[[_t,r.enValue]])])])),r.loading?Y("",!0):(T(),A("div",O$,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))}," 确认 "),p("div",{class:"hotkey-close hover-scale-120",onClick:t[4]||(t[4]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const N$=Dt(w$,[["render",I$]]),R$={name:"AddNodeGroup",components:{IconSvg:Gt},data(){return{isOpen:!1,enValue:"",cnValue:"",firstKeyName:"",secondKeyName:"",tempFirst:"",tempSecond:"",loading:!1,lauCode:"zh_CN",modelEs:0}},methods:{open(e,t,n,i){this.loading=!1,this.refreshColor=!0,this.enValue="",this.cnValue="",this.firstKeyName="",this.secondKeyName="",this.lauCode=n,this.modelEs=0,i==1&&(this.modelEs=i,this.firstKeyName=e),i>1&&(this.modelEs=i,this.firstKeyName=e,this.secondKeyName=t,this.tempFirst=e,this.tempSecond=t),this.isOpen=!0},close(){this.$emit("addSuccess",{model:1}),this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){if(this.modelEs<=1){if(this.firstKeyName.length<=0||this.secondKeyName.length<=0){ct({type:"warn",str:"请填写完整的信息 Please fill in the complete Info"});return}}else if(this.modelEs==2){if(this.firstKeyName.length<=0){ct({type:"warn",str:"请填写完整的信息 Please fill in the complete Info"});return}}else if(this.modelEs==3&&this.secondKeyName.length<=0){ct({type:"warn",str:"请填写完整的信息 Please fill in the complete Info"});return}this.loading=!0;const e="";this.modelEs==0?this.gradioAPI.addNewNodeGroupTags(this.lauCode,this.firstKeyName,this.secondKeyName,e).then(t=>{ct({type:"success",str:"添加成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(t=>{ct({type:"warn",str:"添加失败 Add Fail"}),this.loading=!1}):this.modelEs==1?this.gradioAPI.addNewGroupTags(this.lauCode,this.firstKeyName,this.secondKeyName,e).then(t=>{ct({type:"success",str:"添加成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(t=>{ct({type:"warn",str:"添加失败 Add Fail"}),this.loading=!1}):this.modelEs==2?this.gradioAPI.editNodeGroupTags(this.lauCode,this.tempFirst,this.firstKeyName).then(t=>{ct({type:"success",str:"修改成功 Edit Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(t=>{ct({type:"warn",str:"修改失败 Edit Fail"}),this.loading=!1}):this.modelEs==3&&this.gradioAPI.editChildGroupTags(this.lauCode,this.firstKeyName,this.tempSecond,this.secondKeyName).then(t=>{ct({type:"success",str:"修改成功 Edit Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(t=>{ct({type:"warn",str:"修改失败 Edit Fail"}),this.loading=!1})}}},P$={key:1,class:"hotkey-list"},M$={style:{"font-size":"20px",color:"#fff"}},D$={style:{"margin-bottom":"15px","margin-top":"10px",color:"#fff"}},F$={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},B$=p("div",{style:{color:"#fff","margin-right":"10px"}},"主栏目名称",-1),$$=["disabled"],j$={key:0,style:{display:"flex","align-items":"center","margin-bottom":"10px"}},H$=p("div",{style:{color:"#fff","margin-right":"10px"}},"子栏目名称",-1),V$={key:2,class:"setting-btns"};function W$(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[7]||(t[7]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[6]||(t[6]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",P$,[p("div",M$,z(r.modelEs==0?"添加Tag栏目":r.modelEs==1?"添加Tag子栏目":r.modelEs==2?"修改Tag栏目":"修改Tag子栏目"),1),p("div",D$,z(r.modelEs==0||r.modelEs==1?"尽量不要创建已经存在的名称，以免混乱":(r.modelEs==2,"尽量不要命名已经存在的名称，以免混乱")),1),p("div",F$,[B$,oe(p("input",{disabled:r.modelEs==1||r.modelEs==4||r.modelEs==3,type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.firstKeyName=a)},null,8,$$),[[_t,r.firstKeyName]])]),r.modelEs!=2?(T(),A("div",j$,[H$,oe(p("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.secondKeyName=a)},null,512),[[_t,r.secondKeyName]])])):Y("",!0)])),r.loading?Y("",!0):(T(),A("div",V$,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))},z(r.modelEs==0||r.modelEs==1?"添加":(r.modelEs==2,"修改")),1),p("div",{class:"hotkey-close hover-scale-120",onClick:t[4]||(t[4]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const U$=Dt(R$,[["render",W$]]),K$={name:"DeleteNodeGroup",components:{IconSvg:Gt},data(){return{isOpen:!1,firstKeyName:"",secondKeyName:"",loading:!1,lauCode:"zh_CN",modelEs:0}},methods:{open(e,t,n,i){this.loading=!1,this.firstKeyName=e,this.secondKeyName=t,this.lauCode=n,this.isOpen=!0,this.modelEs=i},close(){this.$emit("addSuccess","yes"),this.isOpen=!1},onCloseClick(){this.close()},onSaveClick(){this.loading=!0,this.modelEs==1?this.gradioAPI.deleteNodeGroupTags(this.lauCode,this.firstKeyName).then(e=>{ct({type:"success",str:"删除成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"删除失败 Add Fail"}),this.loading=!1}):this.modelEs==2&&this.gradioAPI.deleteChildGroupTags(this.lauCode,this.firstKeyName,this.secondKeyName).then(e=>{ct({type:"success",str:"删除成功 Add Success"}),this.$nextTick(function(){this.loading=!1,this.close()})}).catch(e=>{ct({type:"warn",str:"删除失败 Add Fail"}),this.loading=!1})}}},G$={key:1,class:"hotkey-list"},z$=p("div",{style:{"font-size":"20px",color:"#fff"}},"删除Tag",-1),q$=p("div",{style:{"margin-bottom":"15px","margin-top":"10px",color:"#fff"}}," 是否确认删除该栏目？ ",-1),Y$={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},X$=p("div",{style:{color:"#fff","margin-right":"10px"}},"主栏目名称",-1),J$={key:0,style:{display:"flex","align-items":"center"}},Z$=p("div",{style:{color:"#fff","margin-right":"10px"}},"子栏目名称",-1),Q$={key:2,class:"setting-btns"};function ej(e,t,n,i,r,o){const s=Be("icon-svg");return T(),Ae(Bt,{name:"fadeDown"},{default:Mt(()=>[r.isOpen?(T(),A("div",{key:0,class:"physton-prompt-hotkey",onClick:t[7]||(t[7]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[p("div",{class:"hotkey-main",onClick:t[6]||(t[6]=We(()=>{},["stop"]))},[p("div",{class:"hotkey-popup-close",onClick:t[0]||(t[0]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))},[ie(s,{name:"close"})]),p("div",{class:"hotkey-body",onClick:t[5]||(t[5]=We(()=>{},["stop"]))},[r.loading?(T(),Ae(s,{key:0,style:{width:"100%",height:"100%","box-sizing":"border-box"},name:"loading"})):Y("",!0),r.loading?Y("",!0):(T(),A("div",G$,[z$,q$,p("div",Y$,[X$,oe(p("input",{disabled:"",type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>r.firstKeyName=a)},null,512),[[_t,r.firstKeyName]])]),r.modelEs==2?(T(),A("div",J$,[Z$,oe(p("input",{disabled:"",type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.secondKeyName=a)},null,512),[[_t,r.secondKeyName]])])):Y("",!0)])),r.loading?Y("",!0):(T(),A("div",Q$,[p("div",{class:"hotkey-save hover-scale-120",onClick:t[3]||(t[3]=(...a)=>o.onSaveClick&&o.onSaveClick(...a))}," 确认 "),p("div",{class:"hotkey-close hover-scale-120",onClick:t[4]||(t[4]=(...a)=>o.onCloseClick&&o.onCloseClick(...a))}," 取消 ")]))])])])):Y("",!0)]),_:1})}const tj={name:"App",components:{Hotkey:_B,About:o6,ChatgptPrompt:Q5,PackagesState:c5,PromptFormat:wM,Blacklist:ZM,ExtensionCss:G4,IconSvg:Gt,History:F4,Favorite:s4,SelectLanguage:AP,TranslateSetting:TP,PhystonPrompt:v3,ExtraNetworksPopup:QB,LoraInfomation:z8,AddKey:c$,EditKey:_$,DeleteKey:N$,AddNodeGroup:U$,DeleteNodeGroup:Dt(K$,[["render",ej]]),LlmPrompt:HD},mixins:[],data(){return{prompts:[{tab:"tab_txt2img",prompt:"txt2img_prompt",counter:"txt2img_token_counter",button:"txt2img_token_button",steps:"txt2img_steps",historyKey:"txt2img",favoriteKey:"txt2img",$prompt:null,$textarea:null,$steps:null,name:"txt2img_prompt",neg:!1,hideDefaultInputKey:"txt2ImgHideDefaultInput",hideDefaultInput:!1,autoLoadWebuiPromptKey:"txt2ImgAutoLoadWebuiPrompt",autoLoadWebuiPrompt:!0,hidePanelKey:"txt2ImgHidePanel",hidePanel:!1,hideGroupTagsKey:"txt2ImgHideGroupTags",hideGroupTags:!1,id:"phystonPrompt_txt2img_prompt"},{tab:"tab_txt2img",prompt:"txt2img_neg_prompt",counter:"txt2img_negative_token_counter",button:"txt2img_negative_token_button",steps:"txt2img_steps",historyKey:"txt2img_neg",favoriteKey:"txt2img_neg",$prompt:null,$textarea:null,$steps:null,name:"txt2img_neg_prompt",neg:!0,hideDefaultInputKey:"txt2ImgNegHideDefaultInput",hideDefaultInput:!1,autoLoadWebuiPromptKey:"txt2ImgNegAutoLoadWebuiPrompt",autoLoadWebuiPrompt:!0,hidePanelKey:"txt2ImgNegHidePanel",hidePanel:!1,hideGroupTagsKey:"txt2ImgNegHideGroupTags",hideGroupTags:!1,id:"phystonPrompt_txt2img_neg_prompt"},{tab:"tab_img2img",prompt:"img2img_prompt",counter:"img2img_token_counter",button:"img2img_token_button",steps:"img2img_steps",historyKey:"img2img",favoriteKey:"img2img",$prompt:null,$textarea:null,$steps:null,name:"img2img_prompt",neg:!1,hideDefaultInputKey:"img2ImgHideDefaultInput",hideDefaultInput:!1,autoLoadWebuiPromptKey:"img2ImgAutoLoadWebuiPrompt",autoLoadWebuiPrompt:!0,hidePanelKey:"img2ImgHidePanel",hidePanel:!1,hideGroupTagsKey:"img2ImgHideGroupTags",hideGroupTags:!1,id:"phystonPrompt_img2img_prompt"},{tab:"tab_img2img",prompt:"img2img_neg_prompt",counter:"img2img_negative_token_counter",button:"img2img_negative_token_button",steps:"img2img_steps",historyKey:"img2img_neg",favoriteKey:"img2img_neg",$prompt:null,$textarea:null,$steps:null,name:"img2img_neg_prompt",neg:!0,hideDefaultInputKey:"img2ImgNegHideDefaultInput",hideDefaultInput:!1,autoLoadWebuiPromptKey:"img2ImgNegAutoLoadWebuiPrompt",autoLoadWebuiPrompt:!0,hidePanelKey:"img2ImgNegHidePanel",hidePanel:!1,hideGroupTagsKey:"img2ImgNegHideGroupTags",hideGroupTags:!1,id:"phystonPrompt_img2img_neg_prompt"}],languageCode:"",languages:{},translateApis:[],translateApi:"",translateApiConfig:{},canOneTranslate:!1,autoTranslate:!1,autoTranslateToEnglish:!1,autoTranslateToLocal:!1,autoRemoveSpace:!0,autoRemoveLastComma:!1,autoKeepWeightZero:!1,autoKeepWeightOne:!1,autoBreakBeforeWrap:!1,autoBreakAfterWrap:!1,autoRemoveLoraBeforeComma:!1,autoRemoveLoraAfterComma:!1,useNovelAiWeightSymbol:!1,autoRemoveBeforeLineComma:!1,enableTooltip:!0,tagCompleteFile:"",onlyCsvOnAuto:!1,startWatchSave:!1,pasteBtn:null,showPastePopup:!1,pasteTitle:"",pasteContent:"",pasteLoading:!1,historyCurrentPrompt:"",favoriteCurrentPrompt:"",chatgptCurrentPrompt:"",extraNetworks:[],loras:[],lycos:[],embeddings:[],python:"",packagesState:[],version:"",latestVersion:"",isLatestVersion:!0,theme:"dark",groupTags:[],groupTagsColor:{},groupTagsColorKeyCache:{},groupTagsTranslate:!0,groupTagsTranslateCache:{toEn:new Map,toLocal:new Map},extraNetworksWidth:100,extraNetworksHeight:120,blacklist:{},cancelBlacklistConfirm:!1,hotkey:{click:"edit",dblClick:"disable",rightClick:"",hover:"extend"}}},watch:{languageCode:{handler:function(e,t){this.startWatchSave&&(console.log("onLanguageCodeChange",e),this.canOneTranslate=pe.canOneTranslate(this.languageCode),this.gradioAPI.setData("languageCode",e).then(n=>{}).catch(n=>{}),this.loadGroupTags())},immediate:!1},autoTranslateToEnglish:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoTranslateToEnglishChange",e),this.gradioAPI.setData("autoTranslateToEnglish",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoTranslateToLocal:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoTranslateToLocalChange",e),this.gradioAPI.setData("autoTranslateToLocal",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoTranslate:{handler:function(e,t){this.startWatchSave&&(this.autoTranslateToEnglish=this.autoTranslate,this.autoTranslateToLocal=this.autoTranslate,console.log("onAutoTranslateChange",e),this.gradioAPI.setData("autoTranslate",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoRemoveSpace:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoRemoveSpaceChange",e),this.gradioAPI.setData("autoRemoveSpace",e).then(n=>{this.prompts.forEach(i=>{this.$refs[i.id][0].updatePrompt()})}).catch(n=>{}))},immediate:!1},autoRemoveLastComma:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoRemoveLastCommaChange",e),this.gradioAPI.setData("autoRemoveLastComma",e).then(n=>{this.prompts.forEach(i=>{this.$refs[i.id][0].updatePrompt()})}).catch(n=>{}))},immediate:!1},autoKeepWeightZero:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoKeepWeightZeroChange",e),this.gradioAPI.setData("autoKeepWeightZero",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoKeepWeightOne:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoKeepWeightOneChange",e),this.gradioAPI.setData("autoKeepWeightOne",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoBreakBeforeWrap:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoBreakBeforeWrap",e),this.gradioAPI.setData("autoBreakBeforeWrap",e).then(n=>{this.prompts.forEach(i=>{this.$refs[i.id][0].updatePrompt()})}).catch(n=>{}))},immediate:!1},autoBreakAfterWrap:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoBreakAfterWrap",e),this.gradioAPI.setData("autoBreakAfterWrap",e).then(n=>{this.prompts.forEach(i=>{this.$refs[i.id][0].updatePrompt()})}).catch(n=>{}))},immediate:!1},autoRemoveLoraBeforeComma:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoRemoveLoraBeforeCommaChange",e),this.gradioAPI.setData("autoRemoveLoraBeforeComma",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoRemoveLoraAfterComma:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoRemoveLoraAfterCommaChange",e),this.gradioAPI.setData("autoRemoveLoraAfterComma",e).then(n=>{}).catch(n=>{}))},immediate:!1},useNovelAiWeightSymbol:{handler:function(e,t){this.startWatchSave&&(console.log("onUseNovelAiWeightSymbolChange",e),this.gradioAPI.setData("useNovelAiWeightSymbol",e).then(n=>{}).catch(n=>{}))},immediate:!1},autoRemoveBeforeLineComma:{handler:function(e,t){this.startWatchSave&&(console.log("onAutoRemoveBeforeLineCommaChange",e),this.gradioAPI.setData("autoRemoveBeforeLineComma",e).then(n=>{}).catch(n=>{}))}},enableTooltip:{handler:function(e,t){this.startWatchSave&&(localStorage.setItem("phystonPromptEnableTooltip",e?"true":"false"),this.updateTippyState(),this.gradioAPI.setData("enableTooltip",e).then(n=>{}).catch(n=>{}))},immediate:!1},translateApi:{handler:function(e,t){this.startWatchSave&&(console.log("onTranslateApiChange",e,t),this.updateTranslateApiConfig(),this.gradioAPI.setData("translateApi",e).then(n=>{}).catch(n=>{}))},immediate:!1},tagCompleteFile:{handler:function(e,t){this.startWatchSave&&(console.log("onTagCompleteFileChange",e,t),this.gradioAPI.setData("tagCompleteFile",e).then(n=>{}).catch(n=>{}))},immediate:!1},groupTagsColor:{handler:function(e,t){this.startWatchSave&&this.gradioAPI.setData("groupTagsColor",e).then(n=>{}).catch(n=>{})},deep:!0,immediate:!1},groupTagsTranslate:{handler:function(e,t){this.startWatchSave&&(console.log("onGroupTagsTranslateChange",e,t),this.gradioAPI.setData("groupTagsTranslate",e).then(n=>{}).catch(n=>{}))},immediate:!1},onlyCsvOnAuto(){this.startWatchSave&&(console.log("onOnlyCsvOnAutoChange",this.onlyCsvOnAuto),this.gradioAPI.setData("onlyCsvOnAuto",this.onlyCsvOnAuto).then(e=>{}).catch(e=>{}))},extraNetworksWidth(){this.startWatchSave&&(this.extraNetworksWidthTimer&&clearTimeout(this.extraNetworksWidthTimer),this.extraNetworksWidthTimer=setTimeout(()=>{console.log("onExtraNetworksWidthChange",this.extraNetworksWidth),this.gradioAPI.setData("extraNetworksWidth",this.extraNetworksWidth).then(e=>{}).catch(e=>{})},500))},extraNetworksHeight(){this.startWatchSave&&(this.extraNetworksHeightTimer&&clearTimeout(this.extraNetworksHeightTimer),this.extraNetworksHeightTimer=setTimeout(()=>{console.log("onExtraNetworksHeightChange",this.extraNetworksHeight),this.gradioAPI.setData("extraNetworksHeight",this.extraNetworksHeight).then(e=>{}).catch(e=>{})},500))}},mounted(){pe.loadCSS("toastr.min.css","physton-prompt-toastr",!0,!0,!1),pe.loadCSS("tippy.css","physton-prompt-tippy",!0,!0,!1),pe.loadCSS("animate.min.css","physton-prompt-animate",!0,!0,!1),pe.loadCSS("main.min.css","physton-prompt-main",!0);let t=new URLSearchParams(window.location.search).get("__theme");["dark","light"].includes(t)&&(this.theme=t,pe.gradioApp().classList.contains(this.theme)||pe.gradioApp().classList.add(this.theme)),setTimeout(()=>{var r,o,s;let n=!1,i=!1;if(localStorage.getItem("SD-LOBE-SETTING")||localStorage.getItem("SD-KITCHEN-SETTING")||(s=(o=(r=document.querySelector('head > meta[name="application-name"]'))==null?void 0:r.content)==null?void 0:o.includes)!=null&&s.call(o,"Lobe")){let a=document.getElementsByTagName("link");for(let l=0;l<a.length;l++){let f=a[l];if(f.href.includes("lobehub/")){n=!0;break}else f.href.includes("kitchen-theme")&&(i=!0)}}n?pe.gradioApp().classList.add("physton-prompt-lobehub"):i&&pe.gradioApp().classList.add("physton-prompt-kitchen")},3e3),this.gradioAPI.getConfig().then(n=>{console.log("config:",n),this.languageCode=n.i18n.default,this.translateApi=n.translate_apis.default,this.translateApis=n.translate_apis.apis,this.python=n.python,this.packagesState=n.packages_state;let i={};n.i18n.languages.forEach(r=>{i[r.code]=r}),this.languages=i,this.init()}).catch(n=>{this.$toastr.error("Connection to backend API service failed. Please manually refresh the webpage. If it still doesn't work, please restart the WebUI.<br/>连接到后台接口服务失败，请手动再刷新一次网页。如果还是不行，请重启WebUI。<br/><br/>"+n.message,oa.shortName,{timeOut:2e4}),console.log(n)})},methods:{getLang(e){return pe.getLang(e,this.languageCode,this.languages)},init(){this.loadExtraNetworks();let e=["languageCode","autoTranslate","autoTranslateToEnglish","autoTranslateToLocal","autoRemoveSpace","autoRemoveLastComma","autoKeepWeightZero","autoKeepWeightOne","autoBreakBeforeWrap","autoBreakAfterWrap","autoRemoveLoraBeforeComma","autoRemoveLoraAfterComma","useNovelAiWeightSymbol","autoRemoveBeforeLineComma","translateApi","enableTooltip","tagCompleteFile","onlyCsvOnAuto","extensionSelect.minimalist","groupTagsColor","groupTagsTranslate","blacklist","cancelBlacklistConfirm","hotkey","extraNetworksWidth","extraNetworksHeight"];this.prompts.forEach(t=>{e.push(t.hideDefaultInputKey),e.push(t.autoLoadWebuiPromptKey),e.push(t.hidePanelKey),e.push(t.hideGroupTagsKey)}),this.gradioAPI.getDatas(e).then(t=>{if(t.languageCode!==null){let n=!1;for(let i in this.languages)if(this.languages[i].code===t.languageCode){n=!0;break}n&&(this.languageCode=t.languageCode,this.$forceUpdate(),this.gradioAPI.setData("languageCode",this.languageCode))}else{let n=navigator.language||navigator.userLanguage||"";if(n){for(let i in this.languages)if(pe.isSameLang(this.languages[i].code,n)){this.languageCode=this.languages[i].code,this.$forceUpdate(),this.gradioAPI.setData("languageCode",this.languageCode);break}}}if(this.canOneTranslate=pe.canOneTranslate(this.languageCode),t.autoTranslateToEnglish!==null&&(this.autoTranslateToEnglish=t.autoTranslateToEnglish),t.autoTranslateToLocal!==null&&(this.autoTranslateToLocal=t.autoTranslateToLocal),t.autoTranslate!==null?this.canOneTranslate?(this.autoTranslate=t.autoTranslate,this.autoTranslateToEnglish=this.autoTranslate,this.autoTranslateToLocal=this.autoTranslate):this.autoTranslate=!1:this.canOneTranslate?(this.autoTranslate=this.autoTranslateToEnglish||this.autoTranslateToLocal,this.autoTranslateToEnglish=!0,this.autoTranslateToLocal=!0):this.autoTranslate=!1,t.autoRemoveSpace!==null&&(this.autoRemoveSpace=t.autoRemoveSpace),t.autoRemoveLastComma!==null&&(this.autoRemoveLastComma=t.autoRemoveLastComma),t.autoKeepWeightZero!==null&&(this.autoKeepWeightZero=t.autoKeepWeightZero),t.autoKeepWeightOne!==null&&(this.autoKeepWeightOne=t.autoKeepWeightOne),t.autoBreakBeforeWrap!==null&&(this.autoBreakBeforeWrap=t.autoBreakBeforeWrap),t.autoBreakAfterWrap!==null&&(this.autoBreakAfterWrap=t.autoBreakAfterWrap),t.autoRemoveLoraBeforeComma!==null&&(this.autoRemoveLoraBeforeComma=t.autoRemoveLoraBeforeComma),t.autoRemoveLoraAfterComma!==null&&(this.autoRemoveLoraAfterComma=t.autoRemoveLoraAfterComma),t.useNovelAiWeightSymbol!==null&&(this.useNovelAiWeightSymbol=t.useNovelAiWeightSymbol),t.autoRemoveBeforeLineComma!==null&&(this.autoRemoveBeforeLineComma=t.autoRemoveBeforeLineComma),t.enableTooltip!==null&&(this.enableTooltip=t.enableTooltip),localStorage.setItem("phystonPromptEnableTooltip",this.enableTooltip?"true":"false"),this.updateTippyState(),t.translateApi!==null&&(this.translateApi=t.translateApi),t.tagCompleteFile!==null&&(this.tagCompleteFile=t.tagCompleteFile,this.$nextTick(()=>{this.$refs.translateSetting.getCSV(this.tagCompleteFile)})),t.onlyCsvOnAuto!==null&&(this.onlyCsvOnAuto=t.onlyCsvOnAuto),t["extensionSelect.minimalist"]===null&&this.gradioAPI.setData("extensionSelect.minimalist",!0),t.groupTagsColor!==null&&typeof t.groupTagsColor=="object"){this.groupTagsColor={};for(let n in t.groupTagsColor){let i=t.groupTagsColor[n];this.groupTagsColor[n]=Lt(pe.fitterInputColor(i))}}t.groupTagsTranslate!==null&&(this.groupTagsTranslate=t.groupTagsTranslate),t.blacklist!==null&&(this.blacklist=this._handleBlacklist(t.blacklist)),t.cancelBlacklistConfirm!==null&&(this.cancelBlacklistConfirm=t.cancelBlacklistConfirm),t.hotkey!==null&&(this.hotkey=t.hotkey),t.extraNetworksWidth!==null&&(this.extraNetworksWidth=t.extraNetworksWidth),t.extraNetworksHeight!==null&&(this.extraNetworksHeight=t.extraNetworksHeight),this.updateTranslateApiConfig(),this.$refs.extensionCss.init(),this.prompts.forEach(n=>{t[n.hideDefaultInputKey]!==null&&(n.hideDefaultInput=t[n.hideDefaultInputKey]),t[n.autoLoadWebuiPromptKey]!==null&&(n.autoLoadWebuiPrompt=t[n.autoLoadWebuiPromptKey]),t[n.hidePanelKey]!==null&&(n.hidePanel=t[n.hidePanelKey]),t[n.hideGroupTagsKey]!==null&&(n.hideGroupTags=t[n.hideGroupTagsKey]),n.$prompt=pe.gradioApp().querySelector("#"+n.prompt),n.$textarea=n.$prompt.getElementsByTagName("textarea")[0],n.$steps=pe.gradioApp().querySelector("#"+n.steps)}),this.$nextTick(()=>{this.prompts.forEach(n=>{const i=pe.gradioApp().querySelector("#"+n.id);console.log(i),n.$prompt.parentElement.parentElement.after(i),n.$prompt.parentElement.parentElement.style.display=n.hideDefaultInput?"none":"flex"}),this.startWatchSave=!0}),this.handlePaste(),this.loadGroupTags()})},loadGroupTags(){this.gradioAPI.getGroupTags(this.languageCode).then(e=>{if(!e||e==="")this.groupTags=[];else try{this.groupTags=pB.load(e),Array.isArray(this.groupTags)||(this.groupTags=[])}catch(t){console.log(t),this.groupTags=[]}this._handleGroupTags()})},_handleGroupTags(){let e={toEn:new Map,toLocal:new Map},t=(n,i)=>{[n,n.replace(/\_/g," "),n.replace(/\-/g," ")].forEach(o=>{if(e.toLocal.has(o)){let s=e.toLocal.get(o);s.includes(i)||s.push(i)}else e.toLocal.set(o,[i])}),e.toEn.set(i,n)};this.groupTags.forEach((n,i)=>{n.type=n.type||"",n.tabKey="groupTags-"+i,n.groups.forEach((r,o)=>{if(r.type=r.type||"",r.tabKey="subGroupTags-"+i+"-"+o,r.type=="wrap")return;let s=pe.getTagsColorKey(n.name,r.name);this.groupTagsColor[s]||(this.groupTagsColor[s]=Lt(pe.fitterInputColor(r.color)));for(let a in r.tags){if(!a)continue;this.groupTagsColorKeyCache[a]=s;let l=r.tags[a];!l||a==l||t(a,l)}})}),this.groupTagsTranslateCache=e},updateTippyState(){for(const e of this.$tippyList)this.enableTooltip?e.enable():e.disable()},updateTranslateApiConfig(){this.gradioAPI.getData("translate_api."+this.translateApi).then(e=>{let t={};const n=pe.getTranslateApiItem(this.translateApis,this.translateApi);if(n.config){for(const i of n.config)n.type==="translators"&&i.key==="region"&&!e.region?t[i.key]=this.languageCode==="zh_CN"||this.languageCode==="zh_HK"||this.languageCode==="zh_TW"?"China":"EN":e?t[i.key]=e[i.key]:t[i.key]=i.default||"";t.concurrent=n.concurrent||0}this.translateApiConfig=t})},onPromptFormatClick(e){this.$refs.promptFormat.open(e)},onBlacklistClick(e){this.$refs.blacklist.open(e)},onHotkeyClick(e){this.$refs.hotkey.open(e)},onSelectLanguageClick(e){this.$refs.selectLanguage.open(e)},onTranslateApiClick(){this.$refs.translateSetting.open(this.translateApi)},onSelectThemeClick(){this.$refs.extensionCss.open()},handlePaste(){if(typeof gradioApp!="function")return;const e=gradioApp().querySelectorAll("#paste");!e||e.length<=0||e.forEach((t,n)=>{const i=t.cloneNode(!0);i.id="paste-new-"+n,i.innerHTML="🗒",t.parentNode.insertBefore(i,t.nextSibling),i.addEventListener("click",()=>{this.pasteBtn=t,this.openPastePopup()}),this.pasteTitle=t.title})},openPastePopup(){this.pasteContent="",this.pasteLoading=!1,this.showPastePopup=!0},closePastePopup(){this.showPastePopup=!1},onClickPasteSubmit(){this.pasteLoading=!0;const e=get_uiCurrentTabContent();let t=null,n=null,i=null,r=null,o=[];for(const s of this.prompts)s.tab==e.id&&(o.push(s.id),s.neg?(n=s.$textarea,r=s.$prompt):(t=s.$textarea,i=s.$prompt));if(!t||!i||!r){this.pasteLoading=!1;return}t.value=this.pasteContent,t.dispatchEvent(new Event("input")),this.pasteBtn.dispatchEvent(new Event("click")),setTimeout(()=>{let s=0,a=0;s=setInterval(()=>{if(a++,a>100){this.pasteLoading=!1,clearInterval(s);return}i.getElementsByClassName("hide").length>0&&r.getElementsByClassName("hide").length>0&&(this.pasteLoading=!1,this.closePastePopup(),clearInterval(s),pe.hideCompleteResults(t),pe.hideCompleteResults(n),o.forEach((l,f)=>{setTimeout(()=>{this.$refs[l][0].onTextareaChange(!0)},1e3)}))},100)},1e3)},onUpdateHideDefaultInput(e,t){const n=this.prompts.find(i=>i.id==e);n&&(n.hideDefaultInput=t,this.gradioAPI.setData(n.hideDefaultInputKey,n.hideDefaultInput),n.$prompt.parentElement.parentElement.style.display=n.hideDefaultInput?"none":"flex")},onUpdateAutoLoadWebuiPrompt(e,t){const n=this.prompts.find(i=>i.id==e);n&&(n.autoLoadWebuiPrompt=t,this.gradioAPI.setData(n.autoLoadWebuiPromptKey,n.autoLoadWebuiPrompt))},onUpdateHidePanel(e,t){const n=this.prompts.find(i=>i.id==e);n&&(n.hidePanel=t,this.gradioAPI.setData(n.hidePanelKey,n.hidePanel))},onUpdateHideGroupTags(e,t){const n=this.prompts.find(i=>i.id==e);n&&(n.hideGroupTags=t,this.gradioAPI.setData(n.hideGroupTagsKey,n.hideGroupTags))},onShowHistory(e,t){this.$refs.favorite.hide(),this.historyCurrentPrompt=e;const n=this.prompts.find(i=>i.id==e);n&&this.$refs.history.show(n.historyKey,t)},onUseHistory(e){if(!this.historyCurrentPrompt)return;const t=this.prompts.find(n=>n.id==this.historyCurrentPrompt);t&&this.$refs[t.id][0].useFavorite(e)},onShowFavorite(e,t){this.$refs.history.hide(),this.favoriteCurrentPrompt=e;const n=this.prompts.find(i=>i.id==e);n&&this.$refs.favorite.show(n.favoriteKey,t)},onUseFavorite(e){if(!this.favoriteCurrentPrompt)return;const t=this.prompts.find(n=>n.id==this.favoriteCurrentPrompt);t&&this.$refs[t.id][0].useFavorite(e)},onRefreshFavorites(e){this.$refs.favorite.getFavorites(e)},onShowChatgpt(e,t){this.chatgptCurrentPrompt=e,this.prompts.find(i=>i.id==e)&&this.$refs.chatgptPrompt.open()},onShowLlmPrompt(){this.$refs.llmPrompt.open()},onUseChatgpt(e){if(!this.chatgptCurrentPrompt)return;const t=this.prompts.find(n=>n.id==this.chatgptCurrentPrompt);t&&this.$refs[t.id][0].useChatgpt(e)},onShowAbout(){this.$refs.about.open()},onShowLoraInfo(e){this.$refs.loraInfomation.open(e)},onSwitchTheme(){this.theme=this.theme==="dark"?"light":"dark";let e=window.location.href,t=new URL(e),n=new URLSearchParams(t.search);n.has("__theme")?n.set("__theme",this.theme):n.append("__theme",this.theme);let i=t.origin+t.pathname+"?"+n.toString();window.location.href=i},_handleBlacklist(e){var t,n,i,r,o,s;return e={...e},e.prompt=(t=e.prompt)==null?void 0:t.slice().map(a=>a.toLowerCase()),e.negative_prompt=(n=e.negative_prompt)==null?void 0:n.slice().map(a=>a.toLowerCase()),e.lora=(i=e.lora)==null?void 0:i.slice().map(a=>a.toLowerCase()),e.lycoris=(r=e.lycoris)==null?void 0:r.slice().map(a=>a.toLowerCase()),e.embedding=(o=e.embedding)==null?void 0:o.slice().map(a=>a.toLowerCase()),e.translate=(s=e.translate)==null?void 0:s.slice().map(a=>a.toLowerCase()),e},onUpdateBlacklist(e,t){this.blacklist=this._handleBlacklist(e),typeof t=="boolean"&&(this.cancelBlacklistConfirm=t)},onUpdateHotkey(e){this.hotkey=e},onShowExtraNetworks(e,t,n,i,r){this.$refs.extraNetworksPopup.show(e,t,n,i,r)},onHideExtraNetworks(){this.$refs.extraNetworksPopup.hide()},onRefreshExtraNetworks(){this._loadExtraNetworks()},onRefreshExtraNetworksLoadAll(){this._loadExtraNetworksLoadAll()},openAddKey(e){this.$refs.addKey.open(e.key,e.group,this.languageCode)},openEditKey(e){this.$refs.editKey.open(e.key,e.group,e.cn,e.en,this.languageCode)},openDeleteKey(e){this.$refs.deleteKey.open(e.key,e.group,e.cn,e.en,this.languageCode)},openAddNodeGroup(e){this.$refs.addNodeGroup.open(e.key,e.group,this.languageCode,e.model)},openDeleteNodeGroup(e){this.$refs.deleteNodeGroup.open(e.key,e.group,this.languageCode,e.model)}}},nj={class:"paste-popup-title"},ij={class:"paste-popup-body"},rj=["placeholder"],oj={key:1,class:"paste-submit"};function sj(e,t,n,i,r,o){const s=Be("physton-prompt"),a=Be("translate-setting"),l=Be("select-language"),f=Be("prompt-format"),d=Be("blacklist"),v=Be("hotkey"),m=Be("history"),C=Be("favorite"),b=Be("extension-css"),k=Be("packages-state"),x=Be("chatgpt-prompt"),L=Be("LlmPrompt"),$=Be("about"),V=Be("LoraInfomation"),O=Be("extra-networks-popup"),ge=Be("AddKey"),K=Be("EditKey"),h=Be("DeleteKey"),M=Be("AddNodeGroup"),E=Be("DeleteNodeGroup"),N=Be("icon-svg");return T(),A("div",null,[(T(!0),A(Pe,null,et(r.prompts,I=>(T(),A(Pe,{key:I.name},[I.$textarea?(T(),Ae(s,{key:0,id:I.id,ref_for:!0,ref:I.id,name:I.name,neg:I.neg,textarea:I.$textarea,steps:I.$steps,"language-code":r.languageCode,"onUpdate:languageCode":t[0]||(t[0]=F=>r.languageCode=F),"translate-apis":r.translateApis,languages:r.languages,"history-key":I.historyKey,"onClick:showHistory":F=>o.onShowHistory(I.id,F),"favorite-key":I.favoriteKey,onRefreshFavorites:o.onRefreshFavorites,"onClick:showFavorite":F=>o.onShowFavorite(I.id,F),"can-one-translate":r.canOneTranslate,"onUpdate:canOneTranslate":t[1]||(t[1]=F=>r.canOneTranslate=F),"auto-translate":r.autoTranslate,"onUpdate:autoTranslate":t[2]||(t[2]=F=>r.autoTranslate=F),"auto-translate-to-english":r.autoTranslateToEnglish,"onUpdate:autoTranslateToEnglish":t[3]||(t[3]=F=>r.autoTranslateToEnglish=F),"auto-translate-to-local":r.autoTranslateToLocal,"onUpdate:autoTranslateToLocal":t[4]||(t[4]=F=>r.autoTranslateToLocal=F),"auto-remove-space":r.autoRemoveSpace,"onUpdate:autoRemoveSpace":t[5]||(t[5]=F=>r.autoRemoveSpace=F),"auto-remove-last-comma":r.autoRemoveLastComma,"onUpdate:autoRemoveLastComma":t[6]||(t[6]=F=>r.autoRemoveLastComma=F),"auto-keep-weight-zero":r.autoKeepWeightZero,"onUpdate:autoKeepWeightZero":t[7]||(t[7]=F=>r.autoKeepWeightZero=F),"auto-keep-weight-one":r.autoKeepWeightOne,"onUpdate:autoKeepWeightOne":t[8]||(t[8]=F=>r.autoKeepWeightOne=F),"auto-break-before-wrap":r.autoBreakBeforeWrap,"onUpdate:autoBreakBeforeWrap":t[9]||(t[9]=F=>r.autoBreakBeforeWrap=F),"auto-break-after-wrap":r.autoBreakAfterWrap,"onUpdate:autoBreakAfterWrap":t[10]||(t[10]=F=>r.autoBreakAfterWrap=F),"auto-remove-lora-before-comma":r.autoRemoveLoraBeforeComma,"onUpdate:autoRemoveLoraBeforeComma":t[11]||(t[11]=F=>r.autoRemoveLoraBeforeComma=F),"auto-remove-lora-after-comma":r.autoRemoveLoraAfterComma,"onUpdate:autoRemoveLoraAfterComma":t[12]||(t[12]=F=>r.autoRemoveLoraAfterComma=F),"use-novel-ai-weight-symbol":r.useNovelAiWeightSymbol,"onUpdate:useNovelAiWeightSymbol":t[13]||(t[13]=F=>r.useNovelAiWeightSymbol=F),"auto-remove-before-line-comma":r.autoRemoveBeforeLineComma,"onUpdate:autoRemoveBeforeLineComma":t[14]||(t[14]=F=>r.autoRemoveBeforeLineComma=F),"hide-default-input":I.hideDefaultInput,"onUpdate:hideDefaultInput":F=>o.onUpdateHideDefaultInput(I.id,F),"auto-load-webui-prompt":I.autoLoadWebuiPrompt,"onUpdate:autoLoadWebuiPrompt":F=>o.onUpdateAutoLoadWebuiPrompt(I.id,F),"hide-panel":I.hidePanel,"onUpdate:hidePanel":F=>o.onUpdateHidePanel(I.id,F),"enable-tooltip":r.enableTooltip,"onUpdate:enableTooltip":t[15]||(t[15]=F=>r.enableTooltip=F),"translate-api":r.translateApi,"onUpdate:translateApi":t[16]||(t[16]=F=>r.translateApi=F),"translate-api-config":r.translateApiConfig,"onClick:translateApi":o.onTranslateApiClick,"onClick:promptFormat":o.onPromptFormatClick,"onClick:blacklist":o.onBlacklistClick,"onClick:hotkey":o.onHotkeyClick,"tag-complete-file":r.tagCompleteFile,"onUpdate:tagCompleteFile":t[17]||(t[17]=F=>r.tagCompleteFile=F),"only-csv-on-auto":r.onlyCsvOnAuto,"onUpdate:onlyCsvOnAuto":t[18]||(t[18]=F=>r.onlyCsvOnAuto=F),"group-tags-translate":r.groupTagsTranslate,"onUpdate:groupTagsTranslate":t[19]||(t[19]=F=>r.groupTagsTranslate=F),"onClick:selectLanguage":o.onSelectLanguageClick,"onClick:selectTheme":o.onSelectThemeClick,"onClick:showChatgpt":F=>o.onShowChatgpt(I.id,F),"onClick:showLlmPrompt":t[20]||(t[20]=F=>o.onShowLlmPrompt()),"extra-networks":r.extraNetworks,loras:r.loras,lycos:r.lycos,embeddings:r.embeddings,version:r.version,"latest-version":r.latestVersion,"is-latest-version":r.isLatestVersion,"onClick:showAbout":o.onShowAbout,"onClick:showLorainfo":o.onShowLoraInfo,theme:r.theme,"onClick:switchTheme":o.onSwitchTheme,"group-tags":r.groupTags,"hide-group-tags":I.hideGroupTags,"group-tags-color":r.groupTagsColor,"onUpdate:groupTagsColor":t[21]||(t[21]=F=>r.groupTagsColor=F),"group-tags-color-key-cache":r.groupTagsColorKeyCache,"onUpdate:hideGroupTags":F=>o.onUpdateHideGroupTags(I.id,F),"group-tags-translate-cache":r.groupTagsTranslateCache,"extra-networks-width":r.extraNetworksWidth,"onUpdate:extraNetworksWidth":t[22]||(t[22]=F=>r.extraNetworksWidth=F),"extra-networks-height":r.extraNetworksHeight,"onUpdate:extraNetworksHeight":t[23]||(t[23]=F=>r.extraNetworksHeight=F),blacklist:r.blacklist,"cancel-blacklist-confirm":r.cancelBlacklistConfirm,"onUpdate:blacklist":o.onUpdateBlacklist,hotkey:r.hotkey,onShowExtraNetworks:o.onShowExtraNetworks,onHideExtraNetworks:o.onHideExtraNetworks,onRefreshExtraNetworks:o.onRefreshExtraNetworks,onRefreshExtraNetworksLoadAll:o.onRefreshExtraNetworksLoadAll,"onClick:showAddKey":o.openAddKey,"onClick:showEditKey":o.openEditKey,"onClick:showDeleteKey":o.openDeleteKey,"onClick:addNewNodeGroup":o.openAddNodeGroup,"onClick:deleteNodeGroup":o.openDeleteNodeGroup},null,8,["id","name","neg","textarea","steps","language-code","translate-apis","languages","history-key","onClick:showHistory","favorite-key","onRefreshFavorites","onClick:showFavorite","can-one-translate","auto-translate","auto-translate-to-english","auto-translate-to-local","auto-remove-space","auto-remove-last-comma","auto-keep-weight-zero","auto-keep-weight-one","auto-break-before-wrap","auto-break-after-wrap","auto-remove-lora-before-comma","auto-remove-lora-after-comma","use-novel-ai-weight-symbol","auto-remove-before-line-comma","hide-default-input","onUpdate:hideDefaultInput","auto-load-webui-prompt","onUpdate:autoLoadWebuiPrompt","hide-panel","onUpdate:hidePanel","enable-tooltip","translate-api","translate-api-config","onClick:translateApi","onClick:promptFormat","onClick:blacklist","onClick:hotkey","tag-complete-file","only-csv-on-auto","group-tags-translate","onClick:selectLanguage","onClick:selectTheme","onClick:showChatgpt","extra-networks","loras","lycos","embeddings","version","latest-version","is-latest-version","onClick:showAbout","onClick:showLorainfo","theme","onClick:switchTheme","group-tags","hide-group-tags","group-tags-color","group-tags-color-key-cache","onUpdate:hideGroupTags","group-tags-translate-cache","extra-networks-width","extra-networks-height","blacklist","cancel-blacklist-confirm","onUpdate:blacklist","hotkey","onShowExtraNetworks","onHideExtraNetworks","onRefreshExtraNetworks","onRefreshExtraNetworksLoadAll","onClick:showAddKey","onClick:showEditKey","onClick:showDeleteKey","onClick:addNewNodeGroup","onClick:deleteNodeGroup"])):Y("",!0)],64))),128)),ie(a,{ref:"translateSetting","language-code":r.languageCode,"onUpdate:languageCode":t[24]||(t[24]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"onForceUpdate:translateApi":o.updateTranslateApiConfig,"tag-complete-file":r.tagCompleteFile,"onUpdate:tagCompleteFile":t[25]||(t[25]=I=>r.tagCompleteFile=I),"only-csv-on-auto":r.onlyCsvOnAuto,"onUpdate:onlyCsvOnAuto":t[26]||(t[26]=I=>r.onlyCsvOnAuto=I),"group-tags-translate":r.groupTagsTranslate,"onUpdate:groupTagsTranslate":t[27]||(t[27]=I=>r.groupTagsTranslate=I),"translate-api":r.translateApi,"onUpdate:translateApi":t[28]||(t[28]=I=>r.translateApi=I)},null,8,["language-code","translate-apis","languages","onForceUpdate:translateApi","tag-complete-file","only-csv-on-auto","group-tags-translate","translate-api"]),ie(l,{ref:"selectLanguage","language-code":r.languageCode,"onUpdate:languageCode":t[29]||(t[29]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"translate-api":r.translateApi,"onUpdate:translateApi":t[30]||(t[30]=I=>r.translateApi=I),"tag-complete-file":r.tagCompleteFile,"onUpdate:tagCompleteFile":t[31]||(t[31]=I=>r.tagCompleteFile=I),"only-csv-on-auto":r.onlyCsvOnAuto,"onUpdate:onlyCsvOnAuto":t[32]||(t[32]=I=>r.onlyCsvOnAuto=I)},null,8,["language-code","translate-apis","languages","translate-api","tag-complete-file","only-csv-on-auto"]),ie(f,{ref:"promptFormat","language-code":r.languageCode,"onUpdate:languageCode":t[33]||(t[33]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"auto-remove-space":r.autoRemoveSpace,"onUpdate:autoRemoveSpace":t[34]||(t[34]=I=>r.autoRemoveSpace=I),"auto-remove-last-comma":r.autoRemoveLastComma,"onUpdate:autoRemoveLastComma":t[35]||(t[35]=I=>r.autoRemoveLastComma=I),"auto-keep-weight-zero":r.autoKeepWeightZero,"onUpdate:autoKeepWeightZero":t[36]||(t[36]=I=>r.autoKeepWeightZero=I),"auto-keep-weight-one":r.autoKeepWeightOne,"onUpdate:autoKeepWeightOne":t[37]||(t[37]=I=>r.autoKeepWeightOne=I),"auto-break-before-wrap":r.autoBreakBeforeWrap,"onUpdate:autoBreakBeforeWrap":t[38]||(t[38]=I=>r.autoBreakBeforeWrap=I),"auto-break-after-wrap":r.autoBreakAfterWrap,"onUpdate:autoBreakAfterWrap":t[39]||(t[39]=I=>r.autoBreakAfterWrap=I),"auto-remove-lora-before-comma":r.autoRemoveLoraBeforeComma,"onUpdate:autoRemoveLoraBeforeComma":t[40]||(t[40]=I=>r.autoRemoveLoraBeforeComma=I),"auto-remove-lora-after-comma":r.autoRemoveLoraAfterComma,"onUpdate:autoRemoveLoraAfterComma":t[41]||(t[41]=I=>r.autoRemoveLoraAfterComma=I),"use-novel-ai-weight-symbol":r.useNovelAiWeightSymbol,"onUpdate:useNovelAiWeightSymbol":t[42]||(t[42]=I=>r.useNovelAiWeightSymbol=I),"auto-remove-before-line-comma":r.autoRemoveBeforeLineComma,"onUpdate:autoRemoveBeforeLineComma":t[43]||(t[43]=I=>r.autoRemoveBeforeLineComma=I)},null,8,["language-code","translate-apis","languages","auto-remove-space","auto-remove-last-comma","auto-keep-weight-zero","auto-keep-weight-one","auto-break-before-wrap","auto-break-after-wrap","auto-remove-lora-before-comma","auto-remove-lora-after-comma","use-novel-ai-weight-symbol","auto-remove-before-line-comma"]),ie(d,{ref:"blacklist","language-code":r.languageCode,"onUpdate:languageCode":t[44]||(t[44]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"onUpdate:blacklist":o.onUpdateBlacklist},null,8,["language-code","translate-apis","languages","onUpdate:blacklist"]),ie(v,{ref:"hotkey","language-code":r.languageCode,"onUpdate:languageCode":t[45]||(t[45]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"default-hotkey":r.hotkey,"onUpdate:hotkey":o.onUpdateHotkey},null,8,["language-code","translate-apis","languages","default-hotkey","onUpdate:hotkey"]),ie(m,{ref:"history","language-code":r.languageCode,"onUpdate:languageCode":t[46]||(t[46]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"tag-complete-file":r.tagCompleteFile,"onUpdate:tagCompleteFile":t[47]||(t[47]=I=>r.tagCompleteFile=I),"only-csv-on-auto":r.onlyCsvOnAuto,"onUpdate:onlyCsvOnAuto":t[48]||(t[48]=I=>r.onlyCsvOnAuto=I),onRefreshFavorites:o.onRefreshFavorites,onUse:o.onUseHistory},null,8,["language-code","translate-apis","languages","tag-complete-file","only-csv-on-auto","onRefreshFavorites","onUse"]),ie(C,{ref:"favorite","language-code":r.languageCode,"onUpdate:languageCode":t[49]||(t[49]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"tag-complete-file":r.tagCompleteFile,"onUpdate:tagCompleteFile":t[50]||(t[50]=I=>r.tagCompleteFile=I),"only-csv-on-auto":r.onlyCsvOnAuto,"onUpdate:onlyCsvOnAuto":t[51]||(t[51]=I=>r.onlyCsvOnAuto=I),onUse:o.onUseFavorite},null,8,["language-code","translate-apis","languages","tag-complete-file","only-csv-on-auto","onUse"]),ie(b,{ref:"extensionCss","language-code":r.languageCode,"onUpdate:languageCode":t[52]||(t[52]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages},null,8,["language-code","translate-apis","languages"]),ie(k,{ref:"packagesState","language-code":r.languageCode,"onUpdate:languageCode":t[53]||(t[53]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"onClick:selectLanguage":o.onSelectLanguageClick,"packages-state":r.packagesState,python:r.python},null,8,["language-code","translate-apis","languages","onClick:selectLanguage","packages-state","python"]),ie(x,{ref:"chatgptPrompt","language-code":r.languageCode,"onUpdate:languageCode":t[54]||(t[54]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,onUse:o.onUseChatgpt},null,8,["language-code","translate-apis","languages","onUse"]),ie(L,{ref:"llmPrompt","language-code":r.languageCode,"onUpdate:languageCode":t[55]||(t[55]=I=>r.languageCode=I),languages:r.languages},null,8,["language-code","languages"]),ie($,{ref:"about","language-code":r.languageCode,"onUpdate:languageCode":t[56]||(t[56]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages},null,8,["language-code","translate-apis","languages"]),ie(V,{ref:"loraInfomation"},null,512),ie(O,{ref:"extraNetworksPopup","language-code":r.languageCode,"onUpdate:languageCode":t[57]||(t[57]=I=>r.languageCode=I),"translate-apis":r.translateApis,languages:r.languages,"extra-networks":r.extraNetworks},null,8,["language-code","translate-apis","languages","extra-networks"]),ie(ge,{ref:"addKey",onAddSuccess:t[58]||(t[58]=I=>o.loadGroupTags())},null,512),ie(K,{ref:"editKey",onAddSuccess:t[59]||(t[59]=I=>o.loadGroupTags())},null,512),ie(h,{ref:"deleteKey",onAddSuccess:t[60]||(t[60]=I=>o.loadGroupTags())},null,512),ie(M,{ref:"addNodeGroup",onAddSuccess:t[61]||(t[61]=I=>o.loadGroupTags())},null,512),ie(E,{ref:"deleteNodeGroup",onAddSuccess:t[62]||(t[62]=I=>o.loadGroupTags())},null,512),r.showPastePopup?(T(),A("div",{key:0,class:"physton-paste-popup",onClick:t[67]||(t[67]=(...I)=>o.closePastePopup&&o.closePastePopup(...I))},[p("div",{class:"paste-popup-main",onClick:t[66]||(t[66]=We(()=>{},["stop"]))},[p("div",{class:"paste-popup-close",onClick:t[63]||(t[63]=(...I)=>o.closePastePopup&&o.closePastePopup(...I))},[ie(N,{name:"close"})]),p("div",nj,z(r.pasteTitle),1),p("div",ij,[oe(p("textarea",{class:"paste-content","onUpdate:modelValue":t[64]||(t[64]=I=>r.pasteContent=I),placeholder:o.getLang("please_enter_the_content_here")},null,8,rj),[[_t,r.pasteContent]]),r.pasteLoading?(T(),A("div",oj,[ie(N,{name:"loading"})])):(T(),A("div",{key:0,class:"paste-submit",onClick:t[65]||(t[65]=(...I)=>o.onClickPasteSubmit&&o.onClickPasteSubmit(...I))}," Submit "))])])])):Y("",!0)])}const aj=Dt(tj,[["render",sj]]);var Sb={exports:{}},Qd={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Eb;function lj(){return Eb||(Eb=1,function(e){(function(t,n){e.exports=t.document?n(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:gf,function(t,n){var i=[],r=Object.getPrototypeOf,o=i.slice,s=i.flat?function(u){return i.flat.call(u)}:function(u){return i.concat.apply([],u)},a=i.push,l=i.indexOf,f={},d=f.toString,v=f.hasOwnProperty,m=v.toString,C=m.call(Object),b={},k=function(c){return typeof c=="function"&&typeof c.nodeType!="number"&&typeof c.item!="function"},x=function(c){return c!=null&&c===c.window},L=t.document,$={type:!0,src:!0,nonce:!0,noModule:!0};function V(u,c,g){g=g||L;var y,_,w=g.createElement("script");if(w.text=u,c)for(y in $)_=c[y]||c.getAttribute&&c.getAttribute(y),_&&w.setAttribute(y,_);g.head.appendChild(w).parentNode.removeChild(w)}function O(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?f[d.call(u)]||"object":typeof u}var ge="3.7.1",K=/HTML$/i,h=function(u,c){return new h.fn.init(u,c)};h.fn=h.prototype={jquery:ge,constructor:h,length:0,toArray:function(){return o.call(this)},get:function(u){return u==null?o.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var c=h.merge(this.constructor(),u);return c.prevObject=this,c},each:function(u){return h.each(this,u)},map:function(u){return this.pushStack(h.map(this,function(c,g){return u.call(c,g,c)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(h.grep(this,function(u,c){return(c+1)%2}))},odd:function(){return this.pushStack(h.grep(this,function(u,c){return c%2}))},eq:function(u){var c=this.length,g=+u+(u<0?c:0);return this.pushStack(g>=0&&g<c?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var u,c,g,y,_,w,S=arguments[0]||{},B=1,D=arguments.length,U=!1;for(typeof S=="boolean"&&(U=S,S=arguments[B]||{},B++),typeof S!="object"&&!k(S)&&(S={}),B===D&&(S=this,B--);B<D;B++)if((u=arguments[B])!=null)for(c in u)y=u[c],!(c==="__proto__"||S===y)&&(U&&y&&(h.isPlainObject(y)||(_=Array.isArray(y)))?(g=S[c],_&&!Array.isArray(g)?w=[]:!_&&!h.isPlainObject(g)?w={}:w=g,_=!1,S[c]=h.extend(U,w,y)):y!==void 0&&(S[c]=y));return S},h.extend({expando:"jQuery"+(ge+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var c,g;return!u||d.call(u)!=="[object Object]"?!1:(c=r(u),c?(g=v.call(c,"constructor")&&c.constructor,typeof g=="function"&&m.call(g)===C):!0)},isEmptyObject:function(u){var c;for(c in u)return!1;return!0},globalEval:function(u,c,g){V(u,{nonce:c&&c.nonce},g)},each:function(u,c){var g,y=0;if(M(u))for(g=u.length;y<g&&c.call(u[y],y,u[y])!==!1;y++);else for(y in u)if(c.call(u[y],y,u[y])===!1)break;return u},text:function(u){var c,g="",y=0,_=u.nodeType;if(!_)for(;c=u[y++];)g+=h.text(c);return _===1||_===11?u.textContent:_===9?u.documentElement.textContent:_===3||_===4?u.nodeValue:g},makeArray:function(u,c){var g=c||[];return u!=null&&(M(Object(u))?h.merge(g,typeof u=="string"?[u]:u):a.call(g,u)),g},inArray:function(u,c,g){return c==null?-1:l.call(c,u,g)},isXMLDoc:function(u){var c=u&&u.namespaceURI,g=u&&(u.ownerDocument||u).documentElement;return!K.test(c||g&&g.nodeName||"HTML")},merge:function(u,c){for(var g=+c.length,y=0,_=u.length;y<g;y++)u[_++]=c[y];return u.length=_,u},grep:function(u,c,g){for(var y,_=[],w=0,S=u.length,B=!g;w<S;w++)y=!c(u[w],w),y!==B&&_.push(u[w]);return _},map:function(u,c,g){var y,_,w=0,S=[];if(M(u))for(y=u.length;w<y;w++)_=c(u[w],w,g),_!=null&&S.push(_);else for(w in u)_=c(u[w],w,g),_!=null&&S.push(_);return s(S)},guid:1,support:b}),typeof Symbol=="function"&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,c){f["[object "+c+"]"]=c.toLowerCase()});function M(u){var c=!!u&&"length"in u&&u.length,g=O(u);return k(u)||x(u)?!1:g==="array"||c===0||typeof c=="number"&&c>0&&c-1 in u}function E(u,c){return u.nodeName&&u.nodeName.toLowerCase()===c.toLowerCase()}var N=i.pop,I=i.sort,F=i.splice,q="[\\x20\\t\\r\\n\\f]",_e=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g");h.contains=function(u,c){var g=c&&c.parentNode;return u===g||!!(g&&g.nodeType===1&&(u.contains?u.contains(g):u.compareDocumentPosition&&u.compareDocumentPosition(g)&16))};var $e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Le(u,c){return c?u==="\0"?"�":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u}h.escapeSelector=function(u){return(u+"").replace($e,Le)};var G=L,le=a;(function(){var u,c,g,y,_,w=le,S,B,D,U,ae,ve=h.expando,ee=0,xe=0,ot=rc(),wt=rc(),ht=rc(),_n=rc(),cn=function(R,H){return R===H&&(_=!0),0},Ui="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ki="(?:\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ct="\\["+q+"*("+Ki+")(?:"+q+"*([*^$|!~]?=)"+q+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ki+"))|)"+q+"*\\]",xo=":("+Ki+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ct+")*)|.*)\\)|)",St=new RegExp(q+"+","g"),Jt=new RegExp("^"+q+"*,"+q+"*"),qa=new RegExp("^"+q+"*([>+~]|"+q+")"+q+"*"),$p=new RegExp(q+"|>"),Gi=new RegExp(xo),Ya=new RegExp("^"+Ki+"$"),zi={ID:new RegExp("^#("+Ki+")"),CLASS:new RegExp("^\\.("+Ki+")"),TAG:new RegExp("^("+Ki+"|[*])"),ATTR:new RegExp("^"+Ct),PSEUDO:new RegExp("^"+xo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),bool:new RegExp("^(?:"+Ui+")$","i"),needsContext:new RegExp("^"+q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)","i")},jr=/^(?:input|select|textarea|button)$/i,Hr=/^h\d$/i,yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,jp=/[+~]/,hr=new RegExp("\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\([^\\r\\n\\f])","g"),gr=function(R,H){var J="0x"+R.slice(1)-65536;return H||(J<0?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,J&1023|56320))},U7=function(){Vr()},K7=sc(function(R){return R.disabled===!0&&E(R,"fieldset")},{dir:"parentNode",next:"legend"});function G7(){try{return S.activeElement}catch{}}try{w.apply(i=o.call(G.childNodes),G.childNodes),i[G.childNodes.length].nodeType}catch{w={apply:function(H,J){le.apply(H,o.call(J))},call:function(H){le.apply(H,o.call(arguments,1))}}}function Pt(R,H,J,re){var me,Ie,je,Ke,He,yt,it,lt=H&&H.ownerDocument,bt=H?H.nodeType:9;if(J=J||[],typeof R!="string"||!R||bt!==1&&bt!==9&&bt!==11)return J;if(!re&&(Vr(H),H=H||S,D)){if(bt!==11&&(He=yi.exec(R)))if(me=He[1]){if(bt===9)if(je=H.getElementById(me)){if(je.id===me)return w.call(J,je),J}else return J;else if(lt&&(je=lt.getElementById(me))&&Pt.contains(H,je)&&je.id===me)return w.call(J,je),J}else{if(He[2])return w.apply(J,H.getElementsByTagName(R)),J;if((me=He[3])&&H.getElementsByClassName)return w.apply(J,H.getElementsByClassName(me)),J}if(!_n[R+" "]&&(!U||!U.test(R))){if(it=R,lt=H,bt===1&&($p.test(R)||qa.test(R))){for(lt=jp.test(R)&&Hp(H.parentNode)||H,(lt!=H||!b.scope)&&((Ke=H.getAttribute("id"))?Ke=h.escapeSelector(Ke):H.setAttribute("id",Ke=ve)),yt=Xa(R),Ie=yt.length;Ie--;)yt[Ie]=(Ke?"#"+Ke:":scope")+" "+oc(yt[Ie]);it=yt.join(",")}try{return w.apply(J,lt.querySelectorAll(it)),J}catch{_n(R,!0)}finally{Ke===ve&&H.removeAttribute("id")}}}return nC(R.replace(_e,"$1"),H,J,re)}function rc(){var R=[];function H(J,re){return R.push(J+" ")>c.cacheLength&&delete H[R.shift()],H[J+" "]=re}return H}function Oi(R){return R[ve]=!0,R}function As(R){var H=S.createElement("fieldset");try{return!!R(H)}catch{return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function z7(R){return function(H){return E(H,"input")&&H.type===R}}function q7(R){return function(H){return(E(H,"input")||E(H,"button"))&&H.type===R}}function eC(R){return function(H){return"form"in H?H.parentNode&&H.disabled===!1?"label"in H?"label"in H.parentNode?H.parentNode.disabled===R:H.disabled===R:H.isDisabled===R||H.isDisabled!==!R&&K7(H)===R:H.disabled===R:"label"in H?H.disabled===R:!1}}function So(R){return Oi(function(H){return H=+H,Oi(function(J,re){for(var me,Ie=R([],J.length,H),je=Ie.length;je--;)J[me=Ie[je]]&&(J[me]=!(re[me]=J[me]))})})}function Hp(R){return R&&typeof R.getElementsByTagName<"u"&&R}function Vr(R){var H,J=R?R.ownerDocument||R:G;return J==S||J.nodeType!==9||!J.documentElement||(S=J,B=S.documentElement,D=!h.isXMLDoc(S),ae=B.matches||B.webkitMatchesSelector||B.msMatchesSelector,B.msMatchesSelector&&G!=S&&(H=S.defaultView)&&H.top!==H&&H.addEventListener("unload",U7),b.getById=As(function(re){return B.appendChild(re).id=h.expando,!S.getElementsByName||!S.getElementsByName(h.expando).length}),b.disconnectedMatch=As(function(re){return ae.call(re,"*")}),b.scope=As(function(){return S.querySelectorAll(":scope")}),b.cssHas=As(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),b.getById?(c.filter.ID=function(re){var me=re.replace(hr,gr);return function(Ie){return Ie.getAttribute("id")===me}},c.find.ID=function(re,me){if(typeof me.getElementById<"u"&&D){var Ie=me.getElementById(re);return Ie?[Ie]:[]}}):(c.filter.ID=function(re){var me=re.replace(hr,gr);return function(Ie){var je=typeof Ie.getAttributeNode<"u"&&Ie.getAttributeNode("id");return je&&je.value===me}},c.find.ID=function(re,me){if(typeof me.getElementById<"u"&&D){var Ie,je,Ke,He=me.getElementById(re);if(He){if(Ie=He.getAttributeNode("id"),Ie&&Ie.value===re)return[He];for(Ke=me.getElementsByName(re),je=0;He=Ke[je++];)if(Ie=He.getAttributeNode("id"),Ie&&Ie.value===re)return[He]}return[]}}),c.find.TAG=function(re,me){return typeof me.getElementsByTagName<"u"?me.getElementsByTagName(re):me.querySelectorAll(re)},c.find.CLASS=function(re,me){if(typeof me.getElementsByClassName<"u"&&D)return me.getElementsByClassName(re)},U=[],As(function(re){var me;B.appendChild(re).innerHTML="<a id='"+ve+"' href='' disabled='disabled'></a><select id='"+ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",re.querySelectorAll("[selected]").length||U.push("\\["+q+"*(?:value|"+Ui+")"),re.querySelectorAll("[id~="+ve+"-]").length||U.push("~="),re.querySelectorAll("a#"+ve+"+*").length||U.push(".#.+[+~]"),re.querySelectorAll(":checked").length||U.push(":checked"),me=S.createElement("input"),me.setAttribute("type","hidden"),re.appendChild(me).setAttribute("name","D"),B.appendChild(re).disabled=!0,re.querySelectorAll(":disabled").length!==2&&U.push(":enabled",":disabled"),me=S.createElement("input"),me.setAttribute("name",""),re.appendChild(me),re.querySelectorAll("[name='']").length||U.push("\\["+q+"*name"+q+"*="+q+`*(?:''|"")`)}),b.cssHas||U.push(":has"),U=U.length&&new RegExp(U.join("|")),cn=function(re,me){if(re===me)return _=!0,0;var Ie=!re.compareDocumentPosition-!me.compareDocumentPosition;return Ie||(Ie=(re.ownerDocument||re)==(me.ownerDocument||me)?re.compareDocumentPosition(me):1,Ie&1||!b.sortDetached&&me.compareDocumentPosition(re)===Ie?re===S||re.ownerDocument==G&&Pt.contains(G,re)?-1:me===S||me.ownerDocument==G&&Pt.contains(G,me)?1:y?l.call(y,re)-l.call(y,me):0:Ie&4?-1:1)}),S}Pt.matches=function(R,H){return Pt(R,null,null,H)},Pt.matchesSelector=function(R,H){if(Vr(R),D&&!_n[H+" "]&&(!U||!U.test(H)))try{var J=ae.call(R,H);if(J||b.disconnectedMatch||R.document&&R.document.nodeType!==11)return J}catch{_n(H,!0)}return Pt(H,S,null,[R]).length>0},Pt.contains=function(R,H){return(R.ownerDocument||R)!=S&&Vr(R),h.contains(R,H)},Pt.attr=function(R,H){(R.ownerDocument||R)!=S&&Vr(R);var J=c.attrHandle[H.toLowerCase()],re=J&&v.call(c.attrHandle,H.toLowerCase())?J(R,H,!D):void 0;return re!==void 0?re:R.getAttribute(H)},Pt.error=function(R){throw new Error("Syntax error, unrecognized expression: "+R)},h.uniqueSort=function(R){var H,J=[],re=0,me=0;if(_=!b.sortStable,y=!b.sortStable&&o.call(R,0),I.call(R,cn),_){for(;H=R[me++];)H===R[me]&&(re=J.push(me));for(;re--;)F.call(R,J[re],1)}return y=null,R},h.fn.uniqueSort=function(){return this.pushStack(h.uniqueSort(o.apply(this)))},c=h.expr={cacheLength:50,createPseudo:Oi,match:zi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(R){return R[1]=R[1].replace(hr,gr),R[3]=(R[3]||R[4]||R[5]||"").replace(hr,gr),R[2]==="~="&&(R[3]=" "+R[3]+" "),R.slice(0,4)},CHILD:function(R){return R[1]=R[1].toLowerCase(),R[1].slice(0,3)==="nth"?(R[3]||Pt.error(R[0]),R[4]=+(R[4]?R[5]+(R[6]||1):2*(R[3]==="even"||R[3]==="odd")),R[5]=+(R[7]+R[8]||R[3]==="odd")):R[3]&&Pt.error(R[0]),R},PSEUDO:function(R){var H,J=!R[6]&&R[2];return zi.CHILD.test(R[0])?null:(R[3]?R[2]=R[4]||R[5]||"":J&&Gi.test(J)&&(H=Xa(J,!0))&&(H=J.indexOf(")",J.length-H)-J.length)&&(R[0]=R[0].slice(0,H),R[2]=J.slice(0,H)),R.slice(0,3))}},filter:{TAG:function(R){var H=R.replace(hr,gr).toLowerCase();return R==="*"?function(){return!0}:function(J){return E(J,H)}},CLASS:function(R){var H=ot[R+" "];return H||(H=new RegExp("(^|"+q+")"+R+"("+q+"|$)"))&&ot(R,function(J){return H.test(typeof J.className=="string"&&J.className||typeof J.getAttribute<"u"&&J.getAttribute("class")||"")})},ATTR:function(R,H,J){return function(re){var me=Pt.attr(re,R);return me==null?H==="!=":H?(me+="",H==="="?me===J:H==="!="?me!==J:H==="^="?J&&me.indexOf(J)===0:H==="*="?J&&me.indexOf(J)>-1:H==="$="?J&&me.slice(-J.length)===J:H==="~="?(" "+me.replace(St," ")+" ").indexOf(J)>-1:H==="|="?me===J||me.slice(0,J.length+1)===J+"-":!1):!0}},CHILD:function(R,H,J,re,me){var Ie=R.slice(0,3)!=="nth",je=R.slice(-4)!=="last",Ke=H==="of-type";return re===1&&me===0?function(He){return!!He.parentNode}:function(He,yt,it){var lt,bt,Qe,jt,zn,An=Ie!==je?"nextSibling":"previousSibling",bi=He.parentNode,qi=Ke&&He.nodeName.toLowerCase(),Ls=!it&&!Ke,Mn=!1;if(bi){if(Ie){for(;An;){for(Qe=He;Qe=Qe[An];)if(Ke?E(Qe,qi):Qe.nodeType===1)return!1;zn=An=R==="only"&&!zn&&"nextSibling"}return!0}if(zn=[je?bi.firstChild:bi.lastChild],je&&Ls){for(bt=bi[ve]||(bi[ve]={}),lt=bt[R]||[],jt=lt[0]===ee&&lt[1],Mn=jt&&lt[2],Qe=jt&&bi.childNodes[jt];Qe=++jt&&Qe&&Qe[An]||(Mn=jt=0)||zn.pop();)if(Qe.nodeType===1&&++Mn&&Qe===He){bt[R]=[ee,jt,Mn];break}}else if(Ls&&(bt=He[ve]||(He[ve]={}),lt=bt[R]||[],jt=lt[0]===ee&&lt[1],Mn=jt),Mn===!1)for(;(Qe=++jt&&Qe&&Qe[An]||(Mn=jt=0)||zn.pop())&&!((Ke?E(Qe,qi):Qe.nodeType===1)&&++Mn&&(Ls&&(bt=Qe[ve]||(Qe[ve]={}),bt[R]=[ee,Mn]),Qe===He)););return Mn-=me,Mn===re||Mn%re===0&&Mn/re>=0}}},PSEUDO:function(R,H){var J,re=c.pseudos[R]||c.setFilters[R.toLowerCase()]||Pt.error("unsupported pseudo: "+R);return re[ve]?re(H):re.length>1?(J=[R,R,"",H],c.setFilters.hasOwnProperty(R.toLowerCase())?Oi(function(me,Ie){for(var je,Ke=re(me,H),He=Ke.length;He--;)je=l.call(me,Ke[He]),me[je]=!(Ie[je]=Ke[He])}):function(me){return re(me,0,J)}):re}},pseudos:{not:Oi(function(R){var H=[],J=[],re=Kp(R.replace(_e,"$1"));return re[ve]?Oi(function(me,Ie,je,Ke){for(var He,yt=re(me,null,Ke,[]),it=me.length;it--;)(He=yt[it])&&(me[it]=!(Ie[it]=He))}):function(me,Ie,je){return H[0]=me,re(H,null,je,J),H[0]=null,!J.pop()}}),has:Oi(function(R){return function(H){return Pt(R,H).length>0}}),contains:Oi(function(R){return R=R.replace(hr,gr),function(H){return(H.textContent||h.text(H)).indexOf(R)>-1}}),lang:Oi(function(R){return Ya.test(R||"")||Pt.error("unsupported lang: "+R),R=R.replace(hr,gr).toLowerCase(),function(H){var J;do if(J=D?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return J=J.toLowerCase(),J===R||J.indexOf(R+"-")===0;while((H=H.parentNode)&&H.nodeType===1);return!1}}),target:function(R){var H=t.location&&t.location.hash;return H&&H.slice(1)===R.id},root:function(R){return R===B},focus:function(R){return R===G7()&&S.hasFocus()&&!!(R.type||R.href||~R.tabIndex)},enabled:eC(!1),disabled:eC(!0),checked:function(R){return E(R,"input")&&!!R.checked||E(R,"option")&&!!R.selected},selected:function(R){return R.parentNode&&R.parentNode.selectedIndex,R.selected===!0},empty:function(R){for(R=R.firstChild;R;R=R.nextSibling)if(R.nodeType<6)return!1;return!0},parent:function(R){return!c.pseudos.empty(R)},header:function(R){return Hr.test(R.nodeName)},input:function(R){return jr.test(R.nodeName)},button:function(R){return E(R,"input")&&R.type==="button"||E(R,"button")},text:function(R){var H;return E(R,"input")&&R.type==="text"&&((H=R.getAttribute("type"))==null||H.toLowerCase()==="text")},first:So(function(){return[0]}),last:So(function(R,H){return[H-1]}),eq:So(function(R,H,J){return[J<0?J+H:J]}),even:So(function(R,H){for(var J=0;J<H;J+=2)R.push(J);return R}),odd:So(function(R,H){for(var J=1;J<H;J+=2)R.push(J);return R}),lt:So(function(R,H,J){var re;for(J<0?re=J+H:J>H?re=H:re=J;--re>=0;)R.push(re);return R}),gt:So(function(R,H,J){for(var re=J<0?J+H:J;++re<H;)R.push(re);return R})}},c.pseudos.nth=c.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})c.pseudos[u]=z7(u);for(u in{submit:!0,reset:!0})c.pseudos[u]=q7(u);function tC(){}tC.prototype=c.filters=c.pseudos,c.setFilters=new tC;function Xa(R,H){var J,re,me,Ie,je,Ke,He,yt=wt[R+" "];if(yt)return H?0:yt.slice(0);for(je=R,Ke=[],He=c.preFilter;je;){(!J||(re=Jt.exec(je)))&&(re&&(je=je.slice(re[0].length)||je),Ke.push(me=[])),J=!1,(re=qa.exec(je))&&(J=re.shift(),me.push({value:J,type:re[0].replace(_e," ")}),je=je.slice(J.length));for(Ie in c.filter)(re=zi[Ie].exec(je))&&(!He[Ie]||(re=He[Ie](re)))&&(J=re.shift(),me.push({value:J,type:Ie,matches:re}),je=je.slice(J.length));if(!J)break}return H?je.length:je?Pt.error(R):wt(R,Ke).slice(0)}function oc(R){for(var H=0,J=R.length,re="";H<J;H++)re+=R[H].value;return re}function sc(R,H,J){var re=H.dir,me=H.next,Ie=me||re,je=J&&Ie==="parentNode",Ke=xe++;return H.first?function(He,yt,it){for(;He=He[re];)if(He.nodeType===1||je)return R(He,yt,it);return!1}:function(He,yt,it){var lt,bt,Qe=[ee,Ke];if(it){for(;He=He[re];)if((He.nodeType===1||je)&&R(He,yt,it))return!0}else for(;He=He[re];)if(He.nodeType===1||je)if(bt=He[ve]||(He[ve]={}),me&&E(He,me))He=He[re]||He;else{if((lt=bt[Ie])&&lt[0]===ee&&lt[1]===Ke)return Qe[2]=lt[2];if(bt[Ie]=Qe,Qe[2]=R(He,yt,it))return!0}return!1}}function Vp(R){return R.length>1?function(H,J,re){for(var me=R.length;me--;)if(!R[me](H,J,re))return!1;return!0}:R[0]}function Y7(R,H,J){for(var re=0,me=H.length;re<me;re++)Pt(R,H[re],J);return J}function ac(R,H,J,re,me){for(var Ie,je=[],Ke=0,He=R.length,yt=H!=null;Ke<He;Ke++)(Ie=R[Ke])&&(!J||J(Ie,re,me))&&(je.push(Ie),yt&&H.push(Ke));return je}function Wp(R,H,J,re,me,Ie){return re&&!re[ve]&&(re=Wp(re)),me&&!me[ve]&&(me=Wp(me,Ie)),Oi(function(je,Ke,He,yt){var it,lt,bt,Qe,jt=[],zn=[],An=Ke.length,bi=je||Y7(H||"*",He.nodeType?[He]:He,[]),qi=R&&(je||!H)?ac(bi,jt,R,He,yt):bi;if(J?(Qe=me||(je?R:An||re)?[]:Ke,J(qi,Qe,He,yt)):Qe=qi,re)for(it=ac(Qe,zn),re(it,[],He,yt),lt=it.length;lt--;)(bt=it[lt])&&(Qe[zn[lt]]=!(qi[zn[lt]]=bt));if(je){if(me||R){if(me){for(it=[],lt=Qe.length;lt--;)(bt=Qe[lt])&&it.push(qi[lt]=bt);me(null,Qe=[],it,yt)}for(lt=Qe.length;lt--;)(bt=Qe[lt])&&(it=me?l.call(je,bt):jt[lt])>-1&&(je[it]=!(Ke[it]=bt))}}else Qe=ac(Qe===Ke?Qe.splice(An,Qe.length):Qe),me?me(null,Ke,Qe,yt):w.apply(Ke,Qe)})}function Up(R){for(var H,J,re,me=R.length,Ie=c.relative[R[0].type],je=Ie||c.relative[" "],Ke=Ie?1:0,He=sc(function(lt){return lt===H},je,!0),yt=sc(function(lt){return l.call(H,lt)>-1},je,!0),it=[function(lt,bt,Qe){var jt=!Ie&&(Qe||bt!=g)||((H=bt).nodeType?He(lt,bt,Qe):yt(lt,bt,Qe));return H=null,jt}];Ke<me;Ke++)if(J=c.relative[R[Ke].type])it=[sc(Vp(it),J)];else{if(J=c.filter[R[Ke].type].apply(null,R[Ke].matches),J[ve]){for(re=++Ke;re<me&&!c.relative[R[re].type];re++);return Wp(Ke>1&&Vp(it),Ke>1&&oc(R.slice(0,Ke-1).concat({value:R[Ke-2].type===" "?"*":""})).replace(_e,"$1"),J,Ke<re&&Up(R.slice(Ke,re)),re<me&&Up(R=R.slice(re)),re<me&&oc(R))}it.push(J)}return Vp(it)}function X7(R,H){var J=H.length>0,re=R.length>0,me=function(Ie,je,Ke,He,yt){var it,lt,bt,Qe=0,jt="0",zn=Ie&&[],An=[],bi=g,qi=Ie||re&&c.find.TAG("*",yt),Ls=ee+=bi==null?1:Math.random()||.1,Mn=qi.length;for(yt&&(g=je==S||je||yt);jt!==Mn&&(it=qi[jt])!=null;jt++){if(re&&it){for(lt=0,!je&&it.ownerDocument!=S&&(Vr(it),Ke=!D);bt=R[lt++];)if(bt(it,je||S,Ke)){w.call(He,it);break}yt&&(ee=Ls)}J&&((it=!bt&&it)&&Qe--,Ie&&zn.push(it))}if(Qe+=jt,J&&jt!==Qe){for(lt=0;bt=H[lt++];)bt(zn,An,je,Ke);if(Ie){if(Qe>0)for(;jt--;)zn[jt]||An[jt]||(An[jt]=N.call(He));An=ac(An)}w.apply(He,An),yt&&!Ie&&An.length>0&&Qe+H.length>1&&h.uniqueSort(He)}return yt&&(ee=Ls,g=bi),zn};return J?Oi(me):me}function Kp(R,H){var J,re=[],me=[],Ie=ht[R+" "];if(!Ie){for(H||(H=Xa(R)),J=H.length;J--;)Ie=Up(H[J]),Ie[ve]?re.push(Ie):me.push(Ie);Ie=ht(R,X7(me,re)),Ie.selector=R}return Ie}function nC(R,H,J,re){var me,Ie,je,Ke,He,yt=typeof R=="function"&&R,it=!re&&Xa(R=yt.selector||R);if(J=J||[],it.length===1){if(Ie=it[0]=it[0].slice(0),Ie.length>2&&(je=Ie[0]).type==="ID"&&H.nodeType===9&&D&&c.relative[Ie[1].type]){if(H=(c.find.ID(je.matches[0].replace(hr,gr),H)||[])[0],H)yt&&(H=H.parentNode);else return J;R=R.slice(Ie.shift().value.length)}for(me=zi.needsContext.test(R)?0:Ie.length;me--&&(je=Ie[me],!c.relative[Ke=je.type]);)if((He=c.find[Ke])&&(re=He(je.matches[0].replace(hr,gr),jp.test(Ie[0].type)&&Hp(H.parentNode)||H))){if(Ie.splice(me,1),R=re.length&&oc(Ie),!R)return w.apply(J,re),J;break}}return(yt||Kp(R,it))(re,H,!D,J,!H||jp.test(R)&&Hp(H.parentNode)||H),J}b.sortStable=ve.split("").sort(cn).join("")===ve,Vr(),b.sortDetached=As(function(R){return R.compareDocumentPosition(S.createElement("fieldset"))&1}),h.find=Pt,h.expr[":"]=h.expr.pseudos,h.unique=h.uniqueSort,Pt.compile=Kp,Pt.select=nC,Pt.setDocument=Vr,Pt.tokenize=Xa,Pt.escape=h.escapeSelector,Pt.getText=h.text,Pt.isXML=h.isXMLDoc,Pt.selectors=h.expr,Pt.support=h.support,Pt.uniqueSort=h.uniqueSort})();var be=function(u,c,g){for(var y=[],_=g!==void 0;(u=u[c])&&u.nodeType!==9;)if(u.nodeType===1){if(_&&h(u).is(g))break;y.push(u)}return y},Ee=function(u,c){for(var g=[];u;u=u.nextSibling)u.nodeType===1&&u!==c&&g.push(u);return g},Ce=h.expr.match.needsContext,W=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(u,c,g){return k(c)?h.grep(u,function(y,_){return!!c.call(y,_,y)!==g}):c.nodeType?h.grep(u,function(y){return y===c!==g}):typeof c!="string"?h.grep(u,function(y){return l.call(c,y)>-1!==g}):h.filter(c,u,g)}h.filter=function(u,c,g){var y=c[0];return g&&(u=":not("+u+")"),c.length===1&&y.nodeType===1?h.find.matchesSelector(y,u)?[y]:[]:h.find.matches(u,h.grep(c,function(_){return _.nodeType===1}))},h.fn.extend({find:function(u){var c,g,y=this.length,_=this;if(typeof u!="string")return this.pushStack(h(u).filter(function(){for(c=0;c<y;c++)if(h.contains(_[c],this))return!0}));for(g=this.pushStack([]),c=0;c<y;c++)h.find(u,_[c],g);return y>1?h.uniqueSort(g):g},filter:function(u){return this.pushStack(Q(this,u||[],!1))},not:function(u){return this.pushStack(Q(this,u||[],!0))},is:function(u){return!!Q(this,typeof u=="string"&&Ce.test(u)?h(u):u||[],!1).length}});var fe,de=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ye=h.fn.init=function(u,c,g){var y,_;if(!u)return this;if(g=g||fe,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?y=[null,u,null]:y=de.exec(u),y&&(y[1]||!c))if(y[1]){if(c=c instanceof h?c[0]:c,h.merge(this,h.parseHTML(y[1],c&&c.nodeType?c.ownerDocument||c:L,!0)),W.test(y[1])&&h.isPlainObject(c))for(y in c)k(this[y])?this[y](c[y]):this.attr(y,c[y]);return this}else return _=L.getElementById(y[2]),_&&(this[0]=_,this.length=1),this;else return!c||c.jquery?(c||g).find(u):this.constructor(c).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(k(u))return g.ready!==void 0?g.ready(u):u(h)}return h.makeArray(u,this)};ye.prototype=h.fn,fe=h(L);var Oe=/^(?:parents|prev(?:Until|All))/,qe={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(u){var c=h(u,this),g=c.length;return this.filter(function(){for(var y=0;y<g;y++)if(h.contains(this,c[y]))return!0})},closest:function(u,c){var g,y=0,_=this.length,w=[],S=typeof u!="string"&&h(u);if(!Ce.test(u)){for(;y<_;y++)for(g=this[y];g&&g!==c;g=g.parentNode)if(g.nodeType<11&&(S?S.index(g)>-1:g.nodeType===1&&h.find.matchesSelector(g,u))){w.push(g);break}}return this.pushStack(w.length>1?h.uniqueSort(w):w)},index:function(u){return u?typeof u=="string"?l.call(h(u),this[0]):l.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,c){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(u,c))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function De(u,c){for(;(u=u[c])&&u.nodeType!==1;);return u}h.each({parent:function(u){var c=u.parentNode;return c&&c.nodeType!==11?c:null},parents:function(u){return be(u,"parentNode")},parentsUntil:function(u,c,g){return be(u,"parentNode",g)},next:function(u){return De(u,"nextSibling")},prev:function(u){return De(u,"previousSibling")},nextAll:function(u){return be(u,"nextSibling")},prevAll:function(u){return be(u,"previousSibling")},nextUntil:function(u,c,g){return be(u,"nextSibling",g)},prevUntil:function(u,c,g){return be(u,"previousSibling",g)},siblings:function(u){return Ee((u.parentNode||{}).firstChild,u)},children:function(u){return Ee(u.firstChild)},contents:function(u){return u.contentDocument!=null&&r(u.contentDocument)?u.contentDocument:(E(u,"template")&&(u=u.content||u),h.merge([],u.childNodes))}},function(u,c){h.fn[u]=function(g,y){var _=h.map(this,c,g);return u.slice(-5)!=="Until"&&(y=g),y&&typeof y=="string"&&(_=h.filter(y,_)),this.length>1&&(qe[u]||h.uniqueSort(_),Oe.test(u)&&_.reverse()),this.pushStack(_)}});var ze=/[^\x20\t\r\n\f]+/g;function mt(u){var c={};return h.each(u.match(ze)||[],function(g,y){c[y]=!0}),c}h.Callbacks=function(u){u=typeof u=="string"?mt(u):h.extend({},u);var c,g,y,_,w=[],S=[],B=-1,D=function(){for(_=_||u.once,y=c=!0;S.length;B=-1)for(g=S.shift();++B<w.length;)w[B].apply(g[0],g[1])===!1&&u.stopOnFalse&&(B=w.length,g=!1);u.memory||(g=!1),c=!1,_&&(g?w=[]:w="")},U={add:function(){return w&&(g&&!c&&(B=w.length-1,S.push(g)),function ae(ve){h.each(ve,function(ee,xe){k(xe)?(!u.unique||!U.has(xe))&&w.push(xe):xe&&xe.length&&O(xe)!=="string"&&ae(xe)})}(arguments),g&&!c&&D()),this},remove:function(){return h.each(arguments,function(ae,ve){for(var ee;(ee=h.inArray(ve,w,ee))>-1;)w.splice(ee,1),ee<=B&&B--}),this},has:function(ae){return ae?h.inArray(ae,w)>-1:w.length>0},empty:function(){return w&&(w=[]),this},disable:function(){return _=S=[],w=g="",this},disabled:function(){return!w},lock:function(){return _=S=[],!g&&!c&&(w=g=""),this},locked:function(){return!!_},fireWith:function(ae,ve){return _||(ve=ve||[],ve=[ae,ve.slice?ve.slice():ve],S.push(ve),c||D()),this},fire:function(){return U.fireWith(this,arguments),this},fired:function(){return!!y}};return U};function vt(u){return u}function P(u){throw u}function j(u,c,g,y){var _;try{u&&k(_=u.promise)?_.call(u).done(c).fail(g):u&&k(_=u.then)?_.call(u,c,g):c.apply(void 0,[u].slice(y))}catch(w){g.apply(void 0,[w])}}h.extend({Deferred:function(u){var c=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],g="pending",y={state:function(){return g},always:function(){return _.done(arguments).fail(arguments),this},catch:function(w){return y.then(null,w)},pipe:function(){var w=arguments;return h.Deferred(function(S){h.each(c,function(B,D){var U=k(w[D[4]])&&w[D[4]];_[D[1]](function(){var ae=U&&U.apply(this,arguments);ae&&k(ae.promise)?ae.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[D[0]+"With"](this,U?[ae]:arguments)})}),w=null}).promise()},then:function(w,S,B){var D=0;function U(ae,ve,ee,xe){return function(){var ot=this,wt=arguments,ht=function(){var cn,Ui;if(!(ae<D)){if(cn=ee.apply(ot,wt),cn===ve.promise())throw new TypeError("Thenable self-resolution");Ui=cn&&(typeof cn=="object"||typeof cn=="function")&&cn.then,k(Ui)?xe?Ui.call(cn,U(D,ve,vt,xe),U(D,ve,P,xe)):(D++,Ui.call(cn,U(D,ve,vt,xe),U(D,ve,P,xe),U(D,ve,vt,ve.notifyWith))):(ee!==vt&&(ot=void 0,wt=[cn]),(xe||ve.resolveWith)(ot,wt))}},_n=xe?ht:function(){try{ht()}catch(cn){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(cn,_n.error),ae+1>=D&&(ee!==P&&(ot=void 0,wt=[cn]),ve.rejectWith(ot,wt))}};ae?_n():(h.Deferred.getErrorHook?_n.error=h.Deferred.getErrorHook():h.Deferred.getStackHook&&(_n.error=h.Deferred.getStackHook()),t.setTimeout(_n))}}return h.Deferred(function(ae){c[0][3].add(U(0,ae,k(B)?B:vt,ae.notifyWith)),c[1][3].add(U(0,ae,k(w)?w:vt)),c[2][3].add(U(0,ae,k(S)?S:P))}).promise()},promise:function(w){return w!=null?h.extend(w,y):y}},_={};return h.each(c,function(w,S){var B=S[2],D=S[5];y[S[1]]=B.add,D&&B.add(function(){g=D},c[3-w][2].disable,c[3-w][3].disable,c[0][2].lock,c[0][3].lock),B.add(S[3].fire),_[S[0]]=function(){return _[S[0]+"With"](this===_?void 0:this,arguments),this},_[S[0]+"With"]=B.fireWith}),y.promise(_),u&&u.call(_,_),_},when:function(u){var c=arguments.length,g=c,y=Array(g),_=o.call(arguments),w=h.Deferred(),S=function(B){return function(D){y[B]=this,_[B]=arguments.length>1?o.call(arguments):D,--c||w.resolveWith(y,_)}};if(c<=1&&(j(u,w.done(S(g)).resolve,w.reject,!c),w.state()==="pending"||k(_[g]&&_[g].then)))return w.then();for(;g--;)j(_[g],S(g),w.reject);return w.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function(u,c){t.console&&t.console.warn&&u&&X.test(u.name)&&t.console.warn("jQuery.Deferred exception: "+u.message,u.stack,c)},h.readyException=function(u){t.setTimeout(function(){throw u})};var ce=h.Deferred();h.fn.ready=function(u){return ce.then(u).catch(function(c){h.readyException(c)}),this},h.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--h.readyWait:h.isReady)||(h.isReady=!0,!(u!==!0&&--h.readyWait>0)&&ce.resolveWith(L,[h]))}}),h.ready.then=ce.then;function Z(){L.removeEventListener("DOMContentLoaded",Z),t.removeEventListener("load",Z),h.ready()}L.readyState==="complete"||L.readyState!=="loading"&&!L.documentElement.doScroll?t.setTimeout(h.ready):(L.addEventListener("DOMContentLoaded",Z),t.addEventListener("load",Z));var he=function(u,c,g,y,_,w,S){var B=0,D=u.length,U=g==null;if(O(g)==="object"){_=!0;for(B in g)he(u,c,B,g[B],!0,w,S)}else if(y!==void 0&&(_=!0,k(y)||(S=!0),U&&(S?(c.call(u,y),c=null):(U=c,c=function(ae,ve,ee){return U.call(h(ae),ee)})),c))for(;B<D;B++)c(u[B],g,S?y:y.call(u[B],B,c(u[B],g)));return _?u:U?c.call(u):D?c(u[0],g):w},Se=/^-ms-/,we=/-([a-z])/g;function ke(u,c){return c.toUpperCase()}function se(u){return u.replace(Se,"ms-").replace(we,ke)}var Te=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function Me(){this.expando=h.expando+Me.uid++}Me.uid=1,Me.prototype={cache:function(u){var c=u[this.expando];return c||(c={},Te(u)&&(u.nodeType?u[this.expando]=c:Object.defineProperty(u,this.expando,{value:c,configurable:!0}))),c},set:function(u,c,g){var y,_=this.cache(u);if(typeof c=="string")_[se(c)]=g;else for(y in c)_[se(y)]=c[y];return _},get:function(u,c){return c===void 0?this.cache(u):u[this.expando]&&u[this.expando][se(c)]},access:function(u,c,g){return c===void 0||c&&typeof c=="string"&&g===void 0?this.get(u,c):(this.set(u,c,g),g!==void 0?g:c)},remove:function(u,c){var g,y=u[this.expando];if(y!==void 0){if(c!==void 0)for(Array.isArray(c)?c=c.map(se):(c=se(c),c=c in y?[c]:c.match(ze)||[]),g=c.length;g--;)delete y[c[g]];(c===void 0||h.isEmptyObject(y))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var c=u[this.expando];return c!==void 0&&!h.isEmptyObject(c)}};var te=new Me,Ve=new Me,Je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pt=/[A-Z]/g;function ft(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:Je.test(u)?JSON.parse(u):u}function Ot(u,c,g){var y;if(g===void 0&&u.nodeType===1)if(y="data-"+c.replace(pt,"-$&").toLowerCase(),g=u.getAttribute(y),typeof g=="string"){try{g=ft(g)}catch{}Ve.set(u,c,g)}else g=void 0;return g}h.extend({hasData:function(u){return Ve.hasData(u)||te.hasData(u)},data:function(u,c,g){return Ve.access(u,c,g)},removeData:function(u,c){Ve.remove(u,c)},_data:function(u,c,g){return te.access(u,c,g)},_removeData:function(u,c){te.remove(u,c)}}),h.fn.extend({data:function(u,c){var g,y,_,w=this[0],S=w&&w.attributes;if(u===void 0){if(this.length&&(_=Ve.get(w),w.nodeType===1&&!te.get(w,"hasDataAttrs"))){for(g=S.length;g--;)S[g]&&(y=S[g].name,y.indexOf("data-")===0&&(y=se(y.slice(5)),Ot(w,y,_[y])));te.set(w,"hasDataAttrs",!0)}return _}return typeof u=="object"?this.each(function(){Ve.set(this,u)}):he(this,function(B){var D;if(w&&B===void 0)return D=Ve.get(w,u),D!==void 0||(D=Ot(w,u),D!==void 0)?D:void 0;this.each(function(){Ve.set(this,u,B)})},null,c,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){Ve.remove(this,u)})}}),h.extend({queue:function(u,c,g){var y;if(u)return c=(c||"fx")+"queue",y=te.get(u,c),g&&(!y||Array.isArray(g)?y=te.access(u,c,h.makeArray(g)):y.push(g)),y||[]},dequeue:function(u,c){c=c||"fx";var g=h.queue(u,c),y=g.length,_=g.shift(),w=h._queueHooks(u,c),S=function(){h.dequeue(u,c)};_==="inprogress"&&(_=g.shift(),y--),_&&(c==="fx"&&g.unshift("inprogress"),delete w.stop,_.call(u,S,w)),!y&&w&&w.empty.fire()},_queueHooks:function(u,c){var g=c+"queueHooks";return te.get(u,g)||te.access(u,g,{empty:h.Callbacks("once memory").add(function(){te.remove(u,[c+"queue",g])})})}}),h.fn.extend({queue:function(u,c){var g=2;return typeof u!="string"&&(c=u,u="fx",g--),arguments.length<g?h.queue(this[0],u):c===void 0?this:this.each(function(){var y=h.queue(this,u,c);h._queueHooks(this,u),u==="fx"&&y[0]!=="inprogress"&&h.dequeue(this,u)})},dequeue:function(u){return this.each(function(){h.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,c){var g,y=1,_=h.Deferred(),w=this,S=this.length,B=function(){--y||_.resolveWith(w,[w])};for(typeof u!="string"&&(c=u,u=void 0),u=u||"fx";S--;)g=te.get(w[S],u+"queueHooks"),g&&g.empty&&(y++,g.empty.add(B));return B(),_.promise(c)}});var Wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Wt+")([a-z%]*)$","i"),un=["Top","Right","Bottom","Left"],ne=L.documentElement,Fe=function(u){return h.contains(u.ownerDocument,u)},Ue={composed:!0};ne.getRootNode&&(Fe=function(u){return h.contains(u.ownerDocument,u)||u.getRootNode(Ue)===u.ownerDocument});var at=function(u,c){return u=c||u,u.style.display==="none"||u.style.display===""&&Fe(u)&&h.css(u,"display")==="none"};function gt(u,c,g,y){var _,w,S=20,B=y?function(){return y.cur()}:function(){return h.css(u,c,"")},D=B(),U=g&&g[3]||(h.cssNumber[c]?"":"px"),ae=u.nodeType&&(h.cssNumber[c]||U!=="px"&&+D)&&$t.exec(h.css(u,c));if(ae&&ae[3]!==U){for(D=D/2,U=U||ae[3],ae=+D||1;S--;)h.style(u,c,ae+U),(1-w)*(1-(w=B()/D||.5))<=0&&(S=0),ae=ae/w;ae=ae*2,h.style(u,c,ae+U),g=g||[]}return g&&(ae=+ae||+D||0,_=g[1]?ae+(g[1]+1)*g[2]:+g[2],y&&(y.unit=U,y.start=ae,y.end=_)),_}var gn={};function Kn(u){var c,g=u.ownerDocument,y=u.nodeName,_=gn[y];return _||(c=g.body.appendChild(g.createElement(y)),_=h.css(c,"display"),c.parentNode.removeChild(c),_==="none"&&(_="block"),gn[y]=_,_)}function oi(u,c){for(var g,y,_=[],w=0,S=u.length;w<S;w++)y=u[w],y.style&&(g=y.style.display,c?(g==="none"&&(_[w]=te.get(y,"display")||null,_[w]||(y.style.display="")),y.style.display===""&&at(y)&&(_[w]=Kn(y))):g!=="none"&&(_[w]="none",te.set(y,"display",g)));for(w=0;w<S;w++)_[w]!=null&&(u[w].style.display=_[w]);return u}h.fn.extend({show:function(){return oi(this,!0)},hide:function(){return oi(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){at(this)?h(this).show():h(this).hide()})}});var $r=/^(?:checkbox|radio)$/i,Wi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ks=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=L.createDocumentFragment(),c=u.appendChild(L.createElement("div")),g=L.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),c.appendChild(g),b.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,c.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue,c.innerHTML="<option></option>",b.option=!!c.lastChild})();var Cn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Cn.tbody=Cn.tfoot=Cn.colgroup=Cn.caption=Cn.thead,Cn.th=Cn.td,b.option||(Cn.optgroup=Cn.option=[1,"<select multiple='multiple'>","</select>"]);function Qt(u,c){var g;return typeof u.getElementsByTagName<"u"?g=u.getElementsByTagName(c||"*"):typeof u.querySelectorAll<"u"?g=u.querySelectorAll(c||"*"):g=[],c===void 0||c&&E(u,c)?h.merge([u],g):g}function Va(u,c){for(var g=0,y=u.length;g<y;g++)te.set(u[g],"globalEval",!c||te.get(c[g],"globalEval"))}var Wa=/<|&#?\w+;/;function wo(u,c,g,y,_){for(var w,S,B,D,U,ae,ve=c.createDocumentFragment(),ee=[],xe=0,ot=u.length;xe<ot;xe++)if(w=u[xe],w||w===0)if(O(w)==="object")h.merge(ee,w.nodeType?[w]:w);else if(!Wa.test(w))ee.push(c.createTextNode(w));else{for(S=S||ve.appendChild(c.createElement("div")),B=(Wi.exec(w)||["",""])[1].toLowerCase(),D=Cn[B]||Cn._default,S.innerHTML=D[1]+h.htmlPrefilter(w)+D[2],ae=D[0];ae--;)S=S.lastChild;h.merge(ee,S.childNodes),S=ve.firstChild,S.textContent=""}for(ve.textContent="",xe=0;w=ee[xe++];){if(y&&h.inArray(w,y)>-1){_&&_.push(w);continue}if(U=Fe(w),S=Qt(ve.appendChild(w),"script"),U&&Va(S),g)for(ae=0;w=S[ae++];)ks.test(w.type||"")&&g.push(w)}return ve}var O1=/^([^.]*)(?:\.(.+)|)/;function Ts(){return!0}function xs(){return!1}function Sp(u,c,g,y,_,w){var S,B;if(typeof c=="object"){typeof g!="string"&&(y=y||g,g=void 0);for(B in c)Sp(u,B,g,y,c[B],w);return u}if(y==null&&_==null?(_=g,y=g=void 0):_==null&&(typeof g=="string"?(_=y,y=void 0):(_=y,y=g,g=void 0)),_===!1)_=xs;else if(!_)return u;return w===1&&(S=_,_=function(D){return h().off(D),S.apply(this,arguments)},_.guid=S.guid||(S.guid=h.guid++)),u.each(function(){h.event.add(this,c,_,y,g)})}h.event={global:{},add:function(u,c,g,y,_){var w,S,B,D,U,ae,ve,ee,xe,ot,wt,ht=te.get(u);if(Te(u))for(g.handler&&(w=g,g=w.handler,_=w.selector),_&&h.find.matchesSelector(ne,_),g.guid||(g.guid=h.guid++),(D=ht.events)||(D=ht.events=Object.create(null)),(S=ht.handle)||(S=ht.handle=function(_n){return typeof h<"u"&&h.event.triggered!==_n.type?h.event.dispatch.apply(u,arguments):void 0}),c=(c||"").match(ze)||[""],U=c.length;U--;)B=O1.exec(c[U])||[],xe=wt=B[1],ot=(B[2]||"").split(".").sort(),xe&&(ve=h.event.special[xe]||{},xe=(_?ve.delegateType:ve.bindType)||xe,ve=h.event.special[xe]||{},ae=h.extend({type:xe,origType:wt,data:y,handler:g,guid:g.guid,selector:_,needsContext:_&&h.expr.match.needsContext.test(_),namespace:ot.join(".")},w),(ee=D[xe])||(ee=D[xe]=[],ee.delegateCount=0,(!ve.setup||ve.setup.call(u,y,ot,S)===!1)&&u.addEventListener&&u.addEventListener(xe,S)),ve.add&&(ve.add.call(u,ae),ae.handler.guid||(ae.handler.guid=g.guid)),_?ee.splice(ee.delegateCount++,0,ae):ee.push(ae),h.event.global[xe]=!0)},remove:function(u,c,g,y,_){var w,S,B,D,U,ae,ve,ee,xe,ot,wt,ht=te.hasData(u)&&te.get(u);if(!(!ht||!(D=ht.events))){for(c=(c||"").match(ze)||[""],U=c.length;U--;){if(B=O1.exec(c[U])||[],xe=wt=B[1],ot=(B[2]||"").split(".").sort(),!xe){for(xe in D)h.event.remove(u,xe+c[U],g,y,!0);continue}for(ve=h.event.special[xe]||{},xe=(y?ve.delegateType:ve.bindType)||xe,ee=D[xe]||[],B=B[2]&&new RegExp("(^|\\.)"+ot.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=w=ee.length;w--;)ae=ee[w],(_||wt===ae.origType)&&(!g||g.guid===ae.guid)&&(!B||B.test(ae.namespace))&&(!y||y===ae.selector||y==="**"&&ae.selector)&&(ee.splice(w,1),ae.selector&&ee.delegateCount--,ve.remove&&ve.remove.call(u,ae));S&&!ee.length&&((!ve.teardown||ve.teardown.call(u,ot,ht.handle)===!1)&&h.removeEvent(u,xe,ht.handle),delete D[xe])}h.isEmptyObject(D)&&te.remove(u,"handle events")}},dispatch:function(u){var c,g,y,_,w,S,B=new Array(arguments.length),D=h.event.fix(u),U=(te.get(this,"events")||Object.create(null))[D.type]||[],ae=h.event.special[D.type]||{};for(B[0]=D,c=1;c<arguments.length;c++)B[c]=arguments[c];if(D.delegateTarget=this,!(ae.preDispatch&&ae.preDispatch.call(this,D)===!1)){for(S=h.event.handlers.call(this,D,U),c=0;(_=S[c++])&&!D.isPropagationStopped();)for(D.currentTarget=_.elem,g=0;(w=_.handlers[g++])&&!D.isImmediatePropagationStopped();)(!D.rnamespace||w.namespace===!1||D.rnamespace.test(w.namespace))&&(D.handleObj=w,D.data=w.data,y=((h.event.special[w.origType]||{}).handle||w.handler).apply(_.elem,B),y!==void 0&&(D.result=y)===!1&&(D.preventDefault(),D.stopPropagation()));return ae.postDispatch&&ae.postDispatch.call(this,D),D.result}},handlers:function(u,c){var g,y,_,w,S,B=[],D=c.delegateCount,U=u.target;if(D&&U.nodeType&&!(u.type==="click"&&u.button>=1)){for(;U!==this;U=U.parentNode||this)if(U.nodeType===1&&!(u.type==="click"&&U.disabled===!0)){for(w=[],S={},g=0;g<D;g++)y=c[g],_=y.selector+" ",S[_]===void 0&&(S[_]=y.needsContext?h(_,this).index(U)>-1:h.find(_,this,null,[U]).length),S[_]&&w.push(y);w.length&&B.push({elem:U,handlers:w})}}return U=this,D<c.length&&B.push({elem:U,handlers:c.slice(D)}),B},addProp:function(u,c){Object.defineProperty(h.Event.prototype,u,{enumerable:!0,configurable:!0,get:k(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(g){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(u){return u[h.expando]?u:new h.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var c=this||u;return $r.test(c.type)&&c.click&&E(c,"input")&&ec(c,"click",!0),!1},trigger:function(u){var c=this||u;return $r.test(c.type)&&c.click&&E(c,"input")&&ec(c,"click"),!0},_default:function(u){var c=u.target;return $r.test(c.type)&&c.click&&E(c,"input")&&te.get(c,"click")||E(c,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function ec(u,c,g){if(!g){te.get(u,c)===void 0&&h.event.add(u,c,Ts);return}te.set(u,c,!1),h.event.add(u,c,{namespace:!1,handler:function(y){var _,w=te.get(this,c);if(y.isTrigger&1&&this[c]){if(w)(h.event.special[c]||{}).delegateType&&y.stopPropagation();else if(w=o.call(arguments),te.set(this,c,w),this[c](),_=te.get(this,c),te.set(this,c,!1),w!==_)return y.stopImmediatePropagation(),y.preventDefault(),_}else w&&(te.set(this,c,h.event.trigger(w[0],w.slice(1),this)),y.stopPropagation(),y.isImmediatePropagationStopped=Ts)}})}h.removeEvent=function(u,c,g){u.removeEventListener&&u.removeEventListener(c,g)},h.Event=function(u,c){if(!(this instanceof h.Event))return new h.Event(u,c);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?Ts:xs,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,c&&h.extend(this,c),this.timeStamp=u&&u.timeStamp||Date.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:xs,isPropagationStopped:xs,isImmediatePropagationStopped:xs,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=Ts,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=Ts,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=Ts,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},h.event.addProp),h.each({focus:"focusin",blur:"focusout"},function(u,c){function g(y){if(L.documentMode){var _=te.get(this,"handle"),w=h.event.fix(y);w.type=y.type==="focusin"?"focus":"blur",w.isSimulated=!0,_(y),w.target===w.currentTarget&&_(w)}else h.event.simulate(c,y.target,h.event.fix(y))}h.event.special[u]={setup:function(){var y;if(ec(this,u,!0),L.documentMode)y=te.get(this,c),y||this.addEventListener(c,g),te.set(this,c,(y||0)+1);else return!1},trigger:function(){return ec(this,u),!0},teardown:function(){var y;if(L.documentMode)y=te.get(this,c)-1,y?te.set(this,c,y):(this.removeEventListener(c,g),te.remove(this,c));else return!1},_default:function(y){return te.get(y.target,u)},delegateType:c},h.event.special[c]={setup:function(){var y=this.ownerDocument||this.document||this,_=L.documentMode?this:y,w=te.get(_,c);w||(L.documentMode?this.addEventListener(c,g):y.addEventListener(u,g,!0)),te.set(_,c,(w||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,_=L.documentMode?this:y,w=te.get(_,c)-1;w?te.set(_,c,w):(L.documentMode?this.removeEventListener(c,g):y.removeEventListener(u,g,!0),te.remove(_,c))}}}),h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,c){h.event.special[u]={delegateType:c,bindType:c,handle:function(g){var y,_=this,w=g.relatedTarget,S=g.handleObj;return(!w||w!==_&&!h.contains(_,w))&&(g.type=S.origType,y=S.handler.apply(this,arguments),g.type=c),y}}}),h.fn.extend({on:function(u,c,g,y){return Sp(this,u,c,g,y)},one:function(u,c,g,y){return Sp(this,u,c,g,y,1)},off:function(u,c,g){var y,_;if(u&&u.preventDefault&&u.handleObj)return y=u.handleObj,h(u.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if(typeof u=="object"){for(_ in u)this.off(_,c,u[_]);return this}return(c===!1||typeof c=="function")&&(g=c,c=void 0),g===!1&&(g=xs),this.each(function(){h.event.remove(this,u,g,c)})}});var f7=/<script|<style|<link/i,d7=/checked\s*(?:[^=]|=\s*.checked.)/i,p7=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function I1(u,c){return E(u,"table")&&E(c.nodeType!==11?c:c.firstChild,"tr")&&h(u).children("tbody")[0]||u}function h7(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function g7(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function N1(u,c){var g,y,_,w,S,B,D;if(c.nodeType===1){if(te.hasData(u)&&(w=te.get(u),D=w.events,D)){te.remove(c,"handle events");for(_ in D)for(g=0,y=D[_].length;g<y;g++)h.event.add(c,_,D[_][g])}Ve.hasData(u)&&(S=Ve.access(u),B=h.extend({},S),Ve.set(c,B))}}function m7(u,c){var g=c.nodeName.toLowerCase();g==="input"&&$r.test(u.type)?c.checked=u.checked:(g==="input"||g==="textarea")&&(c.defaultValue=u.defaultValue)}function Ss(u,c,g,y){c=s(c);var _,w,S,B,D,U,ae=0,ve=u.length,ee=ve-1,xe=c[0],ot=k(xe);if(ot||ve>1&&typeof xe=="string"&&!b.checkClone&&d7.test(xe))return u.each(function(wt){var ht=u.eq(wt);ot&&(c[0]=xe.call(this,wt,ht.html())),Ss(ht,c,g,y)});if(ve&&(_=wo(c,u[0].ownerDocument,!1,u,y),w=_.firstChild,_.childNodes.length===1&&(_=w),w||y)){for(S=h.map(Qt(_,"script"),h7),B=S.length;ae<ve;ae++)D=_,ae!==ee&&(D=h.clone(D,!0,!0),B&&h.merge(S,Qt(D,"script"))),g.call(u[ae],D,ae);if(B)for(U=S[S.length-1].ownerDocument,h.map(S,g7),ae=0;ae<B;ae++)D=S[ae],ks.test(D.type||"")&&!te.access(D,"globalEval")&&h.contains(U,D)&&(D.src&&(D.type||"").toLowerCase()!=="module"?h._evalUrl&&!D.noModule&&h._evalUrl(D.src,{nonce:D.nonce||D.getAttribute("nonce")},U):V(D.textContent.replace(p7,""),D,U))}return u}function R1(u,c,g){for(var y,_=c?h.filter(c,u):u,w=0;(y=_[w])!=null;w++)!g&&y.nodeType===1&&h.cleanData(Qt(y)),y.parentNode&&(g&&Fe(y)&&Va(Qt(y,"script")),y.parentNode.removeChild(y));return u}h.extend({htmlPrefilter:function(u){return u},clone:function(u,c,g){var y,_,w,S,B=u.cloneNode(!0),D=Fe(u);if(!b.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!h.isXMLDoc(u))for(S=Qt(B),w=Qt(u),y=0,_=w.length;y<_;y++)m7(w[y],S[y]);if(c)if(g)for(w=w||Qt(u),S=S||Qt(B),y=0,_=w.length;y<_;y++)N1(w[y],S[y]);else N1(u,B);return S=Qt(B,"script"),S.length>0&&Va(S,!D&&Qt(u,"script")),B},cleanData:function(u){for(var c,g,y,_=h.event.special,w=0;(g=u[w])!==void 0;w++)if(Te(g)){if(c=g[te.expando]){if(c.events)for(y in c.events)_[y]?h.event.remove(g,y):h.removeEvent(g,y,c.handle);g[te.expando]=void 0}g[Ve.expando]&&(g[Ve.expando]=void 0)}}}),h.fn.extend({detach:function(u){return R1(this,u,!0)},remove:function(u){return R1(this,u)},text:function(u){return he(this,function(c){return c===void 0?h.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=c)})},null,u,arguments.length)},append:function(){return Ss(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var c=I1(this,u);c.appendChild(u)}})},prepend:function(){return Ss(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var c=I1(this,u);c.insertBefore(u,c.firstChild)}})},before:function(){return Ss(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return Ss(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,c=0;(u=this[c])!=null;c++)u.nodeType===1&&(h.cleanData(Qt(u,!1)),u.textContent="");return this},clone:function(u,c){return u=u??!1,c=c??u,this.map(function(){return h.clone(this,u,c)})},html:function(u){return he(this,function(c){var g=this[0]||{},y=0,_=this.length;if(c===void 0&&g.nodeType===1)return g.innerHTML;if(typeof c=="string"&&!f7.test(c)&&!Cn[(Wi.exec(c)||["",""])[1].toLowerCase()]){c=h.htmlPrefilter(c);try{for(;y<_;y++)g=this[y]||{},g.nodeType===1&&(h.cleanData(Qt(g,!1)),g.innerHTML=c);g=0}catch{}}g&&this.empty().append(c)},null,u,arguments.length)},replaceWith:function(){var u=[];return Ss(this,arguments,function(c){var g=this.parentNode;h.inArray(this,u)<0&&(h.cleanData(Qt(this)),g&&g.replaceChild(c,this))},u)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,c){h.fn[u]=function(g){for(var y,_=[],w=h(g),S=w.length-1,B=0;B<=S;B++)y=B===S?this:this.clone(!0),h(w[B])[c](y),a.apply(_,y.get());return this.pushStack(_)}});var Ep=new RegExp("^("+Wt+")(?!px)[a-z%]+$","i"),Ap=/^--/,tc=function(u){var c=u.ownerDocument.defaultView;return(!c||!c.opener)&&(c=t),c.getComputedStyle(u)},P1=function(u,c,g){var y,_,w={};for(_ in c)w[_]=u.style[_],u.style[_]=c[_];y=g.call(u);for(_ in c)u.style[_]=w[_];return y},v7=new RegExp(un.join("|"),"i");(function(){function u(){if(U){D.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",U.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(D).appendChild(U);var ae=t.getComputedStyle(U);g=ae.top!=="1%",B=c(ae.marginLeft)===12,U.style.right="60%",w=c(ae.right)===36,y=c(ae.width)===36,U.style.position="absolute",_=c(U.offsetWidth/3)===12,ne.removeChild(D),U=null}}function c(ae){return Math.round(parseFloat(ae))}var g,y,_,w,S,B,D=L.createElement("div"),U=L.createElement("div");U.style&&(U.style.backgroundClip="content-box",U.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=U.style.backgroundClip==="content-box",h.extend(b,{boxSizingReliable:function(){return u(),y},pixelBoxStyles:function(){return u(),w},pixelPosition:function(){return u(),g},reliableMarginLeft:function(){return u(),B},scrollboxSize:function(){return u(),_},reliableTrDimensions:function(){var ae,ve,ee,xe;return S==null&&(ae=L.createElement("table"),ve=L.createElement("tr"),ee=L.createElement("div"),ae.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ve.style.cssText="box-sizing:content-box;border:1px solid",ve.style.height="1px",ee.style.height="9px",ee.style.display="block",ne.appendChild(ae).appendChild(ve).appendChild(ee),xe=t.getComputedStyle(ve),S=parseInt(xe.height,10)+parseInt(xe.borderTopWidth,10)+parseInt(xe.borderBottomWidth,10)===ve.offsetHeight,ne.removeChild(ae)),S}}))})();function Ua(u,c,g){var y,_,w,S,B=Ap.test(c),D=u.style;return g=g||tc(u),g&&(S=g.getPropertyValue(c)||g[c],B&&S&&(S=S.replace(_e,"$1")||void 0),S===""&&!Fe(u)&&(S=h.style(u,c)),!b.pixelBoxStyles()&&Ep.test(S)&&v7.test(c)&&(y=D.width,_=D.minWidth,w=D.maxWidth,D.minWidth=D.maxWidth=D.width=S,S=g.width,D.width=y,D.minWidth=_,D.maxWidth=w)),S!==void 0?S+"":S}function M1(u,c){return{get:function(){if(u()){delete this.get;return}return(this.get=c).apply(this,arguments)}}}var D1=["Webkit","Moz","ms"],F1=L.createElement("div").style,B1={};function y7(u){for(var c=u[0].toUpperCase()+u.slice(1),g=D1.length;g--;)if(u=D1[g]+c,u in F1)return u}function Lp(u){var c=h.cssProps[u]||B1[u];return c||(u in F1?u:B1[u]=y7(u)||u)}var b7=/^(none|table(?!-c[ea]).+)/,C7={position:"absolute",visibility:"hidden",display:"block"},$1={letterSpacing:"0",fontWeight:"400"};function j1(u,c,g){var y=$t.exec(c);return y?Math.max(0,y[2]-(g||0))+(y[3]||"px"):c}function Op(u,c,g,y,_,w){var S=c==="width"?1:0,B=0,D=0,U=0;if(g===(y?"border":"content"))return 0;for(;S<4;S+=2)g==="margin"&&(U+=h.css(u,g+un[S],!0,_)),y?(g==="content"&&(D-=h.css(u,"padding"+un[S],!0,_)),g!=="margin"&&(D-=h.css(u,"border"+un[S]+"Width",!0,_))):(D+=h.css(u,"padding"+un[S],!0,_),g!=="padding"?D+=h.css(u,"border"+un[S]+"Width",!0,_):B+=h.css(u,"border"+un[S]+"Width",!0,_));return!y&&w>=0&&(D+=Math.max(0,Math.ceil(u["offset"+c[0].toUpperCase()+c.slice(1)]-w-D-B-.5))||0),D+U}function H1(u,c,g){var y=tc(u),_=!b.boxSizingReliable()||g,w=_&&h.css(u,"boxSizing",!1,y)==="border-box",S=w,B=Ua(u,c,y),D="offset"+c[0].toUpperCase()+c.slice(1);if(Ep.test(B)){if(!g)return B;B="auto"}return(!b.boxSizingReliable()&&w||!b.reliableTrDimensions()&&E(u,"tr")||B==="auto"||!parseFloat(B)&&h.css(u,"display",!1,y)==="inline")&&u.getClientRects().length&&(w=h.css(u,"boxSizing",!1,y)==="border-box",S=D in u,S&&(B=u[D])),B=parseFloat(B)||0,B+Op(u,c,g||(w?"border":"content"),S,y,B)+"px"}h.extend({cssHooks:{opacity:{get:function(u,c){if(c){var g=Ua(u,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(u,c,g,y){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var _,w,S,B=se(c),D=Ap.test(c),U=u.style;if(D||(c=Lp(B)),S=h.cssHooks[c]||h.cssHooks[B],g!==void 0){if(w=typeof g,w==="string"&&(_=$t.exec(g))&&_[1]&&(g=gt(u,c,_),w="number"),g==null||g!==g)return;w==="number"&&!D&&(g+=_&&_[3]||(h.cssNumber[B]?"":"px")),!b.clearCloneStyle&&g===""&&c.indexOf("background")===0&&(U[c]="inherit"),(!S||!("set"in S)||(g=S.set(u,g,y))!==void 0)&&(D?U.setProperty(c,g):U[c]=g)}else return S&&"get"in S&&(_=S.get(u,!1,y))!==void 0?_:U[c]}},css:function(u,c,g,y){var _,w,S,B=se(c),D=Ap.test(c);return D||(c=Lp(B)),S=h.cssHooks[c]||h.cssHooks[B],S&&"get"in S&&(_=S.get(u,!0,g)),_===void 0&&(_=Ua(u,c,y)),_==="normal"&&c in $1&&(_=$1[c]),g===""||g?(w=parseFloat(_),g===!0||isFinite(w)?w||0:_):_}}),h.each(["height","width"],function(u,c){h.cssHooks[c]={get:function(g,y,_){if(y)return b7.test(h.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?P1(g,C7,function(){return H1(g,c,_)}):H1(g,c,_)},set:function(g,y,_){var w,S=tc(g),B=!b.scrollboxSize()&&S.position==="absolute",D=B||_,U=D&&h.css(g,"boxSizing",!1,S)==="border-box",ae=_?Op(g,c,_,U,S):0;return U&&B&&(ae-=Math.ceil(g["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(S[c])-Op(g,c,"border",!1,S)-.5)),ae&&(w=$t.exec(y))&&(w[3]||"px")!=="px"&&(g.style[c]=y,y=h.css(g,c)),j1(g,y,ae)}}}),h.cssHooks.marginLeft=M1(b.reliableMarginLeft,function(u,c){if(c)return(parseFloat(Ua(u,"marginLeft"))||u.getBoundingClientRect().left-P1(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),h.each({margin:"",padding:"",border:"Width"},function(u,c){h.cssHooks[u+c]={expand:function(g){for(var y=0,_={},w=typeof g=="string"?g.split(" "):[g];y<4;y++)_[u+un[y]+c]=w[y]||w[y-2]||w[0];return _}},u!=="margin"&&(h.cssHooks[u+c].set=j1)}),h.fn.extend({css:function(u,c){return he(this,function(g,y,_){var w,S,B={},D=0;if(Array.isArray(y)){for(w=tc(g),S=y.length;D<S;D++)B[y[D]]=h.css(g,y[D],!1,w);return B}return _!==void 0?h.style(g,y,_):h.css(g,y)},u,c,arguments.length>1)}});function Gn(u,c,g,y,_){return new Gn.prototype.init(u,c,g,y,_)}h.Tween=Gn,Gn.prototype={constructor:Gn,init:function(u,c,g,y,_,w){this.elem=u,this.prop=g,this.easing=_||h.easing._default,this.options=c,this.start=this.now=this.cur(),this.end=y,this.unit=w||(h.cssNumber[g]?"":"px")},cur:function(){var u=Gn.propHooks[this.prop];return u&&u.get?u.get(this):Gn.propHooks._default.get(this)},run:function(u){var c,g=Gn.propHooks[this.prop];return this.options.duration?this.pos=c=h.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=c=u,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Gn.propHooks._default.set(this),this}},Gn.prototype.init.prototype=Gn.prototype,Gn.propHooks={_default:{get:function(u){var c;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(c=h.css(u.elem,u.prop,""),!c||c==="auto"?0:c)},set:function(u){h.fx.step[u.prop]?h.fx.step[u.prop](u):u.elem.nodeType===1&&(h.cssHooks[u.prop]||u.elem.style[Lp(u.prop)]!=null)?h.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},Gn.propHooks.scrollTop=Gn.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},h.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},h.fx=Gn.prototype.init,h.fx.step={};var Es,nc,_7=/^(?:toggle|show|hide)$/,w7=/queueHooks$/;function Ip(){nc&&(L.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Ip):t.setTimeout(Ip,h.fx.interval),h.fx.tick())}function V1(){return t.setTimeout(function(){Es=void 0}),Es=Date.now()}function ic(u,c){var g,y=0,_={height:u};for(c=c?1:0;y<4;y+=2-c)g=un[y],_["margin"+g]=_["padding"+g]=u;return c&&(_.opacity=_.width=u),_}function W1(u,c,g){for(var y,_=(Li.tweeners[c]||[]).concat(Li.tweeners["*"]),w=0,S=_.length;w<S;w++)if(y=_[w].call(g,c,u))return y}function k7(u,c,g){var y,_,w,S,B,D,U,ae,ve="width"in c||"height"in c,ee=this,xe={},ot=u.style,wt=u.nodeType&&at(u),ht=te.get(u,"fxshow");g.queue||(S=h._queueHooks(u,"fx"),S.unqueued==null&&(S.unqueued=0,B=S.empty.fire,S.empty.fire=function(){S.unqueued||B()}),S.unqueued++,ee.always(function(){ee.always(function(){S.unqueued--,h.queue(u,"fx").length||S.empty.fire()})}));for(y in c)if(_=c[y],_7.test(_)){if(delete c[y],w=w||_==="toggle",_===(wt?"hide":"show"))if(_==="show"&&ht&&ht[y]!==void 0)wt=!0;else continue;xe[y]=ht&&ht[y]||h.style(u,y)}if(D=!h.isEmptyObject(c),!(!D&&h.isEmptyObject(xe))){ve&&u.nodeType===1&&(g.overflow=[ot.overflow,ot.overflowX,ot.overflowY],U=ht&&ht.display,U==null&&(U=te.get(u,"display")),ae=h.css(u,"display"),ae==="none"&&(U?ae=U:(oi([u],!0),U=u.style.display||U,ae=h.css(u,"display"),oi([u]))),(ae==="inline"||ae==="inline-block"&&U!=null)&&h.css(u,"float")==="none"&&(D||(ee.done(function(){ot.display=U}),U==null&&(ae=ot.display,U=ae==="none"?"":ae)),ot.display="inline-block")),g.overflow&&(ot.overflow="hidden",ee.always(function(){ot.overflow=g.overflow[0],ot.overflowX=g.overflow[1],ot.overflowY=g.overflow[2]})),D=!1;for(y in xe)D||(ht?"hidden"in ht&&(wt=ht.hidden):ht=te.access(u,"fxshow",{display:U}),w&&(ht.hidden=!wt),wt&&oi([u],!0),ee.done(function(){wt||oi([u]),te.remove(u,"fxshow");for(y in xe)h.style(u,y,xe[y])})),D=W1(wt?ht[y]:0,y,ee),y in ht||(ht[y]=D.start,wt&&(D.end=D.start,D.start=0))}}function T7(u,c){var g,y,_,w,S;for(g in u)if(y=se(g),_=c[y],w=u[g],Array.isArray(w)&&(_=w[1],w=u[g]=w[0]),g!==y&&(u[y]=w,delete u[g]),S=h.cssHooks[y],S&&"expand"in S){w=S.expand(w),delete u[y];for(g in w)g in u||(u[g]=w[g],c[g]=_)}else c[y]=_}function Li(u,c,g){var y,_,w=0,S=Li.prefilters.length,B=h.Deferred().always(function(){delete D.elem}),D=function(){if(_)return!1;for(var ve=Es||V1(),ee=Math.max(0,U.startTime+U.duration-ve),xe=ee/U.duration||0,ot=1-xe,wt=0,ht=U.tweens.length;wt<ht;wt++)U.tweens[wt].run(ot);return B.notifyWith(u,[U,ot,ee]),ot<1&&ht?ee:(ht||B.notifyWith(u,[U,1,0]),B.resolveWith(u,[U]),!1)},U=B.promise({elem:u,props:h.extend({},c),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},g),originalProperties:c,originalOptions:g,startTime:Es||V1(),duration:g.duration,tweens:[],createTween:function(ve,ee){var xe=h.Tween(u,U.opts,ve,ee,U.opts.specialEasing[ve]||U.opts.easing);return U.tweens.push(xe),xe},stop:function(ve){var ee=0,xe=ve?U.tweens.length:0;if(_)return this;for(_=!0;ee<xe;ee++)U.tweens[ee].run(1);return ve?(B.notifyWith(u,[U,1,0]),B.resolveWith(u,[U,ve])):B.rejectWith(u,[U,ve]),this}}),ae=U.props;for(T7(ae,U.opts.specialEasing);w<S;w++)if(y=Li.prefilters[w].call(U,u,ae,U.opts),y)return k(y.stop)&&(h._queueHooks(U.elem,U.opts.queue).stop=y.stop.bind(y)),y;return h.map(ae,W1,U),k(U.opts.start)&&U.opts.start.call(u,U),U.progress(U.opts.progress).done(U.opts.done,U.opts.complete).fail(U.opts.fail).always(U.opts.always),h.fx.timer(h.extend(D,{elem:u,anim:U,queue:U.opts.queue})),U}h.Animation=h.extend(Li,{tweeners:{"*":[function(u,c){var g=this.createTween(u,c);return gt(g.elem,u,$t.exec(c),g),g}]},tweener:function(u,c){k(u)?(c=u,u=["*"]):u=u.match(ze);for(var g,y=0,_=u.length;y<_;y++)g=u[y],Li.tweeners[g]=Li.tweeners[g]||[],Li.tweeners[g].unshift(c)},prefilters:[k7],prefilter:function(u,c){c?Li.prefilters.unshift(u):Li.prefilters.push(u)}}),h.speed=function(u,c,g){var y=u&&typeof u=="object"?h.extend({},u):{complete:g||!g&&c||k(u)&&u,duration:u,easing:g&&c||c&&!k(c)&&c};return h.fx.off?y.duration=0:typeof y.duration!="number"&&(y.duration in h.fx.speeds?y.duration=h.fx.speeds[y.duration]:y.duration=h.fx.speeds._default),(y.queue==null||y.queue===!0)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){k(y.old)&&y.old.call(this),y.queue&&h.dequeue(this,y.queue)},y},h.fn.extend({fadeTo:function(u,c,g,y){return this.filter(at).css("opacity",0).show().end().animate({opacity:c},u,g,y)},animate:function(u,c,g,y){var _=h.isEmptyObject(u),w=h.speed(c,g,y),S=function(){var B=Li(this,h.extend({},u),w);(_||te.get(this,"finish"))&&B.stop(!0)};return S.finish=S,_||w.queue===!1?this.each(S):this.queue(w.queue,S)},stop:function(u,c,g){var y=function(_){var w=_.stop;delete _.stop,w(g)};return typeof u!="string"&&(g=c,c=u,u=void 0),c&&this.queue(u||"fx",[]),this.each(function(){var _=!0,w=u!=null&&u+"queueHooks",S=h.timers,B=te.get(this);if(w)B[w]&&B[w].stop&&y(B[w]);else for(w in B)B[w]&&B[w].stop&&w7.test(w)&&y(B[w]);for(w=S.length;w--;)S[w].elem===this&&(u==null||S[w].queue===u)&&(S[w].anim.stop(g),_=!1,S.splice(w,1));(_||!g)&&h.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var c,g=te.get(this),y=g[u+"queue"],_=g[u+"queueHooks"],w=h.timers,S=y?y.length:0;for(g.finish=!0,h.queue(this,u,[]),_&&_.stop&&_.stop.call(this,!0),c=w.length;c--;)w[c].elem===this&&w[c].queue===u&&(w[c].anim.stop(!0),w.splice(c,1));for(c=0;c<S;c++)y[c]&&y[c].finish&&y[c].finish.call(this);delete g.finish})}}),h.each(["toggle","show","hide"],function(u,c){var g=h.fn[c];h.fn[c]=function(y,_,w){return y==null||typeof y=="boolean"?g.apply(this,arguments):this.animate(ic(c,!0),y,_,w)}}),h.each({slideDown:ic("show"),slideUp:ic("hide"),slideToggle:ic("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,c){h.fn[u]=function(g,y,_){return this.animate(c,g,y,_)}}),h.timers=[],h.fx.tick=function(){var u,c=0,g=h.timers;for(Es=Date.now();c<g.length;c++)u=g[c],!u()&&g[c]===u&&g.splice(c--,1);g.length||h.fx.stop(),Es=void 0},h.fx.timer=function(u){h.timers.push(u),h.fx.start()},h.fx.interval=13,h.fx.start=function(){nc||(nc=!0,Ip())},h.fx.stop=function(){nc=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(u,c){return u=h.fx&&h.fx.speeds[u]||u,c=c||"fx",this.queue(c,function(g,y){var _=t.setTimeout(g,u);y.stop=function(){t.clearTimeout(_)}})},function(){var u=L.createElement("input"),c=L.createElement("select"),g=c.appendChild(L.createElement("option"));u.type="checkbox",b.checkOn=u.value!=="",b.optSelected=g.selected,u=L.createElement("input"),u.value="t",u.type="radio",b.radioValue=u.value==="t"}();var U1,Ka=h.expr.attrHandle;h.fn.extend({attr:function(u,c){return he(this,h.attr,u,c,arguments.length>1)},removeAttr:function(u){return this.each(function(){h.removeAttr(this,u)})}}),h.extend({attr:function(u,c,g){var y,_,w=u.nodeType;if(!(w===3||w===8||w===2)){if(typeof u.getAttribute>"u")return h.prop(u,c,g);if((w!==1||!h.isXMLDoc(u))&&(_=h.attrHooks[c.toLowerCase()]||(h.expr.match.bool.test(c)?U1:void 0)),g!==void 0){if(g===null){h.removeAttr(u,c);return}return _&&"set"in _&&(y=_.set(u,g,c))!==void 0?y:(u.setAttribute(c,g+""),g)}return _&&"get"in _&&(y=_.get(u,c))!==null?y:(y=h.find.attr(u,c),y??void 0)}},attrHooks:{type:{set:function(u,c){if(!b.radioValue&&c==="radio"&&E(u,"input")){var g=u.value;return u.setAttribute("type",c),g&&(u.value=g),c}}}},removeAttr:function(u,c){var g,y=0,_=c&&c.match(ze);if(_&&u.nodeType===1)for(;g=_[y++];)u.removeAttribute(g)}}),U1={set:function(u,c,g){return c===!1?h.removeAttr(u,g):u.setAttribute(g,g),g}},h.each(h.expr.match.bool.source.match(/\w+/g),function(u,c){var g=Ka[c]||h.find.attr;Ka[c]=function(y,_,w){var S,B,D=_.toLowerCase();return w||(B=Ka[D],Ka[D]=S,S=g(y,_,w)!=null?D:null,Ka[D]=B),S}});var x7=/^(?:input|select|textarea|button)$/i,S7=/^(?:a|area)$/i;h.fn.extend({prop:function(u,c){return he(this,h.prop,u,c,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[h.propFix[u]||u]})}}),h.extend({prop:function(u,c,g){var y,_,w=u.nodeType;if(!(w===3||w===8||w===2))return(w!==1||!h.isXMLDoc(u))&&(c=h.propFix[c]||c,_=h.propHooks[c]),g!==void 0?_&&"set"in _&&(y=_.set(u,g,c))!==void 0?y:u[c]=g:_&&"get"in _&&(y=_.get(u,c))!==null?y:u[c]},propHooks:{tabIndex:{get:function(u){var c=h.find.attr(u,"tabindex");return c?parseInt(c,10):x7.test(u.nodeName)||S7.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(h.propHooks.selected={get:function(u){var c=u.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(u){var c=u.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});function ko(u){var c=u.match(ze)||[];return c.join(" ")}function To(u){return u.getAttribute&&u.getAttribute("class")||""}function Np(u){return Array.isArray(u)?u:typeof u=="string"?u.match(ze)||[]:[]}h.fn.extend({addClass:function(u){var c,g,y,_,w,S;return k(u)?this.each(function(B){h(this).addClass(u.call(this,B,To(this)))}):(c=Np(u),c.length?this.each(function(){if(y=To(this),g=this.nodeType===1&&" "+ko(y)+" ",g){for(w=0;w<c.length;w++)_=c[w],g.indexOf(" "+_+" ")<0&&(g+=_+" ");S=ko(g),y!==S&&this.setAttribute("class",S)}}):this)},removeClass:function(u){var c,g,y,_,w,S;return k(u)?this.each(function(B){h(this).removeClass(u.call(this,B,To(this)))}):arguments.length?(c=Np(u),c.length?this.each(function(){if(y=To(this),g=this.nodeType===1&&" "+ko(y)+" ",g){for(w=0;w<c.length;w++)for(_=c[w];g.indexOf(" "+_+" ")>-1;)g=g.replace(" "+_+" "," ");S=ko(g),y!==S&&this.setAttribute("class",S)}}):this):this.attr("class","")},toggleClass:function(u,c){var g,y,_,w,S=typeof u,B=S==="string"||Array.isArray(u);return k(u)?this.each(function(D){h(this).toggleClass(u.call(this,D,To(this),c),c)}):typeof c=="boolean"&&B?c?this.addClass(u):this.removeClass(u):(g=Np(u),this.each(function(){if(B)for(w=h(this),_=0;_<g.length;_++)y=g[_],w.hasClass(y)?w.removeClass(y):w.addClass(y);else(u===void 0||S==="boolean")&&(y=To(this),y&&te.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||u===!1?"":te.get(this,"__className__")||""))}))},hasClass:function(u){var c,g,y=0;for(c=" "+u+" ";g=this[y++];)if(g.nodeType===1&&(" "+ko(To(g))+" ").indexOf(c)>-1)return!0;return!1}});var E7=/\r/g;h.fn.extend({val:function(u){var c,g,y,_=this[0];return arguments.length?(y=k(u),this.each(function(w){var S;this.nodeType===1&&(y?S=u.call(this,w,h(this).val()):S=u,S==null?S="":typeof S=="number"?S+="":Array.isArray(S)&&(S=h.map(S,function(B){return B==null?"":B+""})),c=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],(!c||!("set"in c)||c.set(this,S,"value")===void 0)&&(this.value=S))})):_?(c=h.valHooks[_.type]||h.valHooks[_.nodeName.toLowerCase()],c&&"get"in c&&(g=c.get(_,"value"))!==void 0?g:(g=_.value,typeof g=="string"?g.replace(E7,""):g??"")):void 0}}),h.extend({valHooks:{option:{get:function(u){var c=h.find.attr(u,"value");return c??ko(h.text(u))}},select:{get:function(u){var c,g,y,_=u.options,w=u.selectedIndex,S=u.type==="select-one",B=S?null:[],D=S?w+1:_.length;for(w<0?y=D:y=S?w:0;y<D;y++)if(g=_[y],(g.selected||y===w)&&!g.disabled&&(!g.parentNode.disabled||!E(g.parentNode,"optgroup"))){if(c=h(g).val(),S)return c;B.push(c)}return B},set:function(u,c){for(var g,y,_=u.options,w=h.makeArray(c),S=_.length;S--;)y=_[S],(y.selected=h.inArray(h.valHooks.option.get(y),w)>-1)&&(g=!0);return g||(u.selectedIndex=-1),w}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(u,c){if(Array.isArray(c))return u.checked=h.inArray(h(u).val(),c)>-1}},b.checkOn||(h.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})});var Ga=t.location,K1={guid:Date.now()},Rp=/\?/;h.parseXML=function(u){var c,g;if(!u||typeof u!="string")return null;try{c=new t.DOMParser().parseFromString(u,"text/xml")}catch{}return g=c&&c.getElementsByTagName("parsererror")[0],(!c||g)&&h.error("Invalid XML: "+(g?h.map(g.childNodes,function(y){return y.textContent}).join(`
`):u)),c};var G1=/^(?:focusinfocus|focusoutblur)$/,z1=function(u){u.stopPropagation()};h.extend(h.event,{trigger:function(u,c,g,y){var _,w,S,B,D,U,ae,ve,ee=[g||L],xe=v.call(u,"type")?u.type:u,ot=v.call(u,"namespace")?u.namespace.split("."):[];if(w=ve=S=g=g||L,!(g.nodeType===3||g.nodeType===8)&&!G1.test(xe+h.event.triggered)&&(xe.indexOf(".")>-1&&(ot=xe.split("."),xe=ot.shift(),ot.sort()),D=xe.indexOf(":")<0&&"on"+xe,u=u[h.expando]?u:new h.Event(xe,typeof u=="object"&&u),u.isTrigger=y?2:3,u.namespace=ot.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+ot.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=g),c=c==null?[u]:h.makeArray(c,[u]),ae=h.event.special[xe]||{},!(!y&&ae.trigger&&ae.trigger.apply(g,c)===!1))){if(!y&&!ae.noBubble&&!x(g)){for(B=ae.delegateType||xe,G1.test(B+xe)||(w=w.parentNode);w;w=w.parentNode)ee.push(w),S=w;S===(g.ownerDocument||L)&&ee.push(S.defaultView||S.parentWindow||t)}for(_=0;(w=ee[_++])&&!u.isPropagationStopped();)ve=w,u.type=_>1?B:ae.bindType||xe,U=(te.get(w,"events")||Object.create(null))[u.type]&&te.get(w,"handle"),U&&U.apply(w,c),U=D&&w[D],U&&U.apply&&Te(w)&&(u.result=U.apply(w,c),u.result===!1&&u.preventDefault());return u.type=xe,!y&&!u.isDefaultPrevented()&&(!ae._default||ae._default.apply(ee.pop(),c)===!1)&&Te(g)&&D&&k(g[xe])&&!x(g)&&(S=g[D],S&&(g[D]=null),h.event.triggered=xe,u.isPropagationStopped()&&ve.addEventListener(xe,z1),g[xe](),u.isPropagationStopped()&&ve.removeEventListener(xe,z1),h.event.triggered=void 0,S&&(g[D]=S)),u.result}},simulate:function(u,c,g){var y=h.extend(new h.Event,g,{type:u,isSimulated:!0});h.event.trigger(y,null,c)}}),h.fn.extend({trigger:function(u,c){return this.each(function(){h.event.trigger(u,c,this)})},triggerHandler:function(u,c){var g=this[0];if(g)return h.event.trigger(u,c,g,!0)}});var A7=/\[\]$/,q1=/\r?\n/g,L7=/^(?:submit|button|image|reset|file)$/i,O7=/^(?:input|select|textarea|keygen)/i;function Pp(u,c,g,y){var _;if(Array.isArray(c))h.each(c,function(w,S){g||A7.test(u)?y(u,S):Pp(u+"["+(typeof S=="object"&&S!=null?w:"")+"]",S,g,y)});else if(!g&&O(c)==="object")for(_ in c)Pp(u+"["+_+"]",c[_],g,y);else y(u,c)}h.param=function(u,c){var g,y=[],_=function(w,S){var B=k(S)?S():S;y[y.length]=encodeURIComponent(w)+"="+encodeURIComponent(B??"")};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!h.isPlainObject(u))h.each(u,function(){_(this.name,this.value)});else for(g in u)Pp(g,u[g],c,_);return y.join("&")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=h.prop(this,"elements");return u?h.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!h(this).is(":disabled")&&O7.test(this.nodeName)&&!L7.test(u)&&(this.checked||!$r.test(u))}).map(function(u,c){var g=h(this).val();return g==null?null:Array.isArray(g)?h.map(g,function(y){return{name:c.name,value:y.replace(q1,`\r
`)}}):{name:c.name,value:g.replace(q1,`\r
`)}}).get()}});var I7=/%20/g,N7=/#.*$/,R7=/([?&])_=[^&]*/,P7=/^(.*?):[ \t]*([^\r\n]*)$/mg,M7=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,D7=/^(?:GET|HEAD)$/,F7=/^\/\//,Y1={},Mp={},X1="*/".concat("*"),Dp=L.createElement("a");Dp.href=Ga.href;function J1(u){return function(c,g){typeof c!="string"&&(g=c,c="*");var y,_=0,w=c.toLowerCase().match(ze)||[];if(k(g))for(;y=w[_++];)y[0]==="+"?(y=y.slice(1)||"*",(u[y]=u[y]||[]).unshift(g)):(u[y]=u[y]||[]).push(g)}}function Z1(u,c,g,y){var _={},w=u===Mp;function S(B){var D;return _[B]=!0,h.each(u[B]||[],function(U,ae){var ve=ae(c,g,y);if(typeof ve=="string"&&!w&&!_[ve])return c.dataTypes.unshift(ve),S(ve),!1;if(w)return!(D=ve)}),D}return S(c.dataTypes[0])||!_["*"]&&S("*")}function Fp(u,c){var g,y,_=h.ajaxSettings.flatOptions||{};for(g in c)c[g]!==void 0&&((_[g]?u:y||(y={}))[g]=c[g]);return y&&h.extend(!0,u,y),u}function B7(u,c,g){for(var y,_,w,S,B=u.contents,D=u.dataTypes;D[0]==="*";)D.shift(),y===void 0&&(y=u.mimeType||c.getResponseHeader("Content-Type"));if(y){for(_ in B)if(B[_]&&B[_].test(y)){D.unshift(_);break}}if(D[0]in g)w=D[0];else{for(_ in g){if(!D[0]||u.converters[_+" "+D[0]]){w=_;break}S||(S=_)}w=w||S}if(w)return w!==D[0]&&D.unshift(w),g[w]}function $7(u,c,g,y){var _,w,S,B,D,U={},ae=u.dataTypes.slice();if(ae[1])for(S in u.converters)U[S.toLowerCase()]=u.converters[S];for(w=ae.shift();w;)if(u.responseFields[w]&&(g[u.responseFields[w]]=c),!D&&y&&u.dataFilter&&(c=u.dataFilter(c,u.dataType)),D=w,w=ae.shift(),w){if(w==="*")w=D;else if(D!=="*"&&D!==w){if(S=U[D+" "+w]||U["* "+w],!S){for(_ in U)if(B=_.split(" "),B[1]===w&&(S=U[D+" "+B[0]]||U["* "+B[0]],S)){S===!0?S=U[_]:U[_]!==!0&&(w=B[0],ae.unshift(B[1]));break}}if(S!==!0)if(S&&u.throws)c=S(c);else try{c=S(c)}catch(ve){return{state:"parsererror",error:S?ve:"No conversion from "+D+" to "+w}}}}return{state:"success",data:c}}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ga.href,type:"GET",isLocal:M7.test(Ga.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":X1,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,c){return c?Fp(Fp(u,h.ajaxSettings),c):Fp(h.ajaxSettings,u)},ajaxPrefilter:J1(Y1),ajaxTransport:J1(Mp),ajax:function(u,c){typeof u=="object"&&(c=u,u=void 0),c=c||{};var g,y,_,w,S,B,D,U,ae,ve,ee=h.ajaxSetup({},c),xe=ee.context||ee,ot=ee.context&&(xe.nodeType||xe.jquery)?h(xe):h.event,wt=h.Deferred(),ht=h.Callbacks("once memory"),_n=ee.statusCode||{},cn={},Ui={},Ki="canceled",Ct={readyState:0,getResponseHeader:function(St){var Jt;if(D){if(!w)for(w={};Jt=P7.exec(_);)w[Jt[1].toLowerCase()+" "]=(w[Jt[1].toLowerCase()+" "]||[]).concat(Jt[2]);Jt=w[St.toLowerCase()+" "]}return Jt==null?null:Jt.join(", ")},getAllResponseHeaders:function(){return D?_:null},setRequestHeader:function(St,Jt){return D==null&&(St=Ui[St.toLowerCase()]=Ui[St.toLowerCase()]||St,cn[St]=Jt),this},overrideMimeType:function(St){return D==null&&(ee.mimeType=St),this},statusCode:function(St){var Jt;if(St)if(D)Ct.always(St[Ct.status]);else for(Jt in St)_n[Jt]=[_n[Jt],St[Jt]];return this},abort:function(St){var Jt=St||Ki;return g&&g.abort(Jt),xo(0,Jt),this}};if(wt.promise(Ct),ee.url=((u||ee.url||Ga.href)+"").replace(F7,Ga.protocol+"//"),ee.type=c.method||c.type||ee.method||ee.type,ee.dataTypes=(ee.dataType||"*").toLowerCase().match(ze)||[""],ee.crossDomain==null){B=L.createElement("a");try{B.href=ee.url,B.href=B.href,ee.crossDomain=Dp.protocol+"//"+Dp.host!=B.protocol+"//"+B.host}catch{ee.crossDomain=!0}}if(ee.data&&ee.processData&&typeof ee.data!="string"&&(ee.data=h.param(ee.data,ee.traditional)),Z1(Y1,ee,c,Ct),D)return Ct;U=h.event&&ee.global,U&&h.active++===0&&h.event.trigger("ajaxStart"),ee.type=ee.type.toUpperCase(),ee.hasContent=!D7.test(ee.type),y=ee.url.replace(N7,""),ee.hasContent?ee.data&&ee.processData&&(ee.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ee.data=ee.data.replace(I7,"+")):(ve=ee.url.slice(y.length),ee.data&&(ee.processData||typeof ee.data=="string")&&(y+=(Rp.test(y)?"&":"?")+ee.data,delete ee.data),ee.cache===!1&&(y=y.replace(R7,"$1"),ve=(Rp.test(y)?"&":"?")+"_="+K1.guid+++ve),ee.url=y+ve),ee.ifModified&&(h.lastModified[y]&&Ct.setRequestHeader("If-Modified-Since",h.lastModified[y]),h.etag[y]&&Ct.setRequestHeader("If-None-Match",h.etag[y])),(ee.data&&ee.hasContent&&ee.contentType!==!1||c.contentType)&&Ct.setRequestHeader("Content-Type",ee.contentType),Ct.setRequestHeader("Accept",ee.dataTypes[0]&&ee.accepts[ee.dataTypes[0]]?ee.accepts[ee.dataTypes[0]]+(ee.dataTypes[0]!=="*"?", "+X1+"; q=0.01":""):ee.accepts["*"]);for(ae in ee.headers)Ct.setRequestHeader(ae,ee.headers[ae]);if(ee.beforeSend&&(ee.beforeSend.call(xe,Ct,ee)===!1||D))return Ct.abort();if(Ki="abort",ht.add(ee.complete),Ct.done(ee.success),Ct.fail(ee.error),g=Z1(Mp,ee,c,Ct),!g)xo(-1,"No Transport");else{if(Ct.readyState=1,U&&ot.trigger("ajaxSend",[Ct,ee]),D)return Ct;ee.async&&ee.timeout>0&&(S=t.setTimeout(function(){Ct.abort("timeout")},ee.timeout));try{D=!1,g.send(cn,xo)}catch(St){if(D)throw St;xo(-1,St)}}function xo(St,Jt,qa,$p){var Gi,Ya,zi,jr,Hr,yi=Jt;D||(D=!0,S&&t.clearTimeout(S),g=void 0,_=$p||"",Ct.readyState=St>0?4:0,Gi=St>=200&&St<300||St===304,qa&&(jr=B7(ee,Ct,qa)),!Gi&&h.inArray("script",ee.dataTypes)>-1&&h.inArray("json",ee.dataTypes)<0&&(ee.converters["text script"]=function(){}),jr=$7(ee,jr,Ct,Gi),Gi?(ee.ifModified&&(Hr=Ct.getResponseHeader("Last-Modified"),Hr&&(h.lastModified[y]=Hr),Hr=Ct.getResponseHeader("etag"),Hr&&(h.etag[y]=Hr)),St===204||ee.type==="HEAD"?yi="nocontent":St===304?yi="notmodified":(yi=jr.state,Ya=jr.data,zi=jr.error,Gi=!zi)):(zi=yi,(St||!yi)&&(yi="error",St<0&&(St=0))),Ct.status=St,Ct.statusText=(Jt||yi)+"",Gi?wt.resolveWith(xe,[Ya,yi,Ct]):wt.rejectWith(xe,[Ct,yi,zi]),Ct.statusCode(_n),_n=void 0,U&&ot.trigger(Gi?"ajaxSuccess":"ajaxError",[Ct,ee,Gi?Ya:zi]),ht.fireWith(xe,[Ct,yi]),U&&(ot.trigger("ajaxComplete",[Ct,ee]),--h.active||h.event.trigger("ajaxStop")))}return Ct},getJSON:function(u,c,g){return h.get(u,c,g,"json")},getScript:function(u,c){return h.get(u,void 0,c,"script")}}),h.each(["get","post"],function(u,c){h[c]=function(g,y,_,w){return k(y)&&(w=w||_,_=y,y=void 0),h.ajax(h.extend({url:g,type:c,dataType:w,data:y,success:_},h.isPlainObject(g)&&g))}}),h.ajaxPrefilter(function(u){var c;for(c in u.headers)c.toLowerCase()==="content-type"&&(u.contentType=u.headers[c]||"")}),h._evalUrl=function(u,c,g){return h.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){h.globalEval(y,c,g)}})},h.fn.extend({wrapAll:function(u){var c;return this[0]&&(k(u)&&(u=u.call(this[0])),c=h(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(u){return k(u)?this.each(function(c){h(this).wrapInner(u.call(this,c))}):this.each(function(){var c=h(this),g=c.contents();g.length?g.wrapAll(u):c.append(u)})},wrap:function(u){var c=k(u);return this.each(function(g){h(this).wrapAll(c?u.call(this,g):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}}),h.expr.pseudos.hidden=function(u){return!h.expr.pseudos.visible(u)},h.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},h.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var j7={0:200,1223:204},za=h.ajaxSettings.xhr();b.cors=!!za&&"withCredentials"in za,b.ajax=za=!!za,h.ajaxTransport(function(u){var c,g;if(b.cors||za&&!u.crossDomain)return{send:function(y,_){var w,S=u.xhr();if(S.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(w in u.xhrFields)S[w]=u.xhrFields[w];u.mimeType&&S.overrideMimeType&&S.overrideMimeType(u.mimeType),!u.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest");for(w in y)S.setRequestHeader(w,y[w]);c=function(B){return function(){c&&(c=g=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,B==="abort"?S.abort():B==="error"?typeof S.status!="number"?_(0,"error"):_(S.status,S.statusText):_(j7[S.status]||S.status,S.statusText,(S.responseType||"text")!=="text"||typeof S.responseText!="string"?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=c(),g=S.onerror=S.ontimeout=c("error"),S.onabort!==void 0?S.onabort=g:S.onreadystatechange=function(){S.readyState===4&&t.setTimeout(function(){c&&g()})},c=c("abort");try{S.send(u.hasContent&&u.data||null)}catch(B){if(c)throw B}},abort:function(){c&&c()}}}),h.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return h.globalEval(u),u}}}),h.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),h.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var c,g;return{send:function(y,_){c=h("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",g=function(w){c.remove(),g=null,w&&_(w.type==="error"?404:200,w.type)}),L.head.appendChild(c[0])},abort:function(){g&&g()}}}});var Q1=[],Bp=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=Q1.pop()||h.expando+"_"+K1.guid++;return this[u]=!0,u}}),h.ajaxPrefilter("json jsonp",function(u,c,g){var y,_,w,S=u.jsonp!==!1&&(Bp.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Bp.test(u.data)&&"data");if(S||u.dataTypes[0]==="jsonp")return y=u.jsonpCallback=k(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,S?u[S]=u[S].replace(Bp,"$1"+y):u.jsonp!==!1&&(u.url+=(Rp.test(u.url)?"&":"?")+u.jsonp+"="+y),u.converters["script json"]=function(){return w||h.error(y+" was not called"),w[0]},u.dataTypes[0]="json",_=t[y],t[y]=function(){w=arguments},g.always(function(){_===void 0?h(t).removeProp(y):t[y]=_,u[y]&&(u.jsonpCallback=c.jsonpCallback,Q1.push(y)),w&&k(_)&&_(w[0]),w=_=void 0}),"script"}),b.createHTMLDocument=function(){var u=L.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2}(),h.parseHTML=function(u,c,g){if(typeof u!="string")return[];typeof c=="boolean"&&(g=c,c=!1);var y,_,w;return c||(b.createHTMLDocument?(c=L.implementation.createHTMLDocument(""),y=c.createElement("base"),y.href=L.location.href,c.head.appendChild(y)):c=L),_=W.exec(u),w=!g&&[],_?[c.createElement(_[1])]:(_=wo([u],c,w),w&&w.length&&h(w).remove(),h.merge([],_.childNodes))},h.fn.load=function(u,c,g){var y,_,w,S=this,B=u.indexOf(" ");return B>-1&&(y=ko(u.slice(B)),u=u.slice(0,B)),k(c)?(g=c,c=void 0):c&&typeof c=="object"&&(_="POST"),S.length>0&&h.ajax({url:u,type:_||"GET",dataType:"html",data:c}).done(function(D){w=arguments,S.html(y?h("<div>").append(h.parseHTML(D)).find(y):D)}).always(g&&function(D,U){S.each(function(){g.apply(this,w||[D.responseText,U,D])})}),this},h.expr.pseudos.animated=function(u){return h.grep(h.timers,function(c){return u===c.elem}).length},h.offset={setOffset:function(u,c,g){var y,_,w,S,B,D,U,ae=h.css(u,"position"),ve=h(u),ee={};ae==="static"&&(u.style.position="relative"),B=ve.offset(),w=h.css(u,"top"),D=h.css(u,"left"),U=(ae==="absolute"||ae==="fixed")&&(w+D).indexOf("auto")>-1,U?(y=ve.position(),S=y.top,_=y.left):(S=parseFloat(w)||0,_=parseFloat(D)||0),k(c)&&(c=c.call(u,g,h.extend({},B))),c.top!=null&&(ee.top=c.top-B.top+S),c.left!=null&&(ee.left=c.left-B.left+_),"using"in c?c.using.call(u,ee):ve.css(ee)}},h.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(_){h.offset.setOffset(this,u,_)});var c,g,y=this[0];if(y)return y.getClientRects().length?(c=y.getBoundingClientRect(),g=y.ownerDocument.defaultView,{top:c.top+g.pageYOffset,left:c.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var u,c,g,y=this[0],_={top:0,left:0};if(h.css(y,"position")==="fixed")c=y.getBoundingClientRect();else{for(c=this.offset(),g=y.ownerDocument,u=y.offsetParent||g.documentElement;u&&(u===g.body||u===g.documentElement)&&h.css(u,"position")==="static";)u=u.parentNode;u&&u!==y&&u.nodeType===1&&(_=h(u).offset(),_.top+=h.css(u,"borderTopWidth",!0),_.left+=h.css(u,"borderLeftWidth",!0))}return{top:c.top-_.top-h.css(y,"marginTop",!0),left:c.left-_.left-h.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&h.css(u,"position")==="static";)u=u.offsetParent;return u||ne})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,c){var g=c==="pageYOffset";h.fn[u]=function(y){return he(this,function(_,w,S){var B;if(x(_)?B=_:_.nodeType===9&&(B=_.defaultView),S===void 0)return B?B[c]:_[w];B?B.scrollTo(g?B.pageXOffset:S,g?S:B.pageYOffset):_[w]=S},u,y,arguments.length)}}),h.each(["top","left"],function(u,c){h.cssHooks[c]=M1(b.pixelPosition,function(g,y){if(y)return y=Ua(g,c),Ep.test(y)?h(g).position()[c]+"px":y})}),h.each({Height:"height",Width:"width"},function(u,c){h.each({padding:"inner"+u,content:c,"":"outer"+u},function(g,y){h.fn[y]=function(_,w){var S=arguments.length&&(g||typeof _!="boolean"),B=g||(_===!0||w===!0?"margin":"border");return he(this,function(D,U,ae){var ve;return x(D)?y.indexOf("outer")===0?D["inner"+u]:D.document.documentElement["client"+u]:D.nodeType===9?(ve=D.documentElement,Math.max(D.body["scroll"+u],ve["scroll"+u],D.body["offset"+u],ve["offset"+u],ve["client"+u])):ae===void 0?h.css(D,U,B):h.style(D,U,ae,B)},c,S?_:void 0,S)}})}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,c){h.fn[c]=function(g){return this.on(c,g)}}),h.fn.extend({bind:function(u,c,g){return this.on(u,null,c,g)},unbind:function(u,c){return this.off(u,null,c)},delegate:function(u,c,g,y){return this.on(c,u,g,y)},undelegate:function(u,c,g){return arguments.length===1?this.off(u,"**"):this.off(c,u||"**",g)},hover:function(u,c){return this.on("mouseenter",u).on("mouseleave",c||u)}}),h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,c){h.fn[c]=function(g,y){return arguments.length>0?this.on(c,null,g,y):this.trigger(c)}});var H7=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;h.proxy=function(u,c){var g,y,_;if(typeof c=="string"&&(g=u[c],c=u,u=g),!!k(u))return y=o.call(arguments,2),_=function(){return u.apply(c||this,y.concat(o.call(arguments)))},_.guid=u.guid=u.guid||h.guid++,_},h.holdReady=function(u){u?h.readyWait++:h.ready(!0)},h.isArray=Array.isArray,h.parseJSON=JSON.parse,h.nodeName=E,h.isFunction=k,h.isWindow=x,h.camelCase=se,h.type=O,h.now=Date.now,h.isNumeric=function(u){var c=h.type(u);return(c==="number"||c==="string")&&!isNaN(u-parseFloat(u))},h.trim=function(u){return u==null?"":(u+"").replace(H7,"$1")};var V7=t.jQuery,W7=t.$;return h.noConflict=function(u){return t.$===h&&(t.$=W7),u&&t.jQuery===h&&(t.jQuery=V7),h},typeof n>"u"&&(t.jQuery=t.$=h),h})}(Qd)),Qd.exports}(function(e){(function(t){t(["jquery"],function(n){return function(){var i,r,o=0,s={error:"error",info:"info",success:"success",warning:"warning"},a={clear:k,remove:x,error:f,getContainer:d,info:v,options:{},subscribe:m,success:C,version:"2.1.4",warning:b},l;return a;function f(E,N,I){return K({type:s.error,iconClass:h().iconClasses.error,message:E,optionsOverride:I,title:N})}function d(E,N){return E||(E=h()),i=n("#"+E.containerId),i.length||N&&(i=V(E)),i}function v(E,N,I){return K({type:s.info,iconClass:h().iconClasses.info,message:E,optionsOverride:I,title:N})}function m(E){r=E}function C(E,N,I){return K({type:s.success,iconClass:h().iconClasses.success,message:E,optionsOverride:I,title:N})}function b(E,N,I){return K({type:s.warning,iconClass:h().iconClasses.warning,message:E,optionsOverride:I,title:N})}function k(E,N){var I=h();i||d(I),$(E,I,N)||L(I)}function x(E){var N=h();if(i||d(N),E&&n(":focus",E).length===0){M(E);return}i.children().length&&i.remove()}function L(E){for(var N=i.children(),I=N.length-1;I>=0;I--)$(n(N[I]),E)}function $(E,N,I){var F=I&&I.force?I.force:!1;return E&&(F||n(":focus",E).length===0)?(E[N.hideMethod]({duration:N.hideDuration,easing:N.hideEasing,complete:function(){M(E)}}),!0):!1}function V(E){return i=n("<div/>").attr("id",E.containerId).addClass(E.positionClass),i.appendTo(n(E.target)),i}function O(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function ge(E){r&&r(E)}function K(E){var N=h(),I=E.iconClass||N.iconClass;if(typeof E.optionsOverride<"u"&&(N=n.extend(N,E.optionsOverride),I=E.optionsOverride.iconClass||I),vt(N,E))return;o++,i=d(N,!0);var F=null,q=n("<div/>"),_e=n("<div/>"),$e=n("<div/>"),Le=n("<div/>"),G=n(N.closeHtml),le={intervalId:null,hideEta:null,maxHideTime:null},be={toastId:o,state:"visible",startTime:new Date,options:N,map:E};return Ce(),fe(),Q(),ge(be),N.debug&&console&&console.log(be),q;function Ee(Z){return Z==null&&(Z=""),Z.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ce(){de(),Oe(),qe(),De(),ze(),mt(),ye(),W()}function W(){var Z="";switch(E.iconClass){case"toast-success":case"toast-info":Z="polite";break;default:Z="assertive"}q.attr("aria-live",Z)}function Q(){N.closeOnHover&&q.hover(X,j),!N.onclick&&N.tapToDismiss&&q.click(P),N.closeButton&&G&&G.click(function(Z){Z.stopPropagation?Z.stopPropagation():Z.cancelBubble!==void 0&&Z.cancelBubble!==!0&&(Z.cancelBubble=!0),N.onCloseClick&&N.onCloseClick(Z),P(!0)}),N.onclick&&q.click(function(Z){N.onclick(Z),P()})}function fe(){q.hide(),q[N.showMethod]({duration:N.showDuration,easing:N.showEasing,complete:N.onShown}),N.timeOut>0&&(F=setTimeout(P,N.timeOut),le.maxHideTime=parseFloat(N.timeOut),le.hideEta=new Date().getTime()+le.maxHideTime,N.progressBar&&(le.intervalId=setInterval(ce,10)))}function de(){E.iconClass&&q.addClass(N.toastClass).addClass(I)}function ye(){N.newestOnTop?i.prepend(q):i.append(q)}function Oe(){if(E.title){var Z=E.title;N.escapeHtml&&(Z=Ee(E.title)),_e.append(Z).addClass(N.titleClass),q.append(_e)}}function qe(){if(E.message){var Z=E.message;N.escapeHtml&&(Z=Ee(E.message)),$e.append(Z).addClass(N.messageClass),q.append($e)}}function De(){N.closeButton&&(G.addClass(N.closeClass).attr("role","button"),q.prepend(G))}function ze(){N.progressBar&&(Le.addClass(N.progressClass),q.prepend(Le))}function mt(){N.rtl&&q.addClass("rtl")}function vt(Z,he){if(Z.preventDuplicates){if(he.message===l)return!0;l=he.message}return!1}function P(Z){var he=Z&&N.closeMethod!==!1?N.closeMethod:N.hideMethod,Se=Z&&N.closeDuration!==!1?N.closeDuration:N.hideDuration,we=Z&&N.closeEasing!==!1?N.closeEasing:N.hideEasing;if(!(n(":focus",q).length&&!Z))return clearTimeout(le.intervalId),q[he]({duration:Se,easing:we,complete:function(){M(q),clearTimeout(F),N.onHidden&&be.state!=="hidden"&&N.onHidden(),be.state="hidden",be.endTime=new Date,ge(be)}})}function j(){(N.timeOut>0||N.extendedTimeOut>0)&&(F=setTimeout(P,N.extendedTimeOut),le.maxHideTime=parseFloat(N.extendedTimeOut),le.hideEta=new Date().getTime()+le.maxHideTime)}function X(){clearTimeout(F),le.hideEta=0,q.stop(!0,!0)[N.showMethod]({duration:N.showDuration,easing:N.showEasing})}function ce(){var Z=(le.hideEta-new Date().getTime())/le.maxHideTime*100;Le.width(Z+"%")}}function h(){return n.extend({},O(),a.options)}function M(E){i||(i=d()),!E.is(":visible")&&(E.remove(),E=null,i.children().length===0&&(i.remove(),l=void 0))}}()})})(function(t,n){e.exports?e.exports=n(lj()):window.toastr=n(window.jQuery)})})(Sb);var uj=Sb.exports;const cj=aa(uj);var Ab={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,t){(function(i,r){e.exports=r()})(gf,function(){return function(){var n={686:function(o,s,a){a.d(s,{default:function(){return Ce}});var l=a(279),f=a.n(l),d=a(370),v=a.n(d),m=a(817),C=a.n(m);function b(W){try{return document.execCommand(W)}catch{return!1}}var k=function(Q){var fe=C()(Q);return b("cut"),fe},x=k;function L(W){var Q=document.documentElement.getAttribute("dir")==="rtl",fe=document.createElement("textarea");fe.style.fontSize="12pt",fe.style.border="0",fe.style.padding="0",fe.style.margin="0",fe.style.position="absolute",fe.style[Q?"right":"left"]="-9999px";var de=window.pageYOffset||document.documentElement.scrollTop;return fe.style.top="".concat(de,"px"),fe.setAttribute("readonly",""),fe.value=W,fe}var $=function(Q,fe){var de=L(Q);fe.container.appendChild(de);var ye=C()(de);return b("copy"),de.remove(),ye},V=function(Q){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},de="";return typeof Q=="string"?de=$(Q,fe):Q instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Q==null?void 0:Q.type)?de=$(Q.value,fe):(de=C()(Q),b("copy")),de},O=V;function ge(W){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ge=function(fe){return typeof fe}:ge=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},ge(W)}var K=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=Q.action,de=fe===void 0?"copy":fe,ye=Q.container,Oe=Q.target,qe=Q.text;if(de!=="copy"&&de!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Oe!==void 0)if(Oe&&ge(Oe)==="object"&&Oe.nodeType===1){if(de==="copy"&&Oe.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(de==="cut"&&(Oe.hasAttribute("readonly")||Oe.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(qe)return O(qe,{container:ye});if(Oe)return de==="cut"?x(Oe):O(Oe,{container:ye})},h=K;function M(W){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(fe){return typeof fe}:M=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},M(W)}function E(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}function N(W,Q){for(var fe=0;fe<Q.length;fe++){var de=Q[fe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(W,de.key,de)}}function I(W,Q,fe){return Q&&N(W.prototype,Q),fe&&N(W,fe),W}function F(W,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(Q&&Q.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Q&&q(W,Q)}function q(W,Q){return q=Object.setPrototypeOf||function(de,ye){return de.__proto__=ye,de},q(W,Q)}function _e(W){var Q=G();return function(){var de=le(W),ye;if(Q){var Oe=le(this).constructor;ye=Reflect.construct(de,arguments,Oe)}else ye=de.apply(this,arguments);return $e(this,ye)}}function $e(W,Q){return Q&&(M(Q)==="object"||typeof Q=="function")?Q:Le(W)}function Le(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function le(W){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},le(W)}function be(W,Q){var fe="data-clipboard-".concat(W);if(Q.hasAttribute(fe))return Q.getAttribute(fe)}var Ee=function(W){F(fe,W);var Q=_e(fe);function fe(de,ye){var Oe;return E(this,fe),Oe=Q.call(this),Oe.resolveOptions(ye),Oe.listenClick(de),Oe}return I(fe,[{key:"resolveOptions",value:function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ye.action=="function"?ye.action:this.defaultAction,this.target=typeof ye.target=="function"?ye.target:this.defaultTarget,this.text=typeof ye.text=="function"?ye.text:this.defaultText,this.container=M(ye.container)==="object"?ye.container:document.body}},{key:"listenClick",value:function(ye){var Oe=this;this.listener=v()(ye,"click",function(qe){return Oe.onClick(qe)})}},{key:"onClick",value:function(ye){var Oe=ye.delegateTarget||ye.currentTarget,qe=this.action(Oe)||"copy",De=h({action:qe,container:this.container,target:this.target(Oe),text:this.text(Oe)});this.emit(De?"success":"error",{action:qe,text:De,trigger:Oe,clearSelection:function(){Oe&&Oe.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ye){return be("action",ye)}},{key:"defaultTarget",value:function(ye){var Oe=be("target",ye);if(Oe)return document.querySelector(Oe)}},{key:"defaultText",value:function(ye){return be("text",ye)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ye){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return O(ye,Oe)}},{key:"cut",value:function(ye){return x(ye)}},{key:"isSupported",value:function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Oe=typeof ye=="string"?[ye]:ye,qe=!!document.queryCommandSupported;return Oe.forEach(function(De){qe=qe&&!!document.queryCommandSupported(De)}),qe}}]),fe}(f()),Ce=Ee},828:function(o){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function l(f,d){for(;f&&f.nodeType!==s;){if(typeof f.matches=="function"&&f.matches(d))return f;f=f.parentNode}}o.exports=l},438:function(o,s,a){var l=a(828);function f(m,C,b,k,x){var L=v.apply(this,arguments);return m.addEventListener(b,L,x),{destroy:function(){m.removeEventListener(b,L,x)}}}function d(m,C,b,k,x){return typeof m.addEventListener=="function"?f.apply(null,arguments):typeof b=="function"?f.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(L){return f(L,C,b,k,x)}))}function v(m,C,b,k){return function(x){x.delegateTarget=l(x.target,C),x.delegateTarget&&k.call(m,x)}}o.exports=d},879:function(o,s){s.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},s.nodeList=function(a){var l=Object.prototype.toString.call(a);return a!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in a&&(a.length===0||s.node(a[0]))},s.string=function(a){return typeof a=="string"||a instanceof String},s.fn=function(a){var l=Object.prototype.toString.call(a);return l==="[object Function]"}},370:function(o,s,a){var l=a(879),f=a(438);function d(b,k,x){if(!b&&!k&&!x)throw new Error("Missing required arguments");if(!l.string(k))throw new TypeError("Second argument must be a String");if(!l.fn(x))throw new TypeError("Third argument must be a Function");if(l.node(b))return v(b,k,x);if(l.nodeList(b))return m(b,k,x);if(l.string(b))return C(b,k,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function v(b,k,x){return b.addEventListener(k,x),{destroy:function(){b.removeEventListener(k,x)}}}function m(b,k,x){return Array.prototype.forEach.call(b,function(L){L.addEventListener(k,x)}),{destroy:function(){Array.prototype.forEach.call(b,function(L){L.removeEventListener(k,x)})}}}function C(b,k,x){return f(document.body,b,k,x)}o.exports=d},817:function(o){function s(a){var l;if(a.nodeName==="SELECT")a.focus(),l=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var f=a.hasAttribute("readonly");f||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),f||a.removeAttribute("readonly"),l=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),v=document.createRange();v.selectNodeContents(a),d.removeAllRanges(),d.addRange(v),l=d.toString()}return l}o.exports=s},279:function(o){function s(){}s.prototype={on:function(a,l,f){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:l,ctx:f}),this},once:function(a,l,f){var d=this;function v(){d.off(a,v),l.apply(f,arguments)}return v._=l,this.on(a,v,f)},emit:function(a){var l=[].slice.call(arguments,1),f=((this.e||(this.e={}))[a]||[]).slice(),d=0,v=f.length;for(d;d<v;d++)f[d].fn.apply(f[d].ctx,l);return this},off:function(a,l){var f=this.e||(this.e={}),d=f[a],v=[];if(d&&l)for(var m=0,C=d.length;m<C;m++)d[m].fn!==l&&d[m].fn._!==l&&v.push(d[m]);return v.length?f[a]=v:delete f[a],this}},o.exports=s,o.exports.TinyEmitter=s}},i={};function r(o){if(i[o])return i[o].exports;var s=i[o]={exports:{}};return n[o](s,s.exports,r),s.exports}return function(){r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,{a:s}),s}}(),function(){r.d=function(o,s){for(var a in s)r.o(s,a)&&!r.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:s[a]})}}(),function(){r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),r(686)}().default})})(Ab);var fj=Ab.exports;const dj=aa(fj),pj=e=>{const t=(e==null?void 0:e.appendToBody)===void 0?!0:e.appendToBody;return{toClipboard(n,i){return new Promise((r,o)=>{const s=document.createElement("button"),a=new dj(s,{text:()=>n,action:()=>"copy",container:i!==void 0?i:document.body});a.on("success",l=>{a.destroy(),r(l)}),a.on("error",l=>{a.destroy(),o(l)}),t&&document.body.appendChild(s),s.click(),t&&document.body.removeChild(s)})}}};function Lb(e,t){return function(){return e.apply(t,arguments)}}const{toString:hj}=Object.prototype,{getPrototypeOf:ep}=Object,$u=(e=>t=>{const n=hj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xi=e=>(e=e.toLowerCase(),t=>$u(t)===e),ju=e=>t=>typeof t===e,{isArray:Cs}=Array,Fa=ju("undefined");function gj(e){return e!==null&&!Fa(e)&&e.constructor!==null&&!Fa(e.constructor)&&ri(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ob=xi("ArrayBuffer");function mj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ob(e.buffer),t}const vj=ju("string"),ri=ju("function"),Ib=ju("number"),Hu=e=>e!==null&&typeof e=="object",yj=e=>e===!0||e===!1,Vu=e=>{if($u(e)!=="object")return!1;const t=ep(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bj=xi("Date"),Cj=xi("File"),_j=xi("Blob"),wj=xi("FileList"),kj=e=>Hu(e)&&ri(e.pipe),Tj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ri(e.append)&&((t=$u(e))==="formdata"||t==="object"&&ri(e.toString)&&e.toString()==="[object FormData]"))},xj=xi("URLSearchParams"),[Sj,Ej,Aj,Lj]=["ReadableStream","Request","Response","Headers"].map(xi),Oj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ba(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Cs(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(i=0;i<s;i++)a=o[i],t.call(null,e[a],a,e)}}function Nb(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Rb=e=>!Fa(e)&&e!==bo;function tp(){const{caseless:e}=Rb(this)&&this||{},t={},n=(i,r)=>{const o=e&&Nb(t,r)||r;Vu(t[o])&&Vu(i)?t[o]=tp(t[o],i):Vu(i)?t[o]=tp({},i):Cs(i)?t[o]=i.slice():t[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ba(arguments[i],n);return t}const Ij=(e,t,n,{allOwnKeys:i}={})=>(Ba(t,(r,o)=>{n&&ri(r)?e[o]=Lb(r,n):e[o]=r},{allOwnKeys:i}),e),Nj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rj=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pj=(e,t,n,i)=>{let r,o,s;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],(!i||i(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&ep(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Mj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Dj=e=>{if(!e)return null;if(Cs(e))return e;let t=e.length;if(!Ib(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ep(Uint8Array)),Bj=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},$j=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},jj=xi("HTMLFormElement"),Hj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Pb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Vj=xi("RegExp"),Mb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Ba(n,(r,o)=>{let s;(s=t(r,o,e))!==!1&&(i[o]=s||r)}),Object.defineProperties(e,i)},Wj=e=>{Mb(e,(t,n)=>{if(ri(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(ri(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Uj=(e,t)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Cs(e)?i(e):i(String(e).split(t)),n},Kj=()=>{},Gj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,np="abcdefghijklmnopqrstuvwxyz",Db="0123456789",Fb={DIGIT:Db,ALPHA:np,ALPHA_DIGIT:np+np.toUpperCase()+Db},zj=(e=16,t=Fb.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function qj(e){return!!(e&&ri(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Yj=e=>{const t=new Array(10),n=(i,r)=>{if(Hu(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const o=Cs(i)?[]:{};return Ba(i,(s,a)=>{const l=n(s,r+1);!Fa(l)&&(o[a]=l)}),t[r]=void 0,o}}return i};return n(e,0)},Xj=xi("AsyncFunction"),Jj=e=>e&&(Hu(e)||ri(e))&&ri(e.then)&&ri(e.catch),Bb=((e,t)=>e?setImmediate:t?((n,i)=>(bo.addEventListener("message",({source:r,data:o})=>{r===bo&&o===n&&i.length&&i.shift()()},!1),r=>{i.push(r),bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ri(bo.postMessage)),Zj=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||Bb,ue={isArray:Cs,isArrayBuffer:Ob,isBuffer:gj,isFormData:Tj,isArrayBufferView:mj,isString:vj,isNumber:Ib,isBoolean:yj,isObject:Hu,isPlainObject:Vu,isReadableStream:Sj,isRequest:Ej,isResponse:Aj,isHeaders:Lj,isUndefined:Fa,isDate:bj,isFile:Cj,isBlob:_j,isRegExp:Vj,isFunction:ri,isStream:kj,isURLSearchParams:xj,isTypedArray:Fj,isFileList:wj,forEach:Ba,merge:tp,extend:Ij,trim:Oj,stripBOM:Nj,inherits:Rj,toFlatObject:Pj,kindOf:$u,kindOfTest:xi,endsWith:Mj,toArray:Dj,forEachEntry:Bj,matchAll:$j,isHTMLForm:jj,hasOwnProperty:Pb,hasOwnProp:Pb,reduceDescriptors:Mb,freezeMethods:Wj,toObjectSet:Uj,toCamelCase:Hj,noop:Kj,toFiniteNumber:Gj,findKey:Nb,global:bo,isContextDefined:Rb,ALPHABET:Fb,generateString:zj,isSpecCompliantForm:qj,toJSONObject:Yj,isAsyncFn:Xj,isThenable:Jj,setImmediate:Bb,asap:Zj};function dt(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}ue.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $b=dt.prototype,jb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jb[e]={value:e}}),Object.defineProperties(dt,jb),Object.defineProperty($b,"isAxiosError",{value:!0}),dt.from=(e,t,n,i,r,o)=>{const s=Object.create($b);return ue.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),dt.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Qj=null;function ip(e){return ue.isPlainObject(e)||ue.isArray(e)}function Hb(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function Vb(e,t,n){return e?e.concat(t).map(function(r,o){return r=Hb(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function eH(e){return ue.isArray(e)&&!e.some(ip)}const tH=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Wu(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!ue.isUndefined(x[k])});const i=n.metaTokens,r=n.visitor||d,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(r))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(ue.isDate(b))return b.toISOString();if(!l&&ue.isBlob(b))throw new dt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(b)||ue.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,k,x){let L=b;if(b&&!x&&typeof b=="object"){if(ue.endsWith(k,"{}"))k=i?k:k.slice(0,-2),b=JSON.stringify(b);else if(ue.isArray(b)&&eH(b)||(ue.isFileList(b)||ue.endsWith(k,"[]"))&&(L=ue.toArray(b)))return k=Hb(k),L.forEach(function(V,O){!(ue.isUndefined(V)||V===null)&&t.append(s===!0?Vb([k],O,o):s===null?k:k+"[]",f(V))}),!1}return ip(b)?!0:(t.append(Vb(x,k,o),f(b)),!1)}const v=[],m=Object.assign(tH,{defaultVisitor:d,convertValue:f,isVisitable:ip});function C(b,k){if(!ue.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(b),ue.forEach(b,function(L,$){(!(ue.isUndefined(L)||L===null)&&r.call(t,L,ue.isString($)?$.trim():$,k,m))===!0&&C(L,k?k.concat($):[$])}),v.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return C(e),t}function Wb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function rp(e,t){this._pairs=[],e&&Wu(e,this,t)}const Ub=rp.prototype;Ub.append=function(t,n){this._pairs.push([t,n])},Ub.toString=function(t){const n=t?function(i){return t.call(this,i,Wb)}:Wb;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function nH(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kb(e,t,n){if(!t)return e;const i=n&&n.encode||nH,r=n&&n.serialize;let o;if(r?o=r(t,n):o=ue.isURLSearchParams(t)?t.toString():new rp(t,n).toString(i),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class iH{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Gb=iH,zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rH={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:rp,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},op=typeof window<"u"&&typeof document<"u",oH=(e=>op&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),sH=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),aH=op&&window.location.href||"http://localhost",Si={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:op,hasStandardBrowserEnv:oH,hasStandardBrowserWebWorkerEnv:sH,origin:aH},Symbol.toStringTag,{value:"Module"})),...rH};function lH(e,t){return Wu(e,new Si.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Si.isNode&&ue.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function uH(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cH(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}function qb(e){function t(n,i,r,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&ue.isArray(r)?r.length:s,l?(ue.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):((!r[s]||!ue.isObject(r[s]))&&(r[s]=[]),t(n,i,r[s],o)&&ue.isArray(r[s])&&(r[s]=cH(r[s])),!a)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(i,r)=>{t(uH(i),r,n,0)}),n}return null}function fH(e,t,n){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const sp={transitional:zb,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=ue.isObject(t);if(o&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return r?JSON.stringify(qb(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t)||ue.isReadableStream(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return lH(t,this.formSerializer).toString();if((a=ue.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),fH(t)):t}],transformResponse:[function(t){const n=this.transitional||sp.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ue.isResponse(t)||ue.isReadableStream(t))return t;if(t&&ue.isString(t)&&(i&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?dt.from(a,dt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Si.classes.FormData,Blob:Si.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{sp.headers[e]={}});const ap=sp,dH=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pH=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!n||t[n]&&dH[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Yb=Symbol("internals");function $a(e){return e&&String(e).trim().toLowerCase()}function Uu(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Uu):String(e)}function hH(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const gH=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lp(e,t,n,i,r){if(ue.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!ue.isString(t)){if(ue.isString(i))return t.indexOf(i)!==-1;if(ue.isRegExp(i))return i.test(t)}}function mH(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function vH(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,o,s){return this[i].call(this,t,r,o,s)},configurable:!0})})}class Ku{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function o(a,l,f){const d=$a(l);if(!d)throw new Error("header name must be a non-empty string");const v=ue.findKey(r,d);(!v||r[v]===void 0||f===!0||f===void 0&&r[v]!==!1)&&(r[v||l]=Uu(a))}const s=(a,l)=>ue.forEach(a,(f,d)=>o(f,d,l));if(ue.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(ue.isString(t)&&(t=t.trim())&&!gH(t))s(pH(t),n);else if(ue.isHeaders(t))for(const[a,l]of t.entries())o(l,a,i);else t!=null&&o(n,t,i);return this}get(t,n){if(t=$a(t),t){const i=ue.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return hH(r);if(ue.isFunction(n))return n.call(this,r,i);if(ue.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$a(t),t){const i=ue.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||lp(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function o(s){if(s=$a(s),s){const a=ue.findKey(i,s);a&&(!n||lp(i,i[a],a,n))&&(delete i[a],r=!0)}}return ue.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!t||lp(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,i={};return ue.forEach(this,(r,o)=>{const s=ue.findKey(i,o);if(s){n[s]=Uu(r),delete n[o];return}const a=t?mH(o):String(o).trim();a!==o&&delete n[o],n[a]=Uu(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&ue.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[Yb]=this[Yb]={accessors:{}}).accessors,r=this.prototype;function o(s){const a=$a(s);i[a]||(vH(r,s),i[a]=!0)}return ue.isArray(t)?t.forEach(o):o(t),this}}Ku.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ue.reduceDescriptors(Ku.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}}),ue.freezeMethods(Ku);const Ei=Ku;function up(e,t){const n=this||ap,i=t||n,r=Ei.from(i.headers);let o=i.data;return ue.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Xb(e){return!!(e&&e.__CANCEL__)}function _s(e,t,n){dt.call(this,e??"canceled",dt.ERR_CANCELED,t,n),this.name="CanceledError"}ue.inherits(_s,dt,{__CANCEL__:!0});function Jb(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new dt("Request failed with status code "+n.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yH(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bH(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const f=Date.now(),d=i[o];s||(s=f),n[r]=l,i[r]=f;let v=o,m=0;for(;v!==r;)m+=n[v++],v=v%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),f-s<t)return;const C=d&&f-d;return C?Math.round(m*1e3/C):void 0}}function CH(e,t){let n=0,i=1e3/t,r,o;const s=(f,d=Date.now())=>{n=d,r=null,o&&(clearTimeout(o),o=null),e.apply(null,f)};return[(...f)=>{const d=Date.now(),v=d-n;v>=i?s(f,d):(r=f,o||(o=setTimeout(()=>{o=null,s(r)},i-v)))},()=>r&&s(r)]}const Gu=(e,t,n=3)=>{let i=0;const r=bH(50,250);return CH(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-i,f=r(l),d=s<=a;i=s;const v={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:f||void 0,estimated:f&&a&&d?(a-s)/f:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(v)},n)},Zb=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Qb=e=>(...t)=>ue.asap(()=>e(...t)),_H=Si.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(s){const a=ue.isString(s)?r(s):s;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),wH=Si.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const s=[e+"="+encodeURIComponent(t)];ue.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ue.isString(i)&&s.push("path="+i),ue.isString(r)&&s.push("domain="+r),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kH(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TH(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e1(e,t){return e&&!kH(t)?TH(e,t):t}const t1=e=>e instanceof Ei?{...e}:e;function Co(e,t){t=t||{};const n={};function i(f,d,v){return ue.isPlainObject(f)&&ue.isPlainObject(d)?ue.merge.call({caseless:v},f,d):ue.isPlainObject(d)?ue.merge({},d):ue.isArray(d)?d.slice():d}function r(f,d,v){if(ue.isUndefined(d)){if(!ue.isUndefined(f))return i(void 0,f,v)}else return i(f,d,v)}function o(f,d){if(!ue.isUndefined(d))return i(void 0,d)}function s(f,d){if(ue.isUndefined(d)){if(!ue.isUndefined(f))return i(void 0,f)}else return i(void 0,d)}function a(f,d,v){if(v in t)return i(f,d);if(v in e)return i(void 0,f)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(f,d)=>r(t1(f),t1(d),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),function(d){const v=l[d]||r,m=v(e[d],t[d],d);ue.isUndefined(m)&&v!==a||(n[d]=m)}),n}const n1=e=>{const t=Co({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=Ei.from(s),t.url=Kb(e1(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ue.isFormData(n)){if(Si.hasStandardBrowserEnv||Si.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[f,...d]=l?l.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...d].join("; "))}}if(Si.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(t)),i||i!==!1&&_H(t.url))){const f=r&&o&&wH.read(o);f&&s.set(r,f)}return t},xH=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(n,i){const r=n1(e);let o=r.data;const s=Ei.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:f}=r,d,v,m,C,b;function k(){C&&C(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function L(){if(!x)return;const V=Ei.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),ge={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:V,config:e,request:x};Jb(function(h){n(h),k()},function(h){i(h),k()},ge),x=null}"onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(i(new dt("Request aborted",dt.ECONNABORTED,e,x)),x=null)},x.onerror=function(){i(new dt("Network Error",dt.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const ge=r.transitional||zb;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),i(new dt(O,ge.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,e,x)),x=null},o===void 0&&s.setContentType(null),"setRequestHeader"in x&&ue.forEach(s.toJSON(),function(O,ge){x.setRequestHeader(ge,O)}),ue.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),a&&a!=="json"&&(x.responseType=r.responseType),f&&([m,b]=Gu(f,!0),x.addEventListener("progress",m)),l&&x.upload&&([v,C]=Gu(l),x.upload.addEventListener("progress",v),x.upload.addEventListener("loadend",C)),(r.cancelToken||r.signal)&&(d=V=>{x&&(i(!V||V.type?new _s(null,e,x):V),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const $=yH(r.url);if($&&Si.protocols.indexOf($)===-1){i(new dt("Unsupported protocol "+$+":",dt.ERR_BAD_REQUEST,e));return}x.send(o||null)})},SH=(e,t)=>{let n=new AbortController,i;const r=function(l){if(!i){i=!0,s();const f=l instanceof Error?l:this.reason;n.abort(f instanceof dt?f:new _s(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{r(new dt(`timeout ${t} of ms exceeded`,dt.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},EH=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},AH=async function*(e,t,n){for await(const i of e)yield*EH(ArrayBuffer.isView(i)?i:await n(String(i)),t)},i1=(e,t,n,i,r)=>{const o=AH(e,t,r);let s=0,a,l=f=>{a||(a=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:d,value:v}=await o.next();if(d){l(),f.close();return}let m=v.byteLength;if(n){let C=s+=m;n(C)}f.enqueue(new Uint8Array(v))}catch(d){throw l(d),d}},cancel(f){return l(f),o.return()}},{highWaterMark:2})},zu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r1=zu&&typeof ReadableStream=="function",cp=zu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),o1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},LH=r1&&o1(()=>{let e=!1;const t=new Request(Si.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),s1=64*1024,fp=r1&&o1(()=>ue.isReadableStream(new Response("").body)),qu={stream:fp&&(e=>e.body)};zu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qu[t]&&(qu[t]=ue.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new dt(`Response type '${t}' is not supported`,dt.ERR_NOT_SUPPORT,i)})})})(new Response);const OH=async e=>{if(e==null)return 0;if(ue.isBlob(e))return e.size;if(ue.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ue.isArrayBufferView(e)||ue.isArrayBuffer(e))return e.byteLength;if(ue.isURLSearchParams(e)&&(e=e+""),ue.isString(e))return(await cp(e)).byteLength},IH=async(e,t)=>{const n=ue.toFiniteNumber(e.getContentLength());return n??OH(t)},dp={http:Qj,xhr:xH,fetch:zu&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:f,headers:d,withCredentials:v="same-origin",fetchOptions:m}=n1(e);f=f?(f+"").toLowerCase():"text";let[C,b]=r||o||s?SH([r,o],s):[],k,x;const L=()=>{!k&&setTimeout(()=>{C&&C.unsubscribe()}),k=!0};let $;try{if(l&&LH&&n!=="get"&&n!=="head"&&($=await IH(d,i))!==0){let K=new Request(t,{method:"POST",body:i,duplex:"half"}),h;if(ue.isFormData(i)&&(h=K.headers.get("content-type"))&&d.setContentType(h),K.body){const[M,E]=Zb($,Gu(Qb(l)));i=i1(K.body,s1,M,E,cp)}}ue.isString(v)||(v=v?"include":"omit"),x=new Request(t,{...m,signal:C,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:v});let V=await fetch(x);const O=fp&&(f==="stream"||f==="response");if(fp&&(a||O)){const K={};["status","statusText","headers"].forEach(N=>{K[N]=V[N]});const h=ue.toFiniteNumber(V.headers.get("content-length")),[M,E]=a&&Zb(h,Gu(Qb(a),!0))||[];V=new Response(i1(V.body,s1,M,()=>{E&&E(),O&&L()},cp),K)}f=f||"text";let ge=await qu[ue.findKey(qu,f)||"text"](V,e);return!O&&L(),b&&b(),await new Promise((K,h)=>{Jb(K,h,{data:ge,headers:Ei.from(V.headers),status:V.status,statusText:V.statusText,config:e,request:x})})}catch(V){throw L(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,e,x),{cause:V.cause||V}):dt.from(V,V&&V.code,e,x)}})};ue.forEach(dp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const a1=e=>`- ${e}`,NH=e=>ue.isFunction(e)||e===null||e===!1,l1={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){n=e[o];let s;if(i=n,!NH(n)&&(i=dp[(s=String(n)).toLowerCase()],i===void 0))throw new dt(`Unknown adapter '${s}'`);if(i)break;r[s||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(a1).join(`
`):" "+a1(o[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:dp};function pp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _s(null,e)}function u1(e){return pp(e),e.headers=Ei.from(e.headers),e.data=up.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l1.getAdapter(e.adapter||ap.adapter)(e).then(function(i){return pp(e),i.data=up.call(e,e.transformResponse,i),i.headers=Ei.from(i.headers),i},function(i){return Xb(i)||(pp(e),i&&i.response&&(i.response.data=up.call(e,e.transformResponse,i.response),i.response.headers=Ei.from(i.response.headers))),Promise.reject(i)})}const c1="1.7.3",hp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hp[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const f1={};hp.transitional=function(t,n,i){function r(o,s){return"[Axios v"+c1+"] Transitional option '"+o+"'"+s+(i?". "+i:"")}return(o,s,a)=>{if(t===!1)throw new dt(r(s," has been removed"+(n?" in "+n:"")),dt.ERR_DEPRECATED);return n&&!f1[s]&&(f1[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};function RH(e,t,n){if(typeof e!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new dt("option "+o+" must be "+l,dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dt("Unknown option "+o,dt.ERR_BAD_OPTION)}}const gp={assertOptions:RH,validators:hp},Br=gp.validators;class Yu{constructor(t){this.defaults=t,this.interceptors={request:new Gb,response:new Gb}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Co(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&gp.assertOptions(i,{silentJSONParsing:Br.transitional(Br.boolean),forcedJSONParsing:Br.transitional(Br.boolean),clarifyTimeoutError:Br.transitional(Br.boolean)},!1),r!=null&&(ue.isFunction(r)?n.paramsSerializer={serialize:r}:gp.assertOptions(r,{encode:Br.function,serialize:Br.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&ue.merge(o.common,o[n.method]);o&&ue.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),n.headers=Ei.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(l=l&&k.synchronous,a.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let d,v=0,m;if(!l){const b=[u1.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,f),m=b.length,d=Promise.resolve(n);v<m;)d=d.then(b[v++],b[v++]);return d}m=a.length;let C=n;for(v=0;v<m;){const b=a[v++],k=a[v++];try{C=b(C)}catch(x){k.call(this,x);break}}try{d=u1.call(this,C)}catch(b){return Promise.reject(b)}for(v=0,m=f.length;v<m;)d=d.then(f[v++],f[v++]);return d}getUri(t){t=Co(this.defaults,t);const n=e1(t.baseURL,t.url);return Kb(n,t.params,t.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(t){Yu.prototype[t]=function(n,i){return this.request(Co(i||{},{method:t,url:n,data:(i||{}).data}))}}),ue.forEach(["post","put","patch"],function(t){function n(i){return function(o,s,a){return this.request(Co(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Yu.prototype[t]=n(),Yu.prototype[t+"Form"]=n(!0)});const Xu=Yu;class mp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const s=new Promise(a=>{i.subscribe(a),o=a}).then(r);return s.cancel=function(){i.unsubscribe(o)},s},t(function(o,s,a){i.reason||(i.reason=new _s(o,s,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new mp(function(r){t=r}),cancel:t}}}const PH=mp;function MH(e){return function(n){return e.apply(null,n)}}function DH(e){return ue.isObject(e)&&e.isAxiosError===!0}const vp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vp).forEach(([e,t])=>{vp[t]=e});const FH=vp;function d1(e){const t=new Xu(e),n=Lb(Xu.prototype.request,t);return ue.extend(n,Xu.prototype,t,{allOwnKeys:!0}),ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return d1(Co(e,r))},n}const on=d1(ap);on.Axios=Xu,on.CanceledError=_s,on.CancelToken=PH,on.isCancel=Xb,on.VERSION=c1,on.toFormData=Wu,on.AxiosError=dt,on.Cancel=on.CanceledError,on.all=function(t){return Promise.all(t)},on.spread=MH,on.isAxiosError=DH,on.mergeConfig=Co,on.AxiosHeaders=Ei,on.formToJSON=e=>qb(ue.isHTMLForm(e)?new FormData(e):e),on.getAdapter=l1.getAdapter,on.HttpStatusCode=FH,on.default=on;const yp=on;class BH{constructor(){iC(this,"apiBaseURL","");this.apiBaseURL=pe.apiUrl(),this.api=yp.create({baseURL:this.apiBaseURL,timeout:6e4,headers:{"Content-Type":"application/json"}}),this.apiLora=yp.create({baseURL:"/weilin/lorainfo/",timeout:2e4,headers:{"Content-Type":"application/json"}}),this.apiLLM=yp.create({baseURL:"/weilin/api/llm_server/",timeout:2e4,headers:{"Content-Type":"application/json"}})}async getVersion(){return(await this.api.get("/get_version")).data}async getRemoteVersions(t=1,n=100){return(await this.api.get("/get_remote_versions",{params:{page:t,per_page:n}})).data.versions}async getConfig(){return(await this.api.get("/get_config")).data}async installPackage(t,n){const i={timeout:1e7};return(await this.api.post("/install_package",{name:t,package:n},i)).data.result}async getExtensions(){return(await this.api.get("/get_extensions")).data.extensions}async tokenCounter(t,n){return(await this.api.post("/token_counter",{text:t,steps:n})).data}async getData(t){return(await this.api.get("/get_data",{params:{key:t}})).data.data}async getDatas(t){return typeof t=="object"&&(t=t.join(",")),(await this.api.get("/get_datas",{params:{keys:t}})).data.datas}async setData(t,n){return(await this.api.post("/set_data",{key:t,data:n})).data.success}async setDatas(t){return(await this.api.post("/set_datas",{datas:t})).data.success}async getDataListItem(t,n){return(await this.api.get("/get_data_list_item",{params:{key:t,index:n}})).data.item}async pushDataList(t,n){return(await this.api.post("/push_data_list",{key:t,item:n})).data.success}async popDataList(t){return(await this.api.post("/pop_data_list",{key:t})).data.item}async shiftDataList(t){return(await this.api.post("/shift_data_list",{key:t})).data.item}async removeDataList(t,n){return(await this.api.post("/remove_data_list",{key:t,index:n})).data.success}async clearDataList(t){return(await this.api.post("/clear_data_list",{key:t})).data.success}async getHistories(t){return(await this.api.get("/get_histories",{params:{type:t}})).data.histories}async getFavorites(t){return(await this.api.get("/get_favorites",{params:{type:t}})).data.favorites}async pushHistory(t,n,i,r=""){return(await this.api.post("/push_history",{type:t,tags:n,prompt:i,name:r})).data.success}async pushFavorite(t,n,i,r=""){return(await this.api.post("/push_favorite",{type:t,tags:n,prompt:i,name:r})).data.success}async moveUpFavorite(t,n){return(await this.api.post("/move_up_favorite",{type:t,id:n})).data.success}async moveDownFavorite(t,n){return(await this.api.post("/move_down_favorite",{type:t,id:n})).data.success}async getLatestHistory(t){return(await this.api.get("/get_latest_history",{params:{type:t}})).data.history}async setHistory(t,n,i,r,o){return(await this.api.post("/set_history",{type:t,id:n,tags:i,prompt:r,name:o})).data.success}async setHistoryName(t,n,i){return(await this.api.post("/set_history_name",{type:t,id:n,name:i})).data.success}async setFavoriteName(t,n,i){return(await this.api.post("/set_favorite_name",{type:t,id:n,name:i})).data.success}async doFavorite(t,n){return(await this.api.post("/dofavorite",{type:t,id:n})).data.success}async unFavorite(t,n){return(await this.api.post("/unfavorite",{type:t,id:n})).data.success}async deleteHistory(t,n){return(await this.api.post("/delete_history",{type:t,id:n})).data.success}async deleteHistories(t){return(await this.api.post("/delete_histories",{type:t})).data.success}async translate(t,n,i,r,o={}){let s=(await this.api.post("/translate",{text:t,from_lang:n,to_lang:i,api:r,api_config:o})).data;return s.translated_text&&(s.translated_text=pe.unescapeHtml(s.translated_text)),s}async translates(t,n,i,r,o={}){let s=(await this.api.post("/translates",{texts:t,from_lang:n,to_lang:i,api:r,api_config:o})).data;return s.translated_text&&s.translated_text.forEach((a,l)=>{s.translated_text[l]=pe.unescapeHtml(a)}),s}async getCSVs(){return(await this.api.get("/get_csvs")).data.csvs}async getCSV(t){return(await this.api.get("/get_csv",{params:{key:t}})).data}async styles(t,n=""){return(await this.api.get("/styles",{params:{file:t,hash:n}})).data}async getExtensionCssList(){return(await this.api.get("/get_extension_css_list")).data.css_list}async getExtraNetworks(){return(await this.api.get("/get_extra_networks")).data.extra_networks}async getExtraNetworksLoadAll(){return(await this.api.get("/get_extra_networks_load_all")).data.extra_networks}async genOpenAI(t,n){return(await this.api.post("/gen_openai",{messages:t,api_config:n})).data}async mbart50Initialize(){const t={timeout:1e11};return(await this.api.post("/mbart50_initialize",{},t)).data}async getGroupTags(t){return(await this.api.get("/get_group_tags",{params:{lang:t}})).data.tags}async getLoraInfo(t,n=!1,i=!1){return await this.apiLora.get("/api/loras/info",{params:{file:t,refresh:n,light:i}})}async getLoraClear(t){return await this.apiLora.get("/api/loras/info/clear",{params:{file:t}})}async getLoraRefresh(t){return await this.apiLora.get("/api/loras/info/refresh",{params:{file:t}})}async postLoraSave(t,n){const i=new FormData;return i.append("json",JSON.stringify(n)),await this.apiLora.post("/api/loras/info?file="+t,i,{headers:{"Content-Type":"multipart/form-data"}})}async addGroupTags(t,n,i,r,o){return await this.api.post("/add_group_tags?lang="+t,{cn:n,en:i,key:r,group:o})}async editGroupTags(t,n,i,r,o){return await this.api.post("/edit_group_tags?lang="+t,{cn:n,en:i,key:r,group:o})}async deleteGroupTags(t,n,i,r,o){return await this.api.post("/delete_group_tags?lang="+t,{cn:n,en:i,key:r,group:o})}async addNewNodeGroupTags(t,n,i,r){return await this.api.post("/new_node_group_tags?lang="+t,{key:n,group:i,color:r})}async addNewGroupTags(t,n,i,r){return await this.api.post("/new_group_tags?lang="+t,{key:n,group:i,color:r})}async editNodeGroupTags(t,n,i){return await this.api.post("/edit_node_group_tags?lang="+t,{key:n,group:i})}async editChildGroupTags(t,n,i,r){return await this.api.post("/edit_child_group_tags?lang="+t,{key:n,group:i,newgroup:r})}async deleteNodeGroupTags(t,n){return await this.api.post("/delete_node_group_tags?lang="+t,{key:n})}async deleteChildGroupTags(t,n,i){return await this.api.post("/delete_child_group_tags?lang="+t,{key:n,group:i})}async deleteChildGroupTags(t,n,i){return await this.api.post("/delete_child_group_tags?lang="+t,{key:n,group:i})}async postUplaodImg(t,n,i){const r=new FormData;return r.append("image",t),r.append("path",n),r.append("fileName",i),await this.apiLora.post("/api/loras/set/img",r,{headers:{"Content-Type":"multipart/form-data"}})}async getLLMInstallConfig(){return(await this.api.get("/get_llm_config")).data}async getLLMSettingConfig(){return(await this.apiLLM.get("/getSetting")).data}async setLLMSettingConfig(t){return(await this.apiLLM.post("/setTransServer",t)).data}async testLLMTran(){return await this.apiLLM.get("/testTransServer")}async testLLMTran(){return await this.apiLLM.get("/testTransServer")}async imageLLMReps(t){const n={timeout:1e7};return await this.apiLLM.post("/imaginePrompt",{content:t},n)}async installLLMPackage(t,n){const i={timeout:1e7};return(await this.api.post("/install_llm_package",{name:t,package:n},i)).data.result}}const $H={data(){return{gradioAPI:null}},beforeMount(){this.gradioAPI=new BH},methods:{loadExtraNetworks(e=0){if(pe.gradioApp().querySelectorAll("#txt2img_checkpoints_cards .card").length)return this._loadExtraNetworks();if(e>10)return this._loadExtraNetworks();setTimeout(this.loadExtraNetworks,1e3,e+1)},_loadExtraNetworks(){this.gradioAPI.getExtraNetworks().then(e=>{e&&(this.extraNetworks=e,e.forEach(t=>{if(t.name==="textual inversion"){let n={};t.items.forEach(i=>{n[i.name.toLowerCase()]=i.name}),this.embeddings=n}else if(t.name==="lora"||t.name==="lycoris"){let n={};t.items.forEach(i=>{n[i.name.toLowerCase()]=i.name,i.output_name&&(n[i.output_name.toLowerCase()]=i.name)}),t.name==="lora"?this.loras=n:this.lycos=n}}))})},_loadExtraNetworksLoadAll(){this.gradioAPI.getExtraNetworksLoadAll().then(e=>{e&&(this.extraNetworks=e,e.forEach(t=>{if(t.name==="textual inversion"){let n={};t.items.forEach(i=>{n[i.name.toLowerCase()]=i.name}),this.embeddings=n}else if(t.name==="lora"||t.name==="lycoris"){let n={};t.items.forEach(i=>{n[i.name.toLowerCase()]=i.name,i.output_name&&(n[i.output_name.toLowerCase()]=i.name)}),t.name==="lora"?this.loras=n:this.lycos=n}}))})},getExtraNetworkFullName(e,t="lora"){var n,i,r;if(typeof this.extraNetworks!="object")return e;for(let o of this.extraNetworks){if(o.name!==t)continue;const s=e.toLowerCase();for(let a of o.items)if(a.name.toLowerCase()===s||((n=a.output_name)==null?void 0:n.toLowerCase())===s)return(i=a.civitai_info)!=null&&i.name?(r=a.civitai_info.model)!=null&&r.name&&a.civitai_info.model.name!==a.civitai_info.name?"["+a.civitai_info.name+"] "+a.civitai_info.model.name:a.civitai_info.name:e}return e},loraExists(e){return typeof this.loras!="object"?e:this.loras[e.toLowerCase()]??!1},lycoExists(e){return typeof this.lycos!="object"?e:this.lycos[e.toLowerCase()]??!1},embeddingExists(e){return typeof this.embeddings!="object"?e:this.embeddings[e.toLowerCase()]??!1}}};var jH="tippy-box",p1="tippy-content",HH="tippy-backdrop",h1="tippy-arrow",g1="tippy-svg-arrow",_o={passive:!0,capture:!0},m1=function(){return document.body};function bp(e,t,n){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(n)?n[t]:n)}return e}function Cp(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function v1(e,t){return typeof e=="function"?e.apply(void 0,t):e}function y1(e,t){if(t===0)return e;var n;return function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function VH(e){return e.split(/\s+/).filter(Boolean)}function ws(e){return[].concat(e)}function b1(e,t){e.indexOf(t)===-1&&e.push(t)}function WH(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function UH(e){return e.split("-")[0]}function Ju(e){return[].slice.call(e)}function C1(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function ja(){return document.createElement("div")}function Zu(e){return["Element","Fragment"].some(function(t){return Cp(e,t)})}function KH(e){return Cp(e,"NodeList")}function GH(e){return Cp(e,"MouseEvent")}function zH(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function qH(e){return Zu(e)?[e]:KH(e)?Ju(e):Array.isArray(e)?e:Ju(document.querySelectorAll(e))}function _p(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function _1(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function YH(e){var t,n=ws(e),i=n[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function XH(e,t){var n=t.clientX,i=t.clientY;return e.every(function(r){var o=r.popperRect,s=r.popperState,a=r.props,l=a.interactiveBorder,f=UH(s.placement),d=s.modifiersData.offset;if(!d)return!0;var v=f==="bottom"?d.top.y:0,m=f==="top"?d.bottom.y:0,C=f==="right"?d.left.x:0,b=f==="left"?d.right.x:0,k=o.top-i+v>l,x=i-o.bottom-m>l,L=o.left-n+C>l,$=n-o.right-b>l;return k||x||L||$})}function wp(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){e[i](r,n)})}function w1(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Vi={isTouch:!1},k1=0;function JH(){Vi.isTouch||(Vi.isTouch=!0,window.performance&&document.addEventListener("mousemove",T1))}function T1(){var e=performance.now();e-k1<20&&(Vi.isTouch=!1,document.removeEventListener("mousemove",T1)),k1=e}function ZH(){var e=document.activeElement;if(zH(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function QH(){document.addEventListener("touchstart",JH,_o),window.addEventListener("blur",ZH)}var e7=typeof window<"u"&&typeof document<"u",t7=e7?!!window.msCrypto:!1,n7={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},i7={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ai=Object.assign({appendTo:m1,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},n7,i7),r7=Object.keys(Ai),o7=function(t){var n=Object.keys(t);n.forEach(function(i){Ai[i]=t[i]})};function x1(e){var t=e.plugins||[],n=t.reduce(function(i,r){var o=r.name,s=r.defaultValue;if(o){var a;i[o]=e[o]!==void 0?e[o]:(a=Ai[o])!=null?a:s}return i},{});return Object.assign({},e,n)}function s7(e,t){var n=t?Object.keys(x1(Object.assign({},Ai,{plugins:t}))):r7,i=n.reduce(function(r,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return r;if(o==="content")r[o]=s;else try{r[o]=JSON.parse(s)}catch{r[o]=s}return r},{});return i}function S1(e,t){var n=Object.assign({},t,{content:v1(t.content,[e])},t.ignoreAttributes?{}:s7(e,t.plugins));return n.aria=Object.assign({},Ai.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var a7=function(){return"innerHTML"};function kp(e,t){e[a7()]=t}function E1(e){var t=ja();return e===!0?t.className=h1:(t.className=g1,Zu(e)?t.appendChild(e):kp(t,e)),t}function A1(e,t){Zu(t.content)?(kp(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?kp(e,t.content):e.textContent=t.content)}function Tp(e){var t=e.firstElementChild,n=Ju(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(p1)}),arrow:n.find(function(i){return i.classList.contains(h1)||i.classList.contains(g1)}),backdrop:n.find(function(i){return i.classList.contains(HH)})}}function L1(e){var t=ja(),n=ja();n.className=jH,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=ja();i.className=p1,i.setAttribute("data-state","hidden"),A1(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props);function r(o,s){var a=Tp(t),l=a.box,f=a.content,d=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&A1(f,e.props),s.arrow?d?o.arrow!==s.arrow&&(l.removeChild(d),l.appendChild(E1(s.arrow))):l.appendChild(E1(s.arrow)):d&&l.removeChild(d)}return{popper:t,onUpdate:r}}L1.$$tippy=!0;var l7=1,Qu=[],xp=[];function u7(e,t){var n=S1(e,Object.assign({},Ai,x1(C1(t)))),i,r,o,s=!1,a=!1,l=!1,f=!1,d,v,m,C=[],b=y1(j,n.interactiveDebounce),k,x=l7++,L=null,$=WH(n.plugins),V={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},O={id:x,reference:e,popper:ja(),popperInstance:L,props:n,state:V,plugins:$,clearDelayTimeouts:Ve,setProps:Je,setContent:pt,show:ft,hide:Ot,hideWithInteractivity:Wt,enable:Me,disable:te,unmount:$t,destroy:un};if(!n.render)return O;var ge=n.render(O),K=ge.popper,h=ge.onUpdate;K.setAttribute("data-tippy-root",""),K.id="tippy-"+O.id,O.popper=K,e._tippy=O,K._tippy=O;var M=$.map(function(ne){return ne.fn(O)}),E=e.hasAttribute("aria-expanded");return mt(),Ee(),G(),le("onCreate",[O]),n.showOnCreate&&se(),K.addEventListener("mouseenter",function(){O.props.interactive&&O.state.isVisible&&O.clearDelayTimeouts()}),K.addEventListener("mouseleave",function(){O.props.interactive&&O.props.trigger.indexOf("mouseenter")>=0&&_e().addEventListener("mousemove",b)}),O;function N(){var ne=O.props.touch;return Array.isArray(ne)?ne:[ne,0]}function I(){return N()[0]==="hold"}function F(){var ne;return!!((ne=O.props.render)!=null&&ne.$$tippy)}function q(){return k||e}function _e(){var ne=q().parentNode;return ne?YH(ne):document}function $e(){return Tp(K)}function Le(ne){return O.state.isMounted&&!O.state.isVisible||Vi.isTouch||d&&d.type==="focus"?0:bp(O.props.delay,ne?0:1,Ai.delay)}function G(ne){ne===void 0&&(ne=!1),K.style.pointerEvents=O.props.interactive&&!ne?"":"none",K.style.zIndex=""+O.props.zIndex}function le(ne,Fe,Ue){if(Ue===void 0&&(Ue=!0),M.forEach(function(gt){gt[ne]&&gt[ne].apply(gt,Fe)}),Ue){var at;(at=O.props)[ne].apply(at,Fe)}}function be(){var ne=O.props.aria;if(ne.content){var Fe="aria-"+ne.content,Ue=K.id,at=ws(O.props.triggerTarget||e);at.forEach(function(gt){var gn=gt.getAttribute(Fe);if(O.state.isVisible)gt.setAttribute(Fe,gn?gn+" "+Ue:Ue);else{var Kn=gn&&gn.replace(Ue,"").trim();Kn?gt.setAttribute(Fe,Kn):gt.removeAttribute(Fe)}})}}function Ee(){if(!(E||!O.props.aria.expanded)){var ne=ws(O.props.triggerTarget||e);ne.forEach(function(Fe){O.props.interactive?Fe.setAttribute("aria-expanded",O.state.isVisible&&Fe===q()?"true":"false"):Fe.removeAttribute("aria-expanded")})}}function Ce(){_e().removeEventListener("mousemove",b),Qu=Qu.filter(function(ne){return ne!==b})}function W(ne){if(!(Vi.isTouch&&(l||ne.type==="mousedown"))){var Fe=ne.composedPath&&ne.composedPath()[0]||ne.target;if(!(O.props.interactive&&w1(K,Fe))){if(ws(O.props.triggerTarget||e).some(function(Ue){return w1(Ue,Fe)})){if(Vi.isTouch||O.state.isVisible&&O.props.trigger.indexOf("click")>=0)return}else le("onClickOutside",[O,ne]);O.props.hideOnClick===!0&&(O.clearDelayTimeouts(),O.hide(),a=!0,setTimeout(function(){a=!1}),O.state.isMounted||ye())}}}function Q(){l=!0}function fe(){l=!1}function de(){var ne=_e();ne.addEventListener("mousedown",W,!0),ne.addEventListener("touchend",W,_o),ne.addEventListener("touchstart",fe,_o),ne.addEventListener("touchmove",Q,_o)}function ye(){var ne=_e();ne.removeEventListener("mousedown",W,!0),ne.removeEventListener("touchend",W,_o),ne.removeEventListener("touchstart",fe,_o),ne.removeEventListener("touchmove",Q,_o)}function Oe(ne,Fe){De(ne,function(){!O.state.isVisible&&K.parentNode&&K.parentNode.contains(K)&&Fe()})}function qe(ne,Fe){De(ne,Fe)}function De(ne,Fe){var Ue=$e().box;function at(gt){gt.target===Ue&&(wp(Ue,"remove",at),Fe())}if(ne===0)return Fe();wp(Ue,"remove",v),wp(Ue,"add",at),v=at}function ze(ne,Fe,Ue){Ue===void 0&&(Ue=!1);var at=ws(O.props.triggerTarget||e);at.forEach(function(gt){gt.addEventListener(ne,Fe,Ue),C.push({node:gt,eventType:ne,handler:Fe,options:Ue})})}function mt(){I()&&(ze("touchstart",P,{passive:!0}),ze("touchend",X,{passive:!0})),VH(O.props.trigger).forEach(function(ne){if(ne!=="manual")switch(ze(ne,P),ne){case"mouseenter":ze("mouseleave",X);break;case"focus":ze(t7?"focusout":"blur",ce);break;case"focusin":ze("focusout",ce);break}})}function vt(){C.forEach(function(ne){var Fe=ne.node,Ue=ne.eventType,at=ne.handler,gt=ne.options;Fe.removeEventListener(Ue,at,gt)}),C=[]}function P(ne){var Fe,Ue=!1;if(!(!O.state.isEnabled||Z(ne)||a)){var at=((Fe=d)==null?void 0:Fe.type)==="focus";d=ne,k=ne.currentTarget,Ee(),!O.state.isVisible&&GH(ne)&&Qu.forEach(function(gt){return gt(ne)}),ne.type==="click"&&(O.props.trigger.indexOf("mouseenter")<0||s)&&O.props.hideOnClick!==!1&&O.state.isVisible?Ue=!0:se(ne),ne.type==="click"&&(s=!Ue),Ue&&!at&&Te(ne)}}function j(ne){var Fe=ne.target,Ue=q().contains(Fe)||K.contains(Fe);if(!(ne.type==="mousemove"&&Ue)){var at=ke().concat(K).map(function(gt){var gn,Kn=gt._tippy,oi=(gn=Kn.popperInstance)==null?void 0:gn.state;return oi?{popperRect:gt.getBoundingClientRect(),popperState:oi,props:n}:null}).filter(Boolean);XH(at,ne)&&(Ce(),Te(ne))}}function X(ne){var Fe=Z(ne)||O.props.trigger.indexOf("click")>=0&&s;if(!Fe){if(O.props.interactive){O.hideWithInteractivity(ne);return}Te(ne)}}function ce(ne){O.props.trigger.indexOf("focusin")<0&&ne.target!==q()||O.props.interactive&&ne.relatedTarget&&K.contains(ne.relatedTarget)||Te(ne)}function Z(ne){return Vi.isTouch?I()!==ne.type.indexOf("touch")>=0:!1}function he(){Se();var ne=O.props,Fe=ne.popperOptions,Ue=ne.placement,at=ne.offset,gt=ne.getReferenceClientRect,gn=ne.moveTransition,Kn=F()?Tp(K).arrow:null,oi=gt?{getBoundingClientRect:gt,contextElement:gt.contextElement||q()}:e,$r={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Cn){var Qt=Cn.state;if(F()){var Va=$e(),Wa=Va.box;["placement","reference-hidden","escaped"].forEach(function(wo){wo==="placement"?Wa.setAttribute("data-placement",Qt.placement):Qt.attributes.popper["data-popper-"+wo]?Wa.setAttribute("data-"+wo,""):Wa.removeAttribute("data-"+wo)}),Qt.attributes.popper={}}}},Wi=[{name:"offset",options:{offset:at}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!gn}},$r];F()&&Kn&&Wi.push({name:"arrow",options:{element:Kn,padding:3}}),Wi.push.apply(Wi,(Fe==null?void 0:Fe.modifiers)||[]),O.popperInstance=iv(oi,K,Object.assign({},Fe,{placement:Ue,onFirstUpdate:m,modifiers:Wi}))}function Se(){O.popperInstance&&(O.popperInstance.destroy(),O.popperInstance=null)}function we(){var ne=O.props.appendTo,Fe,Ue=q();O.props.interactive&&ne===m1||ne==="parent"?Fe=Ue.parentNode:Fe=v1(ne,[Ue]),Fe.contains(K)||Fe.appendChild(K),O.state.isMounted=!0,he()}function ke(){return Ju(K.querySelectorAll("[data-tippy-root]"))}function se(ne){O.clearDelayTimeouts(),ne&&le("onTrigger",[O,ne]),de();var Fe=Le(!0),Ue=N(),at=Ue[0],gt=Ue[1];Vi.isTouch&&at==="hold"&&gt&&(Fe=gt),Fe?i=setTimeout(function(){O.show()},Fe):O.show()}function Te(ne){if(O.clearDelayTimeouts(),le("onUntrigger",[O,ne]),!O.state.isVisible){ye();return}if(!(O.props.trigger.indexOf("mouseenter")>=0&&O.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ne.type)>=0&&s)){var Fe=Le(!1);Fe?r=setTimeout(function(){O.state.isVisible&&O.hide()},Fe):o=requestAnimationFrame(function(){O.hide()})}}function Me(){O.state.isEnabled=!0}function te(){O.hide(),O.state.isEnabled=!1}function Ve(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function Je(ne){if(!O.state.isDestroyed){le("onBeforeUpdate",[O,ne]),vt();var Fe=O.props,Ue=S1(e,Object.assign({},Fe,C1(ne),{ignoreAttributes:!0}));O.props=Ue,mt(),Fe.interactiveDebounce!==Ue.interactiveDebounce&&(Ce(),b=y1(j,Ue.interactiveDebounce)),Fe.triggerTarget&&!Ue.triggerTarget?ws(Fe.triggerTarget).forEach(function(at){at.removeAttribute("aria-expanded")}):Ue.triggerTarget&&e.removeAttribute("aria-expanded"),Ee(),G(),h&&h(Fe,Ue),O.popperInstance&&(he(),ke().forEach(function(at){requestAnimationFrame(at._tippy.popperInstance.forceUpdate)})),le("onAfterUpdate",[O,ne])}}function pt(ne){O.setProps({content:ne})}function ft(){var ne=O.state.isVisible,Fe=O.state.isDestroyed,Ue=!O.state.isEnabled,at=Vi.isTouch&&!O.props.touch,gt=bp(O.props.duration,0,Ai.duration);if(!(ne||Fe||Ue||at)&&!q().hasAttribute("disabled")&&(le("onShow",[O],!1),O.props.onShow(O)!==!1)){if(O.state.isVisible=!0,F()&&(K.style.visibility="visible"),G(),de(),O.state.isMounted||(K.style.transition="none"),F()){var gn=$e(),Kn=gn.box,oi=gn.content;_p([Kn,oi],0)}m=function(){var Wi;if(!(!O.state.isVisible||f)){if(f=!0,K.offsetHeight,K.style.transition=O.props.moveTransition,F()&&O.props.animation){var ks=$e(),Cn=ks.box,Qt=ks.content;_p([Cn,Qt],gt),_1([Cn,Qt],"visible")}be(),Ee(),b1(xp,O),(Wi=O.popperInstance)==null||Wi.forceUpdate(),le("onMount",[O]),O.props.animation&&F()&&qe(gt,function(){O.state.isShown=!0,le("onShown",[O])})}},we()}}function Ot(){var ne=!O.state.isVisible,Fe=O.state.isDestroyed,Ue=!O.state.isEnabled,at=bp(O.props.duration,1,Ai.duration);if(!(ne||Fe||Ue)&&(le("onHide",[O],!1),O.props.onHide(O)!==!1)){if(O.state.isVisible=!1,O.state.isShown=!1,f=!1,s=!1,F()&&(K.style.visibility="hidden"),Ce(),ye(),G(!0),F()){var gt=$e(),gn=gt.box,Kn=gt.content;O.props.animation&&(_p([gn,Kn],at),_1([gn,Kn],"hidden"))}be(),Ee(),O.props.animation?F()&&Oe(at,O.unmount):O.unmount()}}function Wt(ne){_e().addEventListener("mousemove",b),b1(Qu,b),b(ne)}function $t(){O.state.isVisible&&O.hide(),O.state.isMounted&&(Se(),ke().forEach(function(ne){ne._tippy.unmount()}),K.parentNode&&K.parentNode.removeChild(K),xp=xp.filter(function(ne){return ne!==O}),O.state.isMounted=!1,le("onHidden",[O]))}function un(){O.state.isDestroyed||(O.clearDelayTimeouts(),O.unmount(),vt(),delete e._tippy,O.state.isDestroyed=!0,le("onDestroy",[O]))}}function Ha(e,t){t===void 0&&(t={});var n=Ai.plugins.concat(t.plugins||[]);QH();var i=Object.assign({},t,{plugins:n}),r=qH(e),o=r.reduce(function(s,a){var l=a&&u7(a,i);return l&&s.push(l),s},[]);return Zu(e)?o[0]:o}Ha.defaultProps=Ai,Ha.setDefaultProps=o7,Ha.currentInput=Vi,Object.assign({},Hm,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}}),Ha.setDefaultProps({render:L1});const{toClipboard:c7}=pj();onUiLoaded(()=>{const e=document.createElement("div");e.id="physton-prompt-all-in-one",pe.gradioApp().appendChild(e);const t=Rw(aj);t.config.globalProperties.$appMode=typeof APP_MODE<"u"&&APP_MODE,t.config.globalProperties.$toastr=cj,t.config.globalProperties.$copyText=c7,t.config.globalProperties.$tippyList=[],t.mixin($H),t.directive("animate",{mounted(n,i){n.classList.add("animate__animated",`animate__${i.value}`,"animate__faster")},updated(n,i){n.classList.remove(`animate__${i.oldValue}`),n.classList.add(`animate__${i.value}`)}}),t.directive("tooltip",{mounted(n,i){n.setAttribute("data-tippy-content",i.value);let r=n.getAttribute("unaffected");r=r===null?!1:r==="true";const o=Ha(n,{placement:"bottom",theme:"light",allowHTML:!0,onCreate(s,a){if(!i.value||r)return;s.enable(),localStorage.getItem("phystonPromptEnableTooltip")==="true"||s.disable()}});n.$tippyInstance=o,r||t.config.globalProperties.$tippyList.push(o)},updated(n,i){i.value?(n.setAttribute("data-tippy-content",i.value),n.$tippyInstance.setContent(i.value)):n.$tippyInstance.disable()}}),t.mount(e)})});
//# sourceMappingURL=main.entry.js.map
